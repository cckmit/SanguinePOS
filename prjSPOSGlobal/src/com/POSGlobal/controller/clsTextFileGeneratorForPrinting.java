//package com.POSGlobal.controller;
//
//import com.POSGlobal.view.frmShowTextFile;
//import java.awt.Dimension;
//import java.awt.print.PrinterJob;
//import java.awt.print.PrinterJob;
//import java.io.BufferedReader;
//import java.io.BufferedWriter;
//import java.io.File;
//import java.io.FileInputStream;
//import java.io.FileOutputStream;
//import java.io.FileReader;
//import java.io.FileWriter;
//import java.io.IOException;
//import java.io.InputStream;
//import java.io.InputStreamReader;
//import java.io.OutputStreamWriter;
//import java.io.PrintWriter;
//import java.io.RandomAccessFile;
//import java.net.InetAddress;
//import java.nio.file.Files;
//import java.nio.file.Paths;
//import java.nio.file.StandardOpenOption;
//import java.sql.PreparedStatement;
//import java.sql.ResultSet;
//import java.text.DecimalFormat;
//import java.text.NumberFormat;
//import java.text.SimpleDateFormat;
//import java.util.ArrayList;
//import java.util.HashMap;
//import java.util.Iterator;
//import java.util.List;
//import java.util.Map;
//import java.util.Scanner;
//
//import javax.print.Doc;
//import javax.print.DocFlavor;
//import javax.print.DocPrintJob;
//import javax.print.PrintService;
//import javax.print.PrintServiceLookup;
//import javax.print.SimpleDoc;
//import javax.print.attribute.Attribute;
//import javax.print.attribute.DocAttributeSet;
//import javax.print.attribute.HashDocAttributeSet;
//import javax.print.attribute.HashPrintRequestAttributeSet;
//import javax.print.attribute.HashPrintServiceAttributeSet;
//import javax.print.attribute.PrintRequestAttributeSet;
//import javax.print.attribute.PrintServiceAttributeSet;
//import javax.print.attribute.standard.Copies;
//import javax.print.attribute.standard.MediaSizeName;
//import javax.print.attribute.standard.PrinterName;
//import javax.print.event.PrintJobAdapter;
//import javax.print.event.PrintJobEvent;
//import javax.print.event.PrintJobListener;
//import javax.swing.JDialog;
//import javax.swing.JFrame;
//import javax.swing.JOptionPane;
//import net.sf.jasperreports.engine.JRException;
//import net.sf.jasperreports.engine.JRExporterParameter;
//import net.sf.jasperreports.engine.JasperFillManager;
//import net.sf.jasperreports.engine.JasperPrint;
//import net.sf.jasperreports.engine.data.JRBeanCollectionDataSource;
//import net.sf.jasperreports.engine.export.JRPrintServiceExporter;
//import net.sf.jasperreports.engine.export.JRPrintServiceExporterParameter;
//import net.sf.jasperreports.swing.JRViewer;
//
//public class clsTextFileGeneratorForPrinting
//{
//
//    private String KOTType, sql;
//    ResultSet rsBillPrint;
//
//    private final String Line = "  --------------------------------------";
//    private DecimalFormat objFormat = new DecimalFormat("######.##");
//    private DecimalFormat decimalFormatFor2DecPoint = new DecimalFormat("0.00");
//    private DecimalFormat decimalFormatFor3DecPoint = new DecimalFormat("0.000");
//    clsUtility objUtility = new clsUtility();
//
//    /**
//     *
//     * @param tableNo
//     * @param KOTNo
//     * @param billNo
//     * @param reprint
//     * @param type
//     */
//    public void funRemotePrintUsingTextFile(String tableNo, String KOTNo, String billNo, String reprint, String type, String printYN)
//    {
//        try
//        {
//            String sql = "";
//            PreparedStatement pst = null;
//            String ncKOTYN = "N";
//
//            clsTextFileGenerationForPrinting2 objGenerationForPrinting2 = new clsTextFileGenerationForPrinting2();
//
//            switch (type)
//            {
//                case "Dina":
//
//                    String areaCodeForAll = "";
//                    String sql_AreaCode = "select strAreaCode from tblareamaster where strAreaName='All';";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_AreaCode);
//                    ResultSet rsAreaCode = pst.executeQuery();
//                    if (rsAreaCode.next())
//                    {
//                        areaCodeForAll = rsAreaCode.getString(1);
//                    }
//                    rsAreaCode.close();
//                    sql = "select a.strItemName,a.strNCKotYN,d.strCostCenterCode,d.strPrimaryPrinterPort,d.strSecondaryPrinterPort,d.strCostCenterName "
//                            + " ,ifnull(e.strLabelOnKOT,'KOT') strLabelOnKOT "
//                            + " from tblitemrtemp a "
//                            + " left outer join tblmenuitempricingdtl c on a.strItemCode = c.strItemCode "
//                            + " left outer join tblprintersetup d on c.strCostCenterCode=d.strCostCenterCode "
//                            + " left outer join tblcostcentermaster e on c.strCostCenterCode=e.strCostCenterCode  "
//                            + " where a.strKOTNo=? and a.strTableNo=? and (c.strPosCode=? or c.strPosCode='All') "
//                            + " and (c.strAreaCode IN (SELECT strAreaCode FROM tbltablemaster where strTableNo=? ) "
//                            + " OR c.strAreaCode =?) "
//                            + " group by d.strCostCenterCode";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql);
//                    pst.setString(1, KOTNo);
//                    pst.setString(2, tableNo);
//                    pst.setString(3, clsGlobalVarClass.gPOSCode);
//                    pst.setString(4, tableNo);
//                    pst.setString(5, areaCodeForAll);
//                    ResultSet rsPrint = pst.executeQuery();
//                    while (rsPrint.next())
//                    {
//
//                        ncKOTYN = rsPrint.getString(2);//NC KOT YN
//
//                        // funGenerateTextFileForKOT("Dina", tableNo, rsPrint.getString(3), "", areaCodeForAll, KOTNo, reprint, rsPrint.getString(4), rsPrint.getString(5), rsPrint.getString(6), printYN, rsPrint.getString(2));
//                        if (clsGlobalVarClass.gPrintType.equals("Jasper"))
//                        {
//                            funGenerateJasperForTableWiseKOT("Dina", tableNo, rsPrint.getString(3), "", areaCodeForAll, KOTNo, reprint, rsPrint.getString(4), rsPrint.getString(5), rsPrint.getString(6), printYN, rsPrint.getString(2), rsPrint.getString(7));
//                        }
//                        else if (clsGlobalVarClass.gClientCode.equalsIgnoreCase("171.001") && clsGlobalVarClass.gPrintType.equals("Text File"))//china grill-pimpri menu head wise items kot format
//                        {
//                            objGenerationForPrinting2.funGenerateTextKOTForMakeKOTForMenuHeadWise(tableNo, rsPrint.getString(3), areaCodeForAll, KOTNo, reprint, rsPrint.getString(4), rsPrint.getString(5), rsPrint.getString(6), printYN, rsPrint.getString(2), rsPrint.getString(7));
//                        }
//                        else //if (clsGlobalVarClass.gPrintType.equals("Text File"))//default kot format
//                        {
//                            funGenerateTextFileForTableWiseKOT(tableNo, rsPrint.getString(3), areaCodeForAll, KOTNo, reprint, rsPrint.getString(4), rsPrint.getString(5), rsPrint.getString(6), printYN, rsPrint.getString(2), rsPrint.getString(7));
//                        }
//
//                    }
//                    rsPrint.close();
//                    pst.close();
//
//                    if (clsGlobalVarClass.gConsolidatedKOTPrinterPort.length() > 0)//print consolidated KOT only if it set
//                    {
//                        if (printYN.equalsIgnoreCase("Y") && ncKOTYN.equalsIgnoreCase("N"))//print consolidated KOT only if it is not NC KOT
//                        {
//                            clsTextFileGenerationForPrinting2 objFileGenerationForPrinting2 = new clsTextFileGenerationForPrinting2();
//                            objFileGenerationForPrinting2.funConsolidatedKOTForMakeKOTTextFileGeneration(tableNo, KOTNo);
//                        }
//                    }
//                    break;
//
//                case "DirectBiller":
//
//                    sql = "select a.strItemName,c.strCostCenterCode,c.strPrimaryPrinterPort "
//                            + ",c.strSecondaryPrinterPort,c.strCostCenterName,d.strLabelOnKOT "
//                            + " from tblbilldtl  a,tblmenuitempricingdtl b,tblprintersetup c,tblcostcentermaster d   "
//                            + " where a.strBillNo=? "
//                            + " and  a.strItemCode=b.strItemCode "
//                            + " and b.strCostCenterCode=c.strCostCenterCode "
//                            + " and b.strCostCenterCode=d.strCostCenterCode "
//                            + " and (b.strPosCode=? or b.strPosCode='All') "
//                            + " group by c.strCostCenterCode;";
//
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql);
//                    pst.setString(1, billNo);
//                    pst.setString(2, clsGlobalVarClass.gPOSCode);
//                    ResultSet rsPrintDirect = pst.executeQuery();
//                    while (rsPrintDirect.next())
//                    {
//                        //funGenerateTextFileForKOTDirectBiller(rsPrintDirect.getString(2), "", clsGlobalVarClass.gDirectAreaCode, billNo, reprint, rsPrintDirect.getString(3), rsPrintDirect.getString(4), rsPrintDirect.getString(5));
//                        if (clsGlobalVarClass.gPrintType.equals("Jasper"))
//                        {
//                            funGenerateJasperForKOTDirectBiller(rsPrintDirect.getString(2), "", clsGlobalVarClass.gDirectAreaCode, billNo, reprint, rsPrintDirect.getString(3), rsPrintDirect.getString(4), rsPrintDirect.getString(5), rsPrintDirect.getString(6));
//                        }
//                        else if (clsGlobalVarClass.gClientCode.equalsIgnoreCase("171.001") && clsGlobalVarClass.gPrintType.equals("Text File"))//menu head wise items kot format
//                        {
//                            funGenerateTextFileForKOTDirectBiller(rsPrintDirect.getString(2), clsGlobalVarClass.gDirectAreaCode, billNo, reprint, rsPrintDirect.getString(3), rsPrintDirect.getString(4), rsPrintDirect.getString(5), rsPrintDirect.getString(6));
//                        }
//                        else //if(clsGlobalVarClass.gPrintType.equals("Text File"))//default kot format
//                        {
//                            funGenerateTextFileForKOTDirectBiller(rsPrintDirect.getString(2), clsGlobalVarClass.gDirectAreaCode, billNo, reprint, rsPrintDirect.getString(3), rsPrintDirect.getString(4), rsPrintDirect.getString(5), rsPrintDirect.getString(6));
//                        }
//
//                    }
//                    rsPrintDirect.close();
//                    pst.close();
//
//                    if (printYN.equalsIgnoreCase("Y"))//print consolidated KOT 
//                    {
//                        clsTextFileGenerationForPrinting2 objFileGenerationForPrinting2 = new clsTextFileGenerationForPrinting2();
//                        objFileGenerationForPrinting2.funConsolidatedKOTForDirectBillerTextFileGeneration(billNo);
//                    }
//
//                    break;
//            }
//        }
//        catch (Exception e)
//        {
//            clsUtility objUtility = new clsUtility();
//            objUtility.funShowErrorMessage(e);
//            objUtility = null;
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateTextFileForMoveKOTItemsToTable(String tableNo, String costCenterCode, String areaCode, String KOTNO, String reprint, String primaryPrinterName, String secondaryPrinterName, String costCenterName, String printYN, String NCKotYN, String previousTableName)
//    {
//        try
//        {
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File fileKOTPrint = new File(filePath + "/Temp/Temp_KOT.txt");
//            FileWriter fstream = new FileWriter(fileKOTPrint);
//            BufferedWriter KotOut = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(fileKOTPrint), "UTF8"));
//
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", KotOut);
//                KotOut.write("[DUPLICATE]");
//                KotOut.newLine();
//            }
//
//            if ("Y".equalsIgnoreCase(NCKotYN))
//            {
//                funPrintBlankSpace("NCKOT", KotOut);
//                KotOut.write("NCKOT");
//                KotOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace("KOT", KotOut);
//                KotOut.write("KOT");
//                KotOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gPOSName, KotOut);
//            KotOut.write(clsGlobalVarClass.gPOSName);
//            KotOut.newLine();
//            funPrintBlankSpace(costCenterName, KotOut);
//            KotOut.write(costCenterName);
//            KotOut.newLine();
//
//            KOTType = "DINE";
//            if (null != clsGlobalVarClass.hmTakeAway.get(tableNo))
//            {
//                KOTType = "Take Away";
//            }
//            funPrintBlankSpace(KOTType, KotOut);
//            KotOut.write(KOTType);
//            KotOut.newLine();
//
//            if (clsGlobalVarClass.gCounterWise.equals("Yes"))
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCounterName, KotOut);
//                KotOut.write(clsGlobalVarClass.gCounterName);
//                KotOut.newLine();
//            }
//
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write("  KOT NO     :");
//            KotOut.write(KOTNO + "  ");
//            KotOut.newLine();
//
//            String tableName = "";
//            String sqlKOTDtl = "select a.strWaiterNo,b.strTableName,b.intPaxNo,c.strWShortName,date(a.dteDateCreated),time(a.dteDateCreated) "
//                    + " from tblitemrtemp a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                    + " and b.strOperational='Y' "
//                    + " left outer join tblwaitermaster c on a.strWaiterNo=c.strWaiterNo "
//                    + " where a.strKOTNo=? and a.strTableNo=? group by a.strKOTNo ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlKOTDtl);
//            pst.setString(1, KOTNO);
//            pst.setString(2, tableNo);
//            ResultSet rsKOTDetails = pst.executeQuery();
//            if (rsKOTDetails.next())
//            {
//                tableName = rsKOTDetails.getString(2);
//                if (clsGlobalVarClass.gClientCode.equalsIgnoreCase("136.001"))//KINKI
//                {
//                    KotOut.write("  TABLE No   :");
//                }
//                else
//                {
//                    KotOut.write("  TABLE NAME :");
//                }
//                KotOut.write(rsKOTDetails.getString(2) + "  ");
//                KotOut.write(" PAX   :");
//                KotOut.write(rsKOTDetails.getString(3));
//                KotOut.newLine();
//
//                if (!rsKOTDetails.getString(4).trim().isEmpty())
//                {
//                    KotOut.write("  WAITER NAME:" + "   " + rsKOTDetails.getString(4));
//                    KotOut.newLine();
//                }
//                KotOut.write("  DATE & TIME:" + rsKOTDetails.getString(5) + " " + rsKOTDetails.getString(6));
//            }
//            rsKOTDetails.close();
//
//            KotOut.newLine();
//            if ("Y".equalsIgnoreCase(NCKotYN))
//            {
//                String sql = "select a.strRemark from tblnonchargablekot a where a.strKOTNo='" + KOTNO + "' "
//                        + "group by a.strKOTNo ";
//                ResultSet rsRemark = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsRemark.next() && rsRemark.getString(1).trim().length() > 0)
//                {
//                    KotOut.write("  Remark     :" + rsRemark.getString(1));
//                }
//                rsRemark.close();
//            }
//
//            InetAddress ipAddress = InetAddress.getLocalHost();
//            String hostName = ipAddress.getHostName();
//            KotOut.newLine();
//            KotOut.write("  KOT From Computer:" + hostName);
//            KotOut.newLine();
//            KotOut.write("  KOT By User      :" + clsGlobalVarClass.gUserCode);
//            KotOut.newLine();
//
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write("  QTY         ITEM NAME  ");
//            KotOut.newLine();
//            KotOut.write(Line);
//
//            // Code to Print KOT Item details    
//            String sqlKOTItems = "";
//            if (clsGlobalVarClass.gAreaWisePricing.equals("Y"))
//            {
//                sqlKOTItems = "select LEFT(a.strItemCode,7),b.strItemName,a.dblItemQuantity,a.strKOTNo,a.strSerialNo,d.strShortName "
//                        + " from tblitemrtemp a,tblmenuitempricingdtl b,tblprintersetup c,tblitemmaster d "
//                        + " where a.strTableNo=? and a.strKOTNo=? and b.strCostCenterCode=c.strCostCenterCode "
//                        + " and b.strCostCenterCode=? and a.strItemCode=d.strItemCode "
//                        + " and (b.strPOSCode=? or b.strPOSCode='All') "
//                        + " and (b.strAreaCode IN (SELECT strAreaCode FROM tbltablemaster where strTableNo=? )) "
//                        + " and LEFT(a.strItemCode,7)=b.strItemCode and b.strHourlyPricing='No' "
//                        + " order by a.strSerialNo ";
//            }
//            else
//            {
//                sqlKOTItems = "select LEFT(a.strItemCode,7),b.strItemName,a.dblItemQuantity,a.strKOTNo,a.strSerialNo,d.strShortName "
//                        + " from tblitemrtemp a,tblmenuitempricingdtl b,tblprintersetup c,tblitemmaster d "
//                        + " where a.strTableNo=? and a.strKOTNo=? and b.strCostCenterCode=c.strCostCenterCode "
//                        + " and b.strCostCenterCode=? and a.strItemCode=d.strItemCode "
//                        + " and (b.strPOSCode=? or b.strPOSCode='All') "
//                        + " and (b.strAreaCode IN (SELECT strAreaCode FROM tbltablemaster where strTableNo=? ) "
//                        + " OR b.strAreaCode ='" + areaCode + "') "
//                        + " and LEFT(a.strItemCode,7)=b.strItemCode and b.strHourlyPricing='No' "
//                        + " order by a.strSerialNo ";
//            }
//            //System.out.println(sqlKOTItems);
//            PreparedStatement pstKOTItems = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlKOTItems);
//            pstKOTItems.setString(1, tableNo);
//            pstKOTItems.setString(2, KOTNO);
//            pstKOTItems.setString(3, costCenterCode);
//            pstKOTItems.setString(4, clsGlobalVarClass.gPOSCode);
//            pstKOTItems.setString(5, tableNo);
//            //pst_KOT_Items.setString(5, AreaCode);
//
//            String movedItemName = "";
//            ResultSet rsKOTItems = pstKOTItems.executeQuery();
//            while (rsKOTItems.next())
//            {
//
//                String itemName = rsKOTItems.getString(2);//full name
//                if (clsGlobalVarClass.gPrintShortNameOnKOT)
//                {
//                    itemName = rsKOTItems.getString(6);//short name
//                }
//
//                if (itemName.trim().isEmpty())
//                {
//                    itemName = rsKOTItems.getString(2);//full name
//                }
//
//                KotOut.newLine();
//                String itemqty = rsKOTItems.getString(3);
//                if (itemqty.length() == 5)
//                {
//                    KotOut.write(" " + rsKOTItems.getString(3) + "       " + itemName);
//                }
//                else if (itemqty.length() == 4)
//                {
//                    KotOut.write("  " + rsKOTItems.getString(3) + "       " + itemName);
//                }
//                else if (itemqty.length() == 6)
//                {
//                    KotOut.write("" + rsKOTItems.getString(3) + "       " + itemName);
//                }
//                if (movedItemName.isEmpty())
//                {
//                    movedItemName = rsKOTItems.getString(2);
//                }
//                else
//                {
//                    movedItemName = movedItemName + "," + itemName;
//                }
//
//                String sqlModifier = "select a.strItemName,sum(a.dblItemQuantity) from tblitemrtemp a "
//                        + " where a.strItemCode like'" + rsKOTItems.getString(1) + "M%' and a.strKOTNo='" + KOTNO + "' "
//                        + " and strSerialNo like'" + rsKOTItems.getString(5) + ".%' "
//                        + " group by a.strItemCode,a.strItemName ";
//                //System.out.println(sqlModifier);
//                ResultSet rsModifierItems = clsGlobalVarClass.dbMysql.executeResultSet(sqlModifier);
//                while (rsModifierItems.next())
//                {
//                    String modQty = rsModifierItems.getString(2);
//                    String modifierName = rsModifierItems.getString(1);
//                    if (modifierName.startsWith("-->"))
//                    {
//                        KotOut.newLine();
//                        if (clsGlobalVarClass.gPrintModQtyOnKOT)
//                        {
//                            if (modQty.length() == 5)
//                            {
//                                KotOut.write(" " + rsModifierItems.getString(2) + "       " + rsModifierItems.getString(1));
//                            }
//                            else if (modQty.length() == 4)
//                            {
//                                KotOut.write("  " + rsModifierItems.getString(2) + "       " + rsModifierItems.getString(1));
//                            }
//                            else if (modQty.length() == 6)
//                            {
//                                KotOut.write("" + rsModifierItems.getString(2) + "       " + rsModifierItems.getString(1));
//                            }
//                        }
//                        else
//                        {
//                            if (modQty.length() == 5)
//                            {
//                                KotOut.write("               " + rsModifierItems.getString(1));
//                            }
//                            else if (modQty.length() == 4)
//                            {
//                                KotOut.write("                " + rsModifierItems.getString(1));
//                            }
//                            else if (modQty.length() == 6)
//                            {
//                                KotOut.write("              " + rsModifierItems.getString(1));
//                            }
//                        }
//                    }
//                }
//            }
//            rsKOTItems.close();
//            pstKOTItems.close();
//
//            KotOut.newLine();
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.newLine();
//            KotOut.newLine();
//            String note = "Note:- Item " + " " + movedItemName + " shifted from table " + previousTableName + " to " + tableName;
//            String note1 = "";
//            int strlen = note.length();
//            int start = 0;
//            int end = 38;
//            int cnt = 0;
//            if (strlen > 38)
//            {
//                double div = strlen / 38;
//                String[] spCount = String.valueOf(div).split("\\.");
//                cnt = Integer.parseInt(spCount[0]);
//            }
//            if (cnt > 0)
//            {
//                for (int i = 0; i < cnt + 1; i++)
//                {
//                    int j = i + 1;
//                    if ((end * j) > strlen)
//                    {
//                        note1 = note.substring(start);
//                        if (!note1.isEmpty())
//                        {
//                            KotOut.write("  " + note1);
//                            KotOut.newLine();
//                        }
//                    }
//                    else
//                    {
//                        note1 = note.substring(start, (end * j));
//                        if (!note1.isEmpty())
//                        {
//                            KotOut.write("  " + note1);
//                            KotOut.newLine();
//                        }
//                        start = (end * j);
//                    }
//                }
//            }
//            else
//            {
//                KotOut.write(note);
//                KotOut.newLine();
//            }
//
//            KotOut.newLine();
//            for (int cntLines = 0; cntLines < Integer.parseInt(clsGlobalVarClass.gNoOfLinesInKOTPrint); cntLines++)
//            {
//                KotOut.newLine();
//            }
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                KotOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    KotOut.write("V");
//                }
//                else
//                {
//                    KotOut.write("m");//windows
//                }
//            }
//
//            KotOut.close();
//            fstream.close();
//            pst.close();
//            //System.out.println("PP="+primaryPrinterName);
//            //System.out.println("SP="+secondaryPrinterName);
//            //System.out.println("PRINT="+printYN);
//
//            if ("Reprint".equalsIgnoreCase(reprint))
//            {
//                funShowTextFile(fileKOTPrint, "", "");
//            }
//
//            if (clsGlobalVarClass.gShowBill)
//            {
//                funShowTextFile(fileKOTPrint, "", "Printer Info!2");
//            }
//
//            if (printYN.equals("Y"))
//            {
//                sql = "select strPrintOnBothPrinters from tblcostcentermaster where strCostCenterCode='" + costCenterCode + "' ";
//                ResultSet rsCostCenter = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsCostCenter.next())
//                {
//                    funPrintToPrinter(primaryPrinterName, secondaryPrinterName, "kot", rsCostCenter.getString(1), isReprint);
//                }
//                rsCostCenter.close();
//            }
//
//        }
//        catch (Exception e)
//        {
//            JOptionPane.showMessageDialog(null, "KOT Printing Error:" + e.getMessage());
//            e.printStackTrace();
//        }
//    }
//
//    private void funGenerateTextFileForTableWiseKOT(String tableNo, String costCenterCode, String areaCode, String KOTNO, String Reprint, String primaryPrinterName, String secondaryPrinterName, String costCenterName, String printYN, String NCKotYN, String labelOnKOT)
//    {
//        try
//        {
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File fileKOTPrint = new File(filePath + "/Temp/Temp_KOT.txt");
//            FileWriter fstream = new FileWriter(fileKOTPrint);
//            BufferedWriter KotOut = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(fileKOTPrint), "UTF8"));
//
//            DecimalFormat decimalFormat = new DecimalFormat("#.###");
//
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(Reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", KotOut);
//                KotOut.write("[DUPLICATE]");
//                KotOut.newLine();
//            }
//
//            if ("Y".equalsIgnoreCase(NCKotYN))
//            {
//                funPrintBlankSpace("NCKOT", KotOut);
//                KotOut.write("NCKOT");
//                KotOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(labelOnKOT, KotOut);//write KOT
//                KotOut.write(labelOnKOT);//write KOT
//                KotOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gPOSName, KotOut);
//            KotOut.write(clsGlobalVarClass.gPOSName);
//            KotOut.newLine();
//            funPrintBlankSpace(costCenterName, KotOut);
//            KotOut.write(costCenterName);
//            KotOut.newLine();
//
//            KOTType = "DINE";
//            if (null != clsGlobalVarClass.hmTakeAway.get(tableNo))
//            {
//                KOTType = "Take Away";
//            }
//            funPrintBlankSpace(KOTType, KotOut);
//            KotOut.write(KOTType);
//            KotOut.newLine();
//
//            if (clsGlobalVarClass.gCounterWise.equals("Yes"))
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCounterName, KotOut);
//                KotOut.write(clsGlobalVarClass.gCounterName);
//                KotOut.newLine();
//            }
//
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write("  KOT NO     :");
//            KotOut.write(KOTNO + "  ");
//            KotOut.newLine();
//
//            String sqlKOTDtl = "select a.strWaiterNo,b.strTableName,b.intPaxNo,ifnull(c.strWShortName,''),a.dteDateCreated,TIME_FORMAT(TIME(a.dteDateCreated),'%h:%i')  "
//                    + " from tblitemrtemp a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                    + " and b.strOperational='Y' "
//                    + " left outer join tblwaitermaster c on a.strWaiterNo=c.strWaiterNo "
//                    + " where a.strKOTNo=? and a.strTableNo=? group by a.strKOTNo ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlKOTDtl);
//            pst.setString(1, KOTNO);
//            pst.setString(2, tableNo);
//            ResultSet rsKOTDetails = pst.executeQuery();
//
//            String tableNoForConsolidatedKOT = tableNo;
//            String waiterNameForConsolidatedKOT = "";
//
//            if (rsKOTDetails.next())
//            {
//                if (clsGlobalVarClass.gClientCode.equalsIgnoreCase("136.001"))//KINKI
//                {
//                    KotOut.write("  TABLE No   :");
//                }
//                else
//                {
//                    KotOut.write("  TABLE NAME :");
//                }
//                KotOut.write(rsKOTDetails.getString(2) + "  ");
//                KotOut.write(" PAX   :");
//                KotOut.write(rsKOTDetails.getString(3));
//                KotOut.newLine();
//
//                if (!rsKOTDetails.getString(4).trim().isEmpty())
//                {
//                    waiterNameForConsolidatedKOT = rsKOTDetails.getString(4);
//                    KotOut.write("  WAITER NAME:" + "   " + rsKOTDetails.getString(4));
//                    KotOut.newLine();
//                }
//                SimpleDateFormat dateTimeFormat = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                KotOut.write("  DATE & TIME:" + dateTimeFormat.format(rsKOTDetails.getObject(5)));
//            }
//            rsKOTDetails.close();
//
//            KotOut.newLine();
//            if ("Y".equalsIgnoreCase(NCKotYN))
//            {
//                String sql = "select a.strRemark from tblnonchargablekot a where a.strKOTNo='" + KOTNO + "' "
//                        + "group by a.strKOTNo ";
//                ResultSet rsRemark = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsRemark.next() && rsRemark.getString(1).trim().length() > 0)
//                {
//                    KotOut.write("  Remark     :" + rsRemark.getString(1));
//                }
//            }
//
//            InetAddress ipAddress = InetAddress.getLocalHost();
//            String hostName = ipAddress.getHostName();
//            KotOut.newLine();
//            KotOut.write("  KOT From Computer:" + hostName);
//            KotOut.newLine();
//            KotOut.write("  KOT By User      :" + clsGlobalVarClass.gUserCode);
//            KotOut.newLine();
//
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write("  QTY         ITEM NAME  ");
//            KotOut.newLine();
//            KotOut.write(Line);
//
//            // Code to Print KOT Item details    
//            String sqlKOTItems = "";
//
//            if (clsGlobalVarClass.gAreaWisePricing.equals("Y"))
//            {
//                sqlKOTItems = "select LEFT(a.strItemCode,7),b.strItemName,a.dblItemQuantity,a.strKOTNo,a.strSerialNo,d.strShortName "
//                        + " from tblitemrtemp a,tblmenuitempricingdtl b,tblprintersetup c,tblitemmaster d "
//                        + " where a.strTableNo=? and a.strKOTNo=? and b.strCostCenterCode=c.strCostCenterCode "
//                        + " and b.strCostCenterCode=? and a.strItemCode=d.strItemCode "
//                        + " and (b.strPOSCode=? or b.strPOSCode='All') "
//                        + " and (b.strAreaCode IN (SELECT strAreaCode FROM tbltablemaster where strTableNo=? )) "
//                        + " and LEFT(a.strItemCode,7)=b.strItemCode and b.strHourlyPricing='No' "
//                        + " order by a.strSerialNo ";
//            }
//            else
//            {
//                sqlKOTItems = "select LEFT(a.strItemCode,7),b.strItemName,a.dblItemQuantity,a.strKOTNo,a.strSerialNo,d.strShortName "
//                        + " from tblitemrtemp a,tblmenuitempricingdtl b,tblprintersetup c,tblitemmaster d "
//                        + " where a.strTableNo=? and a.strKOTNo=? and b.strCostCenterCode=c.strCostCenterCode "
//                        + " and b.strCostCenterCode=? and a.strItemCode=d.strItemCode "
//                        + " and (b.strPOSCode=? or b.strPOSCode='All') "
//                        + " and (b.strAreaCode IN (SELECT strAreaCode FROM tbltablemaster where strTableNo=? ) "
//                        + " OR b.strAreaCode ='" + areaCode + "') "
//                        + " and LEFT(a.strItemCode,7)=b.strItemCode and b.strHourlyPricing='No' "
//                        + " order by a.strSerialNo ";
//            }
//            //System.out.println(sqlKOTItems);
//            PreparedStatement pstKOTItems = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlKOTItems);
//            pstKOTItems.setString(1, tableNo);
//            pstKOTItems.setString(2, KOTNO);
//            pstKOTItems.setString(3, costCenterCode);
//            pstKOTItems.setString(4, clsGlobalVarClass.gPOSCode);
//            pstKOTItems.setString(5, tableNo);
//            //pst_KOT_Items.setString(5, AreaCode);
//
//            int noOfCharsToBePrinted = 30;
//            int noOfCharsToBePrintedX2 = noOfCharsToBePrinted * 2;
//            int qtyWidth = 6;
//            int qtyLeftSpace = 3;
//
//            ResultSet rsKOTItems = pstKOTItems.executeQuery();
//            while (rsKOTItems.next())
//            {
//
//                String kotItemName = rsKOTItems.getString(2);//full name
//                if (clsGlobalVarClass.gPrintShortNameOnKOT && !rsKOTItems.getString(6).trim().isEmpty())
//                {
//                    kotItemName = rsKOTItems.getString(6);//short name
//                }
//
//                KotOut.newLine();
//
//                String itemqty = decimalFormat.format(rsKOTItems.getDouble(3));
//
//                KotOut.write("   " + String.format("%-" + qtyWidth + "s", itemqty) + "");
//
//                if (kotItemName.length() <= noOfCharsToBePrinted)
//                {
//                    KotOut.write(kotItemName.trim());
//                }
//                else
//                {
//                    if (kotItemName.length() >= noOfCharsToBePrintedX2)
//                    {
//                        KotOut.write(kotItemName.substring(0, noOfCharsToBePrinted).trim());
//                        KotOut.newLine();
//                        KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + kotItemName.substring(noOfCharsToBePrinted, noOfCharsToBePrintedX2).trim());
//
//                        KotOut.newLine();
//                        KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + kotItemName.substring(noOfCharsToBePrintedX2, kotItemName.length()).trim());
//                    }
//                    else
//                    {
//                        KotOut.write(kotItemName.substring(0, noOfCharsToBePrinted).trim());
//                        KotOut.newLine();
//                        KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + kotItemName.substring(noOfCharsToBePrinted, kotItemName.length()).trim());
//                    }
//                }
//
//                String sqlModifier = "select a.strItemName,sum(a.dblItemQuantity) from tblitemrtemp a "
//                        + " where a.strItemCode like'" + rsKOTItems.getString(1) + "M%' and a.strKOTNo='" + KOTNO + "' "
//                        + " and strSerialNo like'" + rsKOTItems.getString(5) + ".%' "
//                        + " group by a.strItemCode,a.strItemName ";
//                //System.out.println(sqlModifier);
//                ResultSet rsModifierItems = clsGlobalVarClass.dbMysql.executeResultSet(sqlModifier);
//                while (rsModifierItems.next())
//                {
//
//                    String modQty = decimalFormat.format(rsModifierItems.getDouble(2));//rsModifierItems.getString(2);
//                    int modQtyLength = modQty.length();
//
//                    String modifierName = rsModifierItems.getString(1);
//                    if (modifierName.startsWith("-->"))
//                    {
//                        if (modifierName.length() <= noOfCharsToBePrinted)
//                        {
//                            if (clsGlobalVarClass.gPrintModQtyOnKOT)
//                            {
//                                KotOut.newLine();
//                                KotOut.write("   " + String.format("%-" + qtyWidth + "s", modQty) + "" + modifierName.trim());
//                            }
//                            else
//                            {
//                                KotOut.newLine();
//                                KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + modifierName.trim());
//                            }
//                        }
//                        else
//                        {
//                            if (clsGlobalVarClass.gPrintModQtyOnKOT)
//                            {
//                                if (modifierName.length() >= noOfCharsToBePrintedX2)
//                                {
//                                    KotOut.newLine();
//                                    KotOut.write("   " + String.format("%-" + qtyWidth + "s", modQty) + "" + modifierName.substring(0, noOfCharsToBePrinted).trim());
//                                    KotOut.newLine();
//                                    KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + modifierName.substring(noOfCharsToBePrinted, noOfCharsToBePrintedX2).trim());
//                                    KotOut.newLine();
//                                    KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + modifierName.substring(noOfCharsToBePrintedX2, modifierName.length()).trim());
//                                }
//                                else
//                                {
//                                    KotOut.newLine();
//                                    KotOut.write("   " + String.format("%-" + qtyWidth + "s", modQty) + "" + modifierName.substring(0, noOfCharsToBePrinted).trim());
//                                    KotOut.newLine();
//                                    KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + modifierName.substring(noOfCharsToBePrinted, modifierName.length()).trim());
//                                }
//                            }
//                            else
//                            {
//                                if (modifierName.length() >= noOfCharsToBePrintedX2)
//                                {
//                                    KotOut.newLine();
//                                    KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + modifierName.substring(0, noOfCharsToBePrinted).trim());
//                                    KotOut.newLine();
//                                    KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + modifierName.substring(noOfCharsToBePrinted, noOfCharsToBePrintedX2).trim());
//                                    KotOut.newLine();
//                                    KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + modifierName.substring(noOfCharsToBePrintedX2, modifierName.length()).trim());
//                                }
//                                else
//                                {
//                                    KotOut.newLine();
//                                    KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + modifierName.substring(0, noOfCharsToBePrinted).trim());
//                                    KotOut.newLine();
//                                    KotOut.write("   " + String.format("%-" + qtyWidth + "s", "") + "" + modifierName.substring(noOfCharsToBePrinted, modifierName.length()).trim());
//                                }
//                            }
//                        }
//
//                    }
//                }
//            }
//            rsKOTItems.close();
//            pstKOTItems.close();
//
//            KotOut.newLine();
//            KotOut.write(Line);
//            for (int cntLines = 0; cntLines < Integer.parseInt(clsGlobalVarClass.gNoOfLinesInKOTPrint); cntLines++)
//            {
//                KotOut.newLine();
//            }
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                KotOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    KotOut.write("V");
//                }
//                else
//                {
//                    KotOut.write("m");//windows
//                }
//            }
//
//            KotOut.close();
//            fstream.close();
//            pst.close();
//            //System.out.println("PP="+primaryPrinterName);
//            //System.out.println("SP="+secondaryPrinterName);
//            //System.out.println("PRINT="+printYN);
//
//            if ("Reprint".equalsIgnoreCase(Reprint))
//            {
//                funShowTextFile(fileKOTPrint, "", "");
//            }
//
//            if (clsGlobalVarClass.gShowBill)
//            {
//                funShowTextFile(fileKOTPrint, "", "Printer Info!2");
//            }
//
//            if (printYN.equals("Y"))
//            {
//                sql = "select strPrintOnBothPrinters from tblcostcentermaster where strCostCenterCode='" + costCenterCode + "' ";
//                ResultSet rsCostCenter = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsCostCenter.next())
//                {
//                    funPrintToPrinter(primaryPrinterName, secondaryPrinterName, "kot", rsCostCenter.getString(1), isReprint);
//                }
//                rsCostCenter.close();
//            }
//        }
//        catch (Exception e)
//        {
//            JOptionPane.showMessageDialog(null, "KOT Printing Error:" + e.getMessage());
//            e.printStackTrace();
//        }
//    }
//
//    /**
//     * Ritesh 16 Sept 2014 This method is used for Direct Biller KOT After
//     * Printing Bill.. Pick up data from TBLBILLHD AND TBLBILLDTL
//     *
//     */
//    private void funGenerateTextFileForKOTDirectBiller(String costCenterCode, String areaCode, String billNo, String reprint, String primaryPrinterName, String secondaryPrinterName, String costCenterName, String labelOnKOT)
//    {
//        try
//        {
//            PreparedStatement pst = null;
//            DecimalFormat decimalFormat = new DecimalFormat("#.###");
//
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_KOT = new File(filePath + "/Temp/Temp_KOT.txt");
//            FileWriter fstream = new FileWriter(Text_KOT);
//            //BufferedWriter KotOut = new BufferedWriter(fstream);
//            BufferedWriter KotOut = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(Text_KOT), "UTF8"));
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", KotOut);
//                KotOut.write("[DUPLICATE]");
//                KotOut.newLine();
//            }
//
//            String sql_PrintHomeDelivery = "select strOperationType from tblbillhd where strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_PrintHomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_PrintHomeDelivery = pst.executeQuery();
//            String operationType = "";
//            if (rs_PrintHomeDelivery.next())
//            {
//                operationType = rs_PrintHomeDelivery.getString(1);
//            }
//            rs_PrintHomeDelivery.close();
//            if (operationType.equalsIgnoreCase("HomeDelivery"))
//            {
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("Home Delivery", KotOut);
//                    KotOut.write("Home Delivery");
//                    KotOut.newLine();
//                }
//
//            }
//            else if (operationType.equalsIgnoreCase("TakeAway"))
//            {
//                funPrintBlankSpace("Take Away", KotOut);
//                KotOut.write("Take Away");
//                KotOut.newLine();
//            }
//
//            funPrintBlankSpace(labelOnKOT, KotOut);
//            KotOut.write(labelOnKOT);
//            KotOut.newLine();
//            funPrintBlankSpace(clsGlobalVarClass.gPOSName, KotOut);
//            KotOut.write(clsGlobalVarClass.gPOSName);
//            KotOut.newLine();
//            funPrintBlankSpace(costCenterName, KotOut);
//            KotOut.write(costCenterName);
//            KotOut.newLine();
//
//            funPrintBlankSpace("DIRECT BILLER", KotOut);
//            KotOut.write("DIRECT BILLER");
//            KotOut.newLine();
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write("  BILL No: " + billNo);
//            KotOut.newLine();
//            KotOut.write(Line);
//
//            String sql_DirectKOT_Date = "select dteBillDate from tblbilldtl where strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_DirectKOT_Date);
//            pst.setString(1, billNo);
//            ResultSet rs_DirectKOT_Date = pst.executeQuery();
//            if (rs_DirectKOT_Date.next())
//            {
//                KotOut.newLine();
//                SimpleDateFormat dateTimeFormat = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                KotOut.write("  DATE & TIME: " + dateTimeFormat.format(rs_DirectKOT_Date.getObject(1)));
//            }
//            rs_DirectKOT_Date.close();
//
//            KotOut.newLine();
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write("  QTY        ITEM NAME  ");
//            KotOut.newLine();
//            KotOut.write(Line);
//
//            String sql_DirectKOT_Items = "select a.strItemCode,a.strItemName,a.dblQuantity,d.strShortName "
//                    + "from tblbilldtl a,tblmenuitempricingdtl b,tblprintersetup c,tblitemmaster d "
//                    + "where  a.strBillNo=? and  b.strCostCenterCode=c.strCostCenterCode "
//                    + "and a.strItemCode=d.strItemCode "
//                    + "and b.strCostCenterCode=? and (b.strAreaCode=? or b.strAreaCode='" + clsGlobalVarClass.gAreaCodeForTrans + "') "
//                    + "and a.strItemCode=b.strItemCode "
//                    + "group by a.strItemCode "
//                    + "ORDER BY a.strSequenceNo;;";
//            //System.out.println(sql_DirectKOT_Items);
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_DirectKOT_Items);
//            pst.setString(1, billNo);
//            pst.setString(2, costCenterCode);
//            pst.setString(3, areaCode);
//            ResultSet rs_DirectKOT_Items = pst.executeQuery();
//            while (rs_DirectKOT_Items.next())
//            {
//                String kotItemName = rs_DirectKOT_Items.getString(2).toUpperCase();
//                if (clsGlobalVarClass.gPrintShortNameOnKOT && !rs_DirectKOT_Items.getString(4).trim().isEmpty())
//                {
//                    kotItemName = rs_DirectKOT_Items.getString(4).toUpperCase();
//                }
//
//                KotOut.newLine();
//
//                String itemQty = String.valueOf(decimalFormat.format(rs_DirectKOT_Items.getDouble(3)));
//
//                KotOut.write("  " + itemQty + "      ");
//                if (kotItemName.length() <= 25)
//                {
//                    KotOut.write(kotItemName);
//                }
//                else
//                {
//                    KotOut.write(kotItemName.substring(0, 25));
//                    KotOut.newLine();
//                    KotOut.write("            " + kotItemName.substring(25, kotItemName.length()));
//                }
//                //following code called for modifier
//
//                String sql_Modifier = " select a.strModifierName,a.dblQuantity,ifnull(b.strDefaultModifier,'N'),a.strDefaultModifierDeselectedYN "
//                        + "from tblbillmodifierdtl a "
//                        + "left outer join tblitemmodofier b on left(a.strItemCode,7)=if(b.strItemCode='',a.strItemCode,b.strItemCode) "
//                        + "and a.strModifierCode=if(a.strModifierCode=null,'',b.strModifierCode) "
//                        + "where a.strBillNo=? and left(a.strItemCode,7)=? ";
//                //System.out.println(sql_Modifier);
//
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_Modifier);
//                pst.setString(1, billNo);
//                pst.setString(2, rs_DirectKOT_Items.getString(1));
//                ResultSet rs_Modifier = pst.executeQuery();
//                while (rs_Modifier.next())
//                {
//                    String modiQty = String.valueOf(decimalFormat.format(rs_Modifier.getDouble(2)));
//
//                    if (!clsGlobalVarClass.gPrintModQtyOnKOT)//dont't print modifier qty
//                    {
//                        if (rs_Modifier.getString(3).equalsIgnoreCase("Y") && rs_Modifier.getString(4).equalsIgnoreCase("Y"))
//                        {
//                            KotOut.newLine();
//                            KotOut.write("        " + "No " + rs_Modifier.getString(1).toUpperCase());
//                        }
//                        else if (!rs_Modifier.getString(3).equalsIgnoreCase("Y"))
//                        {
//                            KotOut.newLine();
//                            KotOut.write("        " + rs_Modifier.getString(1).toUpperCase());
//                        }
//                    }
//                    else
//                    {
//                        if (rs_Modifier.getString(3).equalsIgnoreCase("Y") && rs_Modifier.getString(4).equalsIgnoreCase("Y"))
//                        {
//                            KotOut.newLine();
//                            KotOut.write("  " + modiQty + "      " + "No " + rs_Modifier.getString(1).toUpperCase());
//                        }
//                        else if (!rs_Modifier.getString(3).equalsIgnoreCase("Y"))
//                        {
//                            KotOut.newLine();
//                            KotOut.write("  " + modiQty + "      " + rs_Modifier.getString(1).toUpperCase());
//                        }
//                    }
//                }
//                rs_Modifier.close();
//            }
//
//            rs_DirectKOT_Items.close();
//            KotOut.newLine();
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.newLine();
//            KotOut.newLine();
//            KotOut.newLine();
//            KotOut.newLine();
//            KotOut.newLine();
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                KotOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    KotOut.write("V");
//                }
//                else
//                {
//                    KotOut.write("m");//windows
//                }
//            }
//            // KotOut.write("m");
//            KotOut.close();
//            fstream.close();
//            pst.close();
//
//            if (clsGlobalVarClass.gShowBill)
//            {
//                funShowTextFile(Text_KOT, "", "Printer Info!2");
//            }
//
//            if (clsGlobalVarClass.gItemWiseKOTPrintYN)
//            {
//                funGenerateTextFileItemWiseKOTForDirectBiller(costCenterCode, areaCode, billNo, reprint, primaryPrinterName, secondaryPrinterName, costCenterName);
//            }
//
//            sql = "select strPrintOnBothPrinters from tblcostcentermaster where strCostCenterCode='" + costCenterCode + "'";
//            ResultSet rsCostCenter = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            if (rsCostCenter.next())
//            {
//                funPrintToPrinter(primaryPrinterName, secondaryPrinterName, "kot", rsCostCenter.getString(1), isReprint);
//            }
//            rsCostCenter.close();
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    /*
//     * Item wise KOT print for direct biller
//     */
//    private void funGenerateTextFileItemWiseKOTForDirectBiller(String costCenterCode, String areaCode, String billNo, String reprint, String primaryPrinterName, String secondaryPrinterName, String costCenterName)
//    {
//        try
//        {
//            PreparedStatement pst = null;
//
//            String sql_DirectKOT_Items = "select a.strItemCode,d.strItemName,a.dblQuantity,strItemWiseKOTYN "
//                    + ",left(a.strSequenceNo,1),d.strShortName "
//                    + "from tblbilldtl a,tblmenuitempricingdtl b,tblprintersetup c,tblitemmaster d "
//                    + "where  a.strBillNo=? and  b.strCostCenterCode=c.strCostCenterCode "
//                    + "and a.strItemCode=d.strItemCode "
//                    + "and b.strCostCenterCode=? and (b.strAreaCode=? or b.strAreaCode='" + clsGlobalVarClass.gAreaCodeForTrans + "') "
//                    + "and a.strItemCode=b.strItemCode "
//                    + "GROUP BY left(a.strSequenceNo,1),a.strItemCode; ";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_DirectKOT_Items);
//            pst.setString(1, billNo);
//            pst.setString(2, costCenterCode);
//            pst.setString(3, areaCode);
//            ResultSet rs_DirectKOT_Items = pst.executeQuery();
//            int i = 0;
//            while (rs_DirectKOT_Items.next())
//            {
//
//                String itemName = rs_DirectKOT_Items.getString(2).toUpperCase();
//                if (clsGlobalVarClass.gPrintShortNameOnKOT && !rs_DirectKOT_Items.getString(6).trim().isEmpty())
//                {
//                    itemName = rs_DirectKOT_Items.getString(6).toUpperCase();
//                }
//
//                if (rs_DirectKOT_Items.getString(4).equalsIgnoreCase("Y"))
//                {
//                    String itemCode = rs_DirectKOT_Items.getString(1);
//                    String fileName = "KOTFOR" + rs_DirectKOT_Items.getString(2).toUpperCase() + "" + (++i);
//                    BufferedWriter KotOut = funGenerateItemWiseKOTHeaderForDirectBiller(billNo, fileName, reprint, costCenterName);
//
//                    KotOut.newLine();
//                    KotOut.write("  " + rs_DirectKOT_Items.getString(3) + "      " + itemName);
//                    //following code called for modifier
//                    String sql_Modifier = " select b.strModifierName ,b.dblQuantity,a.strDefaultModifier,b.strDefaultModifierDeselectedYN "
//                            + " from tblitemmodofier a,tblbillmodifierdtl b "
//                            + " where a.strItemCode=left(b.strItemCode,7) and a.strModifierCode=b.strModifierCode "
//                            + " and b.strBillNo=? and left(b.strItemCode,7)=? AND left(b.strSequenceNo,1)=? ";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_Modifier);
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_DirectKOT_Items.getString(1));
//                    pst.setString(3, rs_DirectKOT_Items.getString(5));
//                    ResultSet rs_Modifier = pst.executeQuery();
//                    while (rs_Modifier.next())
//                    {
//                        if (rs_Modifier.getString(3).equalsIgnoreCase("Y") && rs_Modifier.getString(4).equalsIgnoreCase("Y"))
//                        {
//                            KotOut.newLine();
//                            KotOut.write("  " + rs_Modifier.getString(2) + "      " + "No " + rs_Modifier.getString(1).toUpperCase());
//                        }
//                        else if (!rs_Modifier.getString(3).equalsIgnoreCase("Y"))
//                        {
//                            KotOut.newLine();
//                            KotOut.write("  " + rs_Modifier.getString(2) + "      " + rs_Modifier.getString(1).toUpperCase());
//                        }
//                    }
//                    rs_Modifier.close();
//
//                    //seperate items
//                    KotOut.newLine();
//                    KotOut.write(Line);
//                    KotOut.newLine();
//                    KotOut.newLine();
//                    KotOut.newLine();
//                    KotOut.newLine();
//                    KotOut.newLine();
//                    KotOut.newLine();
//                    if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//                    {
//                        KotOut.write("V");//Linux
//                    }
//                    else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//                    {
//                        if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                        {
//                            KotOut.write("V");
//                        }
//                        else
//                        {
//                            KotOut.write("m");//windows
//                        }
//                    }
//                    KotOut.close();
//                    pst.close();
//                    funPrintToPrinterForItemWise(primaryPrinterName, secondaryPrinterName, "ItemWiseKOT", fileName);
//                }
//            }
//            rs_DirectKOT_Items.close();
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funGenerateJasperForTableWiseKOT(String billingType, String tableNo, String CostCenterCode, String ShowKOT, String AreaCode, String KOTNO, String Reprint, String primaryPrinterName, String secondaryPrinterName, String CostCenterName, String printYN, String NCKotYN, String labelOnKOT)
//    {
//        HashMap hm = new HashMap();
//        List<List<clsBillDtl>> listData = new ArrayList<>();
//
//        DecimalFormat decimalFormat = new DecimalFormat("#.###");
//        try
//        {
//            PreparedStatement pst = null;
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(Reprint))
//            {
//                isReprint = true;
//                hm.put("dublicate", "[DUPLICATE]");
//            }
//            if ("Y".equalsIgnoreCase(NCKotYN))
//            {
//                hm.put("KOTorNC", "NCKOT");
//            }
//            else
//            {
//                hm.put("KOTorNC", labelOnKOT);
//            }
//            hm.put("POS", clsGlobalVarClass.gPOSName);
//            hm.put("costCenter", CostCenterName);
//
//            String tableName = "";
//            int pax = 0;
//            String SQL_KOT_Dina_tableName = "select strTableName,intPaxNo "
//                    + " from tbltablemaster "
//                    + " where strTableNo=? and strOperational='Y'";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_KOT_Dina_tableName);
//            pst.setString(1, tableNo);
//            ResultSet rs_Dina_Table = pst.executeQuery();
//            while (rs_Dina_Table.next())
//            {
//                tableName = rs_Dina_Table.getString(1);
//                pax = rs_Dina_Table.getInt(2);
//            }
//            rs_Dina_Table.close();
//
//            String sqlKOTItems = "";
//            List<clsBillDtl> listOfKOTDetail = new ArrayList<>();
//            if (clsGlobalVarClass.gAreaWisePricing.equals("Y"))
//            {
//                sqlKOTItems = "select LEFT(a.strItemCode,7),b.strItemName,a.dblItemQuantity,a.strKOTNo,a.strSerialNo,d.strShortName "
//                        + " from tblitemrtemp a,tblmenuitempricingdtl b,tblprintersetup c,tblitemmaster d "
//                        + " where a.strTableNo=? and a.strKOTNo=? and b.strCostCenterCode=c.strCostCenterCode "
//                        + " and b.strCostCenterCode=? and a.strItemCode=d.strItemCode "
//                        + " and (b.strPOSCode=? or b.strPOSCode='All') "
//                        + " and (b.strAreaCode IN (SELECT strAreaCode FROM tbltablemaster where strTableNo=? )) "
//                        + " and LEFT(a.strItemCode,7)=b.strItemCode and b.strHourlyPricing='No' "
//                        + " order by a.strSerialNo ";
//            }
//            else
//            {
//                sqlKOTItems = "select LEFT(a.strItemCode,7),b.strItemName,a.dblItemQuantity,a.strKOTNo,a.strSerialNo,d.strShortName "
//                        + " from tblitemrtemp a,tblmenuitempricingdtl b,tblprintersetup c,tblitemmaster d "
//                        + " where a.strTableNo=? and a.strKOTNo=? and b.strCostCenterCode=c.strCostCenterCode "
//                        + " and b.strCostCenterCode=? and a.strItemCode=d.strItemCode "
//                        + " and (b.strPOSCode=? or b.strPOSCode='All') "
//                        + " and (b.strAreaCode IN (SELECT strAreaCode FROM tbltablemaster where strTableNo=? ) "
//                        + " OR b.strAreaCode ='" + AreaCode + "') "
//                        + " and LEFT(a.strItemCode,7)=b.strItemCode and b.strHourlyPricing='No' "
//                        + " order by a.strSerialNo ";
//            }
//            //System.out.println(sqlKOTItems);
//
//            PreparedStatement pst_KOT_Items = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlKOTItems);
//            pst_KOT_Items.setString(1, tableNo);
//            pst_KOT_Items.setString(2, KOTNO);
//            pst_KOT_Items.setString(3, CostCenterCode);
//            pst_KOT_Items.setString(4, clsGlobalVarClass.gPOSCode);
//            pst_KOT_Items.setString(5, tableNo);
//            //pst_KOT_Items.setString(5, AreaCode);
//
//            KOTType = "DINE";
//            if (null != clsGlobalVarClass.hmTakeAway.get(tableNo))
//            {
//                KOTType = "Take Away";
//            }
//            hm.put("KOTType", KOTType);
//            if (clsGlobalVarClass.gCounterWise.equals("Yes"))
//            {
//                hm.put("CounterName", clsGlobalVarClass.gCounterName);
//            }
//            hm.put("KOT", KOTNO);
//            hm.put("tableNo", tableName);
//            if (clsGlobalVarClass.gClientCode.equals("124.001"))
//            {
//                hm.put("124.001", tableName);
//            }
//            hm.put("PAX", String.valueOf(pax));
//
//            String sqlWaiterDtl = "select strWaiterNo from tblitemrtemp where strKOTNo=?  and strTableNo=? group by strKOTNo ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlWaiterDtl);
//            pst.setString(1, KOTNO);
//            pst.setString(2, tableNo);
//            ResultSet rsWaiterDtl = pst.executeQuery();
//            if (rsWaiterDtl.next())
//            {
//                if (!"null".equalsIgnoreCase(rsWaiterDtl.getString(1)) && rsWaiterDtl.getString(1).trim().length() > 0)
//                {
//                    sqlWaiterDtl = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlWaiterDtl);
//                    pst.setString(1, rsWaiterDtl.getString(1));
//                    ResultSet rs = pst.executeQuery();
//                    rs.next();
//                    hm.put("waiterName", rs.getString(1));
//                    rs.close();
//                }
//            }
//            rsWaiterDtl.close();
//            String sql_KOTDate = "select dteDateCreated from tblitemrtemp where strKOTNo=?  and strTableNo=? group by strKOTNo ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_KOTDate);
//            pst.setString(1, KOTNO);
//            pst.setString(2, tableNo);
//            ResultSet rs_KOTDate = pst.executeQuery();
//            rs_KOTDate.next();
//            SimpleDateFormat dateTimeFormat = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//            hm.put("DATE_TIME", dateTimeFormat.format(rs_KOTDate.getObject(1)));
//            rs_KOTDate.close();
//            InetAddress ipAddress = InetAddress.getLocalHost();
//            String hostName = ipAddress.getHostName();
//            hm.put("KOT From", hostName);
//            hm.put("kotByUser", clsGlobalVarClass.gUserCode);
//
//            ResultSet rs_KOT_Items = pst_KOT_Items.executeQuery();
//            while (rs_KOT_Items.next())
//            {
//
//                String itemName = rs_KOT_Items.getString(2);
//                if (clsGlobalVarClass.gPrintShortNameOnKOT && !rs_KOT_Items.getString(6).trim().isEmpty())
//                {
//                    itemName = rs_KOT_Items.getString(6);
//                }
//
//                clsBillDtl objBillDtl = new clsBillDtl();
//                objBillDtl.setDblQuantity(Double.parseDouble(rs_KOT_Items.getString(3)));
//                objBillDtl.setStrItemName(itemName);
//                listOfKOTDetail.add(objBillDtl);
//                String sql_Modifier = "select a.strItemName,sum(a.dblItemQuantity) from tblitemrtemp a "
//                        + " where a.strItemCode like'" + rs_KOT_Items.getString(1) + "M%' and a.strKOTNo='" + KOTNO + "' "
//                        + " and strSerialNo like'" + rs_KOT_Items.getString(5) + ".%' "
//                        + " group by a.strItemCode,a.strItemName ";
//                //System.out.println(sql_Modifier);
//                ResultSet rsModifierItems = clsGlobalVarClass.dbMysql.executeResultSet(sql_Modifier);
//                while (rsModifierItems.next())
//                {
//                    objBillDtl = new clsBillDtl();
//                    String modifierName = rsModifierItems.getString(1);
//                    if (modifierName.startsWith("-->"))
//                    {
//                        if (clsGlobalVarClass.gPrintModQtyOnKOT)
//                        {
//                            objBillDtl.setDblQuantity(Double.parseDouble(rsModifierItems.getString(2)));
//                            objBillDtl.setStrItemName(rsModifierItems.getString(1));
//                        }
//                        else
//                        {
//                            objBillDtl.setDblQuantity(0);
//                            objBillDtl.setStrItemName(rsModifierItems.getString(1));
//                        }
//                    }
//                    listOfKOTDetail.add(objBillDtl);
//                }
//            }
//            rs_KOT_Items.close();
//            pst_KOT_Items.close();
//            pst.close();
//
//            for (int cntLines = 0; cntLines < Integer.parseInt(clsGlobalVarClass.gNoOfLinesInKOTPrint); cntLines++)
//            {
//                clsBillDtl objBillDtl = new clsBillDtl();
//                objBillDtl.setDblQuantity(0);
//                objBillDtl.setStrItemName("");
//                listOfKOTDetail.add(objBillDtl);
//            }
//
//            hm.put("listOfItemDtl", listOfKOTDetail);
//            listData.add(listOfKOTDetail);
//            String reportName = "com/POSGlobal/reports/rptGenrateKOTJasperReport.jasper";
//            JRBeanCollectionDataSource beanColDataSource = new JRBeanCollectionDataSource(listData);
//            InputStream is = this.getClass().getClassLoader().getResourceAsStream(reportName);
//
//            JasperPrint print = JasperFillManager.fillReport(is, hm, beanColDataSource);
//            JRViewer viewer = new JRViewer(print);
//            JFrame jf = new JFrame();
//            jf.getContentPane().add(viewer);
//            jf.validate();
//            if (clsGlobalVarClass.gShowBill)
//            {
//                jf.setVisible(true);
//                jf.setSize(new Dimension(850, 750));
//                jf.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
//            }
//
//            //--- Print the document
//            clsUtility2 objUtility2 = new clsUtility2();
//
//            ResultSet rsPrinter = clsGlobalVarClass.dbMysql.executeResultSet("select a.strPrinterPort,a.strSecondaryPrinterPort,a.strPrintOnBothPrinters from tblcostcentermaster  a where a.strCostCenterCode='" + CostCenterCode + "' ");
//            if (rsPrinter.next())
//            {
//                String primary = rsPrinter.getString(1);
//                String secondary = rsPrinter.getString(2);
//                String printOnBothPrinters = rsPrinter.getString(3);
//
//                //primary = primary.replaceAll("#", "\\\\");
//                //printServiceAttributeSet.add(new PrinterName(primary, null));
//                primary = primary.replaceAll("#", "\\\\");
//                secondary = secondary.replaceAll("#", "\\\\");
//
//                if (printOnBothPrinters.equalsIgnoreCase("Y"))
//                {
//                    if (clsGlobalVarClass.gMultipleKOTPrint)
//                    {
//                        objUtility2.funPrintJasperKOT(primary, print);
//                        objUtility2.funPrintJasperKOT(primary, print);
//
//                        objUtility2.funPrintJasperKOT(secondary, print);
//                        objUtility2.funPrintJasperKOT(secondary, print);
//                    }
//                    else
//                    {
//                        objUtility2.funPrintJasperKOT(primary, print);
//                        objUtility2.funPrintJasperKOT(secondary, print);
//                    }
//                }
//                else
//                {
//
//                    if (clsGlobalVarClass.gMultipleKOTPrint)
//                    {
//                        if (!objUtility2.funPrintJasperKOT(primary, print))
//                        {
//                            objUtility2.funPrintJasperKOT(secondary, print);
//                        }
//                        if (!objUtility2.funPrintJasperKOT(primary, print))
//                        {
//                            objUtility2.funPrintJasperKOT(secondary, print);
//                        }
//                    }
//                    else
//                    {
//                        if (!objUtility2.funPrintJasperKOT(primary, print))
//                        {
//                            objUtility2.funPrintJasperKOT(secondary, print);
//                        }
//                    }
//                }
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funGenerateJasperForKOTDirectBiller(String CostCenterCode, String ShowKOT, String AreaCode, String BillNo, String Reprint, String primaryPrinterName, String secondaryPrinterName, String CostCenterName, String labelOnKOT)
//    {
//        HashMap hm = new HashMap();
//        List<List<clsBillDtl>> listData = new ArrayList<>();
//        try
//        {
//            PreparedStatement pst = null;
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(Reprint))
//            {
//                isReprint = true;
//                hm.put("dublicate", "[DUPLICATE]");
//            }
//            else
//            {
//                hm.put("dublicate", "");
//            }
//            String sql_PrintHomeDelivery = "select strOperationType from tblbillhd where strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_PrintHomeDelivery);
//            pst.setString(1, BillNo);
//            ResultSet rs_PrintHomeDelivery = pst.executeQuery();
//            String operationType = "";
//            if (rs_PrintHomeDelivery.next())
//            {
//                operationType = rs_PrintHomeDelivery.getString(1);
//            }
//            rs_PrintHomeDelivery.close();
//            hm.put("Type", "");
//            if (operationType.equalsIgnoreCase("HomeDelivery"))
//            {
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    hm.put("Type", "Home Delivery");
//                }
//            }
//            else if (operationType.equalsIgnoreCase("TakeAway"))
//            {
//                hm.put("Type", "Take Away");
//            }
//            hm.put("KOT", labelOnKOT);
//            hm.put("POS", clsGlobalVarClass.gPOSName);
//            hm.put("CostCenter", CostCenterName);
//            hm.put("DIRECT BILLER", "DIRECT BILLER");
//            hm.put("BILL No", BillNo);
//
//            String sql_DirectKOT_Date = "select dteBillDate from tblbilldtl where strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_DirectKOT_Date);
//            pst.setString(1, BillNo);
//            ResultSet rs_DirectKOT_Date = pst.executeQuery();
//            if (rs_DirectKOT_Date.next())
//            {
//                SimpleDateFormat dateTimeFormat = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                hm.put("DATE & TIME", dateTimeFormat.format(rs_DirectKOT_Date.getObject(1)));
//            }
//            rs_DirectKOT_Date.close();
//
//            String sql_DirectKOT_Items = "select a.strItemCode,a.strItemName,a.dblQuantity,d.strShortName "
//                    + "from tblbilldtl a,tblmenuitempricingdtl b,tblprintersetup c,tblitemmaster d "
//                    + "where  a.strBillNo=? and  b.strCostCenterCode=c.strCostCenterCode "
//                    + "and a.strItemCode=d.strItemCode "
//                    + "and b.strCostCenterCode=? and (b.strAreaCode=? or b.strAreaCode='" + clsGlobalVarClass.gAreaCodeForTrans + "') "
//                    + "and a.strItemCode=b.strItemCode "
//                    + "group by a.strItemCode "
//                    + "ORDER BY a.strSequenceNo;;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_DirectKOT_Items);
//            pst.setString(1, BillNo);
//            pst.setString(2, CostCenterCode);
//            pst.setString(3, AreaCode);
//            List<clsBillDtl> listOfKOTDetail = new ArrayList<>();
//            ResultSet rs_DirectKOT_Items = pst.executeQuery();
//            while (rs_DirectKOT_Items.next())
//            {
//
//                String itemName = rs_DirectKOT_Items.getString(2);
//                if (clsGlobalVarClass.gPrintShortNameOnKOT && !rs_DirectKOT_Items.getString(4).trim().isEmpty())
//                {
//                    itemName = rs_DirectKOT_Items.getString(4);
//                }
//
//                clsBillDtl objBillDtl = new clsBillDtl();
//                objBillDtl.setDblQuantity(Double.parseDouble(rs_DirectKOT_Items.getString(3)));
//                objBillDtl.setStrItemName(itemName);
//                listOfKOTDetail.add(objBillDtl);
//                String sql_Modifier = " select a.strModifierName,a.dblQuantity,ifnull(b.strDefaultModifier,'N'),a.strDefaultModifierDeselectedYN "
//                        + "from tblbillmodifierdtl a "
//                        + "left outer join tblitemmodofier b on left(a.strItemCode,7)=if(b.strItemCode='',a.strItemCode,b.strItemCode) "
//                        + "and a.strModifierCode=if(a.strModifierCode=null,'',b.strModifierCode) "
//                        + "where a.strBillNo=? and left(a.strItemCode,7)=? ";
//                //System.out.println(sql_Modifier);
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_Modifier);
//                pst.setString(1, BillNo);
//                pst.setString(2, rs_DirectKOT_Items.getString(1));
//                ResultSet rs_Modifier = pst.executeQuery();
//                while (rs_Modifier.next())
//                {
//                    objBillDtl = new clsBillDtl();
//                    if (!clsGlobalVarClass.gPrintModQtyOnKOT)//dont't print modifier qty
//                    {
//                        if (rs_Modifier.getString(3).equalsIgnoreCase("Y") && rs_Modifier.getString(4).equalsIgnoreCase("Y"))
//                        {
//                            objBillDtl.setDblQuantity(0);
//                            objBillDtl.setStrItemName("        " + "No " + rs_Modifier.getString(1));
//                        }
//                        else if (!rs_Modifier.getString(3).equalsIgnoreCase("Y"))
//                        {
//                            objBillDtl.setDblQuantity(0);
//                            objBillDtl.setStrItemName(rs_Modifier.getString(1));
//                        }
//                    }
//                    else
//                    {
//                        if (rs_Modifier.getString(3).equalsIgnoreCase("Y") && rs_Modifier.getString(4).equalsIgnoreCase("Y"))
//                        {
//                            objBillDtl.setDblQuantity(Double.parseDouble(rs_Modifier.getString(2)));
//                            objBillDtl.setStrItemName("  " + rs_Modifier.getString(2) + "      " + "No " + rs_Modifier.getString(1));
//                        }
//                        else if (!rs_Modifier.getString(3).equalsIgnoreCase("Y"))
//                        {
//                            objBillDtl.setDblQuantity(Double.parseDouble(rs_Modifier.getString(2)));
//                            objBillDtl.setStrItemName("  " + rs_Modifier.getString(2) + "      " + rs_Modifier.getString(1));
//                        }
//                    }
//                    listOfKOTDetail.add(objBillDtl);
//                }
//                rs_Modifier.close();
//            }
//            rs_DirectKOT_Items.close();
//            hm.put("listOfItemDtl", listOfKOTDetail);
//            listData.add(listOfKOTDetail);
//            String reportName = "com/POSGlobal/reports/rptGenrateKOTJasperReportForDirectBiller.jasper";
//            JRBeanCollectionDataSource beanColDataSource = new JRBeanCollectionDataSource(listData);
//            InputStream is = this.getClass().getClassLoader().getResourceAsStream(reportName);
//            JasperPrint print = JasperFillManager.fillReport(is, hm, beanColDataSource);
//            JRViewer viewer = new JRViewer(print);
//            JFrame jf = new JFrame();
//            jf.getContentPane().add(viewer);
//            jf.validate();
//            if (clsGlobalVarClass.gShowBill)
//            {
//                jf.setVisible(true);
//                jf.setSize(new Dimension(850, 750));
//                jf.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
//            }
//            JRPrintServiceExporter exporter = new JRPrintServiceExporter();
//
//            //--- Set print properties
//            PrintRequestAttributeSet printRequestAttributeSet = new HashPrintRequestAttributeSet();
//            printRequestAttributeSet.add(MediaSizeName.ISO_A4);
//            if (clsGlobalVarClass.gMultipleKOTPrint)
//            {
//                printRequestAttributeSet.add(new Copies(2));
//            }
//
//            //----------------------------------------------------     
//            //printRequestAttributeSet.add(new Destination(new java.net.URI("file:d:/output/report.ps")));
//            //----------------------------------------------------     
//            PrintServiceAttributeSet printServiceAttributeSet = new HashPrintServiceAttributeSet();
//
//            String billPrinterName = primaryPrinterName;
//
//            billPrinterName = billPrinterName.replaceAll("#", "\\\\");
//            printServiceAttributeSet.add(new PrinterName(billPrinterName, null));
//
//            //--- Set print parameters      
//            exporter.setParameter(JRExporterParameter.JASPER_PRINT, print);
//            exporter.setParameter(JRPrintServiceExporterParameter.PRINT_REQUEST_ATTRIBUTE_SET, printRequestAttributeSet);
//            exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE_ATTRIBUTE_SET, printServiceAttributeSet);
//            exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PAGE_DIALOG, Boolean.FALSE);
//            exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PRINT_DIALOG, Boolean.FALSE);
//
//            //--- Print the document
//            try
//            {
//                exporter.exportReport();
//            }
//            catch (JRException e)
//            {
//                e.printStackTrace();
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    /*
//     * generate Itemwise KOT text file
//     */
//    private BufferedWriter funGenerateItemWiseKOTHeaderForDirectBiller(String BillNo, String fileName, String Reprint, String CostCenterName)
//    {
//        BufferedWriter KotOut = null;
//
//        try
//        {
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_KOT = new File(filePath + "/Temp/" + fileName + ".txt");
//            KotOut = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(Text_KOT), "UTF8"));
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(Reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", KotOut);
//                KotOut.write("[DUPLICATE]");
//                KotOut.newLine();
//            }
//
//            String sql_PrintHomeDelivery = "select strOperationType from tblbillhd where strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_PrintHomeDelivery);
//            pst.setString(1, BillNo);
//            ResultSet rs_PrintHomeDelivery = pst.executeQuery();
//            String operationType = "";
//            if (rs_PrintHomeDelivery.next())
//            {
//                operationType = rs_PrintHomeDelivery.getString(1);
//            }
//            rs_PrintHomeDelivery.close();
//            if (operationType.equalsIgnoreCase("HomeDelivery"))
//            {
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace(operationType, KotOut);
//                    KotOut.write(operationType);
//                    KotOut.newLine();
//                }
//            }
//            else if (operationType.equalsIgnoreCase("TakeAway"))
//            {
//                funPrintBlankSpace(operationType, KotOut);
//                KotOut.write(operationType);
//                KotOut.newLine();
//            }
//
//            funPrintBlankSpace("KOT", KotOut);
//            KotOut.write("KOT");
//            KotOut.newLine();
//            funPrintBlankSpace(clsGlobalVarClass.gPOSName, KotOut);
//            KotOut.write(clsGlobalVarClass.gPOSName);
//            KotOut.newLine();
//            funPrintBlankSpace(CostCenterName, KotOut);
//            KotOut.write(CostCenterName);
//            KotOut.newLine();
//
//            //item will pickup from tblbilldtl           
//            funPrintBlankSpace("DIRECT BILLER", KotOut);
//            KotOut.write("DIRECT BILLER");
//            KotOut.newLine();
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write("  BILL No: " + BillNo);
//            KotOut.newLine();
//            KotOut.write(Line);
//
//            String sql_DirectKOT_Date = "select date(dteBillDate), time(dteBillDate) from tblbilldtl where strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_DirectKOT_Date);
//            pst.setString(1, BillNo);
//            ResultSet rs_DirectKOT_Date = pst.executeQuery();
//            if (rs_DirectKOT_Date.next())
//            {
//                KotOut.newLine();
//                KotOut.write("  DATE & TIME: " + rs_DirectKOT_Date.getString(1) + " " + rs_DirectKOT_Date.getString(2));
//            }
//            rs_DirectKOT_Date.close();
//            KotOut.newLine();
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write("  QTY        ITEM NAME  ");
//            KotOut.newLine();
//            KotOut.write(Line);
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//        finally
//        {
//            return KotOut;
//        }
//    }
//
//    public void funGenerateTextFileBillPrintingForFormat5(String billNo, String reprint, String formName, String transType, String billDate, String POSCode, String viewORprint)
//    {
//        clsUtility objUtility = new clsUtility();
//        String Linefor5 = "  --------------------------------------";
//        try
//        {
//            String user = "";
//            String billhd = null;
//            String billdtl = null;
//            String billModifierdtl = null;
//            String billSettlementdtl = null;
//            String billtaxdtl = null;
//            String billDscFrom = null;
//            String billPromoDtl = null;
//            String billComplDtl = null;
//            String advBookBillHd = null;
//            String advBookBillDtl = null;
//            String advBookBillCharDtl = null;
//            String advReceiptHd = null;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//                billComplDtl = "tblqbillcomplementrydtl";
//
//                advBookBillHd = "tblqadvbookbillhd";
//                advBookBillDtl = "tblqadvbookbilldtl";
//                advBookBillCharDtl = "tblqadvbookbillchardtl";
//                advReceiptHd = "tblqadvancereceipthd";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                    billComplDtl = "tblbillcomplementrydtl";
//                    advBookBillHd = "tbladvbookbillhd";
//                    advBookBillDtl = "tbladvbookbilldtl";
//                    advBookBillCharDtl = "tbladvbookbillchardtl";
//                    advReceiptHd = "tbladvancereceipthd";
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                        billComplDtl = "tblqbillcomplementrydtl";
//                        advBookBillHd = "tblqadvbookbillhd";
//                        advBookBillDtl = "tblqadvbookbilldtl";
//                        advBookBillCharDtl = "tblqadvbookbillchardtl";
//                        advReceiptHd = "tblqadvancereceipthd";
//                    }
//                    String sql = "select count(strBillNo) from tblbillhd where strBillNo='" + billNo + "' and strPOSCode='" + POSCode + "' and date(dteBillDate)='" + billDate + "' ";
//                    ResultSet rsBillTable = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                    rsBillTable.next();
//                    int billCnt = rsBillTable.getInt(1);
//                    if (billCnt == 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                        billComplDtl = "tblqbillcomplementrydtl";
//                        advBookBillHd = "tblqadvbookbillhd";
//                        advBookBillDtl = "tblqadvbookbilldtl";
//                        advBookBillCharDtl = "tblqadvbookbillchardtl";
//                        advReceiptHd = "tblqadvancereceipthd";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                    billComplDtl = "tblbillcomplementrydtl";
//                    advBookBillHd = "tbladvbookbillhd";
//                    advBookBillDtl = "tbladvbookbilldtl";
//                    advBookBillCharDtl = "tbladvbookbillchardtl";
//                    advReceiptHd = "tbladvancereceipthd";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            String waiterName = "";
//            String tblName = "";
//            ResultSet rs_BillHD = null;
//            boolean flgComplimentaryBill = false;
//
//            billDate = billDate.split(" ")[0];
//
//            StringBuilder sqlBillHeaderDtl = new StringBuilder();
//            sqlBillHeaderDtl.append("select ifnull(a.strTableNo,''),ifnull(a.strWaiterNo,''),a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                    + "ifnull(a.strCustomerCode,''),a.dblGrandTotal,a.dblTaxAmt,ifnull(a.strReasonCode,''),ifnull(a.strRemarks,''),a.strUserCreated "
//                    + ",ifnull(dblDeliveryCharges,0.00),ifnull(i.dblAdvDeposite,0.00),a.dblDiscountPer,b.strPOSName,a.intPaxNo "
//                    + ",ifnull(c.strTableName,''),ifnull(d.strWShortName,''),ifnull(d.strWFullName,''),ifnull(l.strSettelmentType,''),ifnull(j.strReasonName,'') as voidedReason, "
//                    + "ifnull(g.strReasonName,''),ifnull(e.strCustomerName,''),ifnull(a.strAdvBookingNo,''),ifnull(h.strMessage,''),ifnull(h.strShape,''),ifnull(h.strNote,''),ifnull(a.dblTipAmount,0.00) "
//                    + ",a.strOperationType,ifnull(a.strTakeAwayRemarks,''),ifnull(e.longMobileNo,''),ifnull(m.strCustType,''),ifnull(e.strExternalCode,'')"
//                    + ",ifnull(DATE_FORMAT(date(e.dteDOB),'%d-%m-%Y'),'')  "
//                    + "from " + billhd + " a "
//                    + "left outer join tblposmaster b on a.strPOSCode=b.strPosCode  "
//                    + "left outer join tbltablemaster c on a.strTableNo=c.strTableNo and a.strClientCode=c.strClientCode "
//                    + "left outer join tblwaitermaster d on a.strWaiterNo=d.strWaiterNo and a.strClientCode=d.strClientCode "
//                    + "left outer join tblcustomermaster e on a.strCustomerCode=e.strCustomerCode and a.strClientCode=e.strClientCode "
//                    + "left outer join tbldebitcardmaster f on a.strCardNo=f.strCardNo "
//                    + "left outer join tblreasonmaster g on a.strReasonCode=g.strReasonCode "
//                    + "left outer join " + advBookBillHd + " h on a.strAdvBookingNo=h.strAdvBookingNo and a.strClientCode=h.strClientCode "
//                    + "left outer join " + advReceiptHd + " i on h.strAdvBookingNo=i.strAdvBookingNo and a.strClientCode=i.strClientCode "
//                    + "left outer join tblvoidbillhd j on a.strBillNo=j.strBillNo and a.strPOSCode=j.strPosCode and a.strClientCode=j.strClientCode "
//                    + "left outer join " + billSettlementdtl + " k on a.strBillNo=k.strBillNo and a.strClientCode=k.strClientCode AND DATE(a.dteBillDate)=DATE(k.dteBillDate) "
//                    + "left outer join tblsettelmenthd l on k.strSettlementCode=l.strSettelmentCode "
//                    + "LEFT OUTER JOIN tblcustomertypemaster m ON e.strCustomerType=m.strCustTypeCode "
//                    + "where a.strBillNo=? "
//                    + "and a.strPOSCode=? "
//                    + "and date(a.dteBillDate)=? "
//                    + "group by a.strBillNo; ");
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlBillHeaderDtl.toString());
//            pst.setString(1, billNo);
//            pst.setString(2, POSCode);
//            pst.setString(3, billDate);
//            rs_BillHD = pst.executeQuery();
//            rs_BillHD.next();
//            if (rs_BillHD.getString(21).equals("Complementary"))
//            {
//                flgComplimentaryBill = true;
//            }
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            if (clsGlobalVarClass.gClientCode.equals("117.001"))
//            {
//                if (POSCode.equals("P01"))
//                {
//                    funPrintBlankSpace("THE PREM'S HOTEL", BillOut);
//                    BillOut.write("THE PREM'S HOTEL");
//                    BillOut.newLine();
//                }
//                else if (POSCode.equals("P02"))
//                {
//                    funPrintBlankSpace("SWIG", BillOut);
//                    BillOut.write("SWIG");
//                    BillOut.newLine();
//                }
//            }
//
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime,strCustAddressLine1 "
//                    + "from tblhomedelivery "
//                    + "where strBillNo=? "
//                    + "and date(dteDate)=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            pst.setString(2, billDate);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "";
//                if (rs_HomeDelivery.getString(5).equals("Temporary"))
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strTempAddress,a.strTempStreet"
//                            + " ,a.strTempLandmark,a.strBuildingName,a.strCity,a.intPinCode,a.longMobileNo "
//                            + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                            + " on a.strBuldingCode=b.strBuildingCode "
//                            + " where a.strCustomerCode=? ;";
//                }
//                else if (rs_HomeDelivery.getString(5).equals("Office"))
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strOfficeBuildingName,a.strOfficeStreetName"
//                            + ",a.strOfficeLandmark,a.strOfficeArea,a.strOfficeCity,a.strOfficePinCode,a.longMobileNo "
//                            + " from tblcustomermaster a "
//                            + " where a.strCustomerCode=? ";
//                }
//                else
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strCustAddress,a.strStreetName"
//                            + " ,a.strLandmark,a.strBuildingName,a.strCity,a.intPinCode,a.longMobileNo "
//                            + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                            + " on a.strBuldingCode=b.strBuildingCode "
//                            + " where a.strCustomerCode=? ;";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//                    // Building Name    
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS1  :" + add1.toUpperCase().replaceAll("\n", " "));
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS1  :" + add1.toUpperCase().replaceAll("\n", " "));
//                        BillOut.newLine();
//                    }
//                    for (int i = 28; i <= strlen;)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase().replaceAll("\n", " "));
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase().replaceAll("\n", " "));
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//                    // Street Name    
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen;)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//                    // Landmark Name    
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    // Area Name    
//                    if (rs_CustomerDtl.getString(5).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(5).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    // City Name    
//                    if (rs_CustomerDtl.getString(6).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    // Pin Code    
//                    if (rs_CustomerDtl.getString(7).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(7).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    // Mobile No    
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(8));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String[] delBoys = rs_HomeDelivery.getString(3).split(",");
//                    StringBuilder strIN = new StringBuilder("(");
//                    for (int i = 0; i < delBoys.length; i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append("'" + delBoys[i] + "'");
//                        }
//                        else
//                        {
//                            strIN.append(",'" + delBoys[i] + "'");
//                        }
//                    }
//                    strIN.append(")");
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode IN " + strIN + " ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    strIN.setLength(0);
//                    for (int i = 0; rs_DeliveryBoyDtl.next(); i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append(rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                        else
//                        {
//                            strIN.append("," + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                    }
//                    BillOut.write("  DELV BOY  :" + strIN);
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//            else
//            {
//                String customerType = rs_BillHD.getString(33);
//
//                if (rs_BillHD.getString(7).length() > 0 && !(customerType.equalsIgnoreCase("Liqour") || customerType.equalsIgnoreCase("Liquor")))//customerCode
//                {
//                    BillOut.write("  NAME      :" + rs_BillHD.getString(24).toUpperCase());
//                    BillOut.newLine();
//                    // Mobile No    
//                    BillOut.write("  MOBILE NO :" + rs_BillHD.getString(32));
//                    BillOut.newLine();
//                }
//            }
//            rs_HomeDelivery.close();
//            //print take away
//            int billPrintSize = 4;
//            if (rs_BillHD.getString(30).equals("TakeAway"))
//            {
//                funPrintBlankSpace("Take Away", BillOut);
//                BillOut.write("Take Away");
//                BillOut.newLine();
//            }
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("TAX INVOICE", BillOut);
//                BillOut.write("TAX INVOICE");
//                BillOut.newLine();
//            }
//            if (clsGlobalVarClass.gClientCode.equals("047.001") && POSCode.equals("P03"))
//            {
//                funPrintBlankSpace("SHRI SHAM CATERERS", BillOut);
//                BillOut.write("SHRI SHAM CATERERS");
//                BillOut.newLine();
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                funPrintBlankSpace(cAddr1, BillOut);
//                BillOut.write(cAddr1.toUpperCase());
//                BillOut.newLine();
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                funPrintBlankSpace(cAddr2, BillOut);
//                BillOut.write(cAddr2.toUpperCase());
//                BillOut.newLine();
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                funPrintBlankSpace(cAddr3, BillOut);
//                BillOut.write(cAddr3.toUpperCase());
//                BillOut.newLine();
//                String cAddr4 = "Approved Caterers of";
//                funPrintBlankSpace(cAddr4, BillOut);
//                BillOut.write(cAddr4.toUpperCase());
//                BillOut.newLine();
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                funPrintBlankSpace(cAddr5, BillOut);
//                BillOut.write(cAddr5.toUpperCase());
//                BillOut.newLine();
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("047.001") && POSCode.equals("P02"))
//            {
//                funPrintBlankSpace("SHRI SHAM CATERERS", BillOut);
//                BillOut.write("SHRI SHAM CATERERS");
//                BillOut.newLine();
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                funPrintBlankSpace(cAddr1, BillOut);
//                BillOut.write(cAddr1.toUpperCase());
//                BillOut.newLine();
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                funPrintBlankSpace(cAddr2, BillOut);
//                BillOut.write(cAddr2.toUpperCase());
//                BillOut.newLine();
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                funPrintBlankSpace(cAddr3, BillOut);
//                BillOut.write(cAddr3.toUpperCase());
//                BillOut.newLine();
//                String cAddr4 = "Approved Caterers of";
//                funPrintBlankSpace(cAddr4, BillOut);
//                BillOut.write(cAddr4.toUpperCase());
//                BillOut.newLine();
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                funPrintBlankSpace(cAddr5, BillOut);
//                BillOut.write(cAddr5.toUpperCase());
//                BillOut.newLine();
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//                BillOut.newLine();
//                if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                    BillOut.newLine();
//                }
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//                BillOut.newLine();
//                if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                    BillOut.newLine();
//                }
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("190.001"))//"190.001", "SQUARE ONE HOSPITALITY LLP" (Quarter House)
//            {
//                String licenseName = clsGlobalVarClass.gClientName;
//                if (billNo.startsWith("L"))//liqour bill license name
//                {
//                    licenseName = "STEP-IN-AGENCIES & ESTATE PVT LTD";
//                }
//                else
//                {
//                    licenseName = clsGlobalVarClass.gClientName;
//                }
//                funPrintBlankSpace(licenseName, BillOut);
//
//                BillOut.write(licenseName);
//                BillOut.newLine();
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//                BillOut.newLine();
//                if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                if (clsGlobalVarClass.gClientCode.equals("124.001"))
//                {
//                    BillOut.write(clsGlobalVarClass.gClientName);
//                }
//                else
//                {
//                    BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                }
//                BillOut.newLine();
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//                BillOut.newLine();
//                if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                    BillOut.newLine();
//                }
//            }
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            tblName = rs_BillHD.getString(18);
//            if (tblName.length() > 0)
//            {
//                if (clsGlobalVarClass.gClientCode.equalsIgnoreCase("136.001"))//KINKI
//                {
//                    BillOut.write("  TABLE No   :");
//                }
//                else
//                {
//                    BillOut.write("  TABLE NAME:" + "  ");
//                }
//                BillOut.write(tblName);
//                BillOut.newLine();
//            }
//            waiterName = rs_BillHD.getString(19);
//            if (waiterName.trim().length() > 0)
//            {
//                BillOut.write("  STEWARD   :" + "  ");
//                BillOut.write(waiterName);
//                BillOut.newLine();
//            }
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            BillOut.write("  POS         : ");
//            BillOut.write(rs_BillHD.getString(16));
//            BillOut.newLine();
//            BillOut.write("  BILL NO.    : ");
//            BillOut.write(billNo);
//            BillOut.newLine();
//            BillOut.write("  PAX NO.     : ");
//            BillOut.write(rs_BillHD.getString(17));
//            BillOut.newLine();
//            if (clsGlobalVarClass.gPrintTimeOnBillYN)
//            {
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//
//            }
//            else
//            {
//                BillOut.write("  DATE        : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//            }
//            if (rs_BillHD.getString(11).trim().length() > 0 && !flgComplimentaryBill)
//            {
//                BillOut.write("  Remarks     : ");
//                BillOut.write(rs_BillHD.getString(11));
//                BillOut.newLine();
//            }
//            subTotal = rs_BillHD.getString(6);
//            grandTotal = rs_BillHD.getString(8);
//            user = rs_BillHD.getString(12);
//            deliveryCharge = rs_BillHD.getString(13);
//            advAmount = rs_BillHD.getString(14);
//            //print card available balance
//            String isSttled = "select a.strBillNo from " + billSettlementdtl + " a," + billhd + " b "
//                    + "where a.strBillNo=b.strBillNo "
//                    + "and a.strClientCode=b.strClientCode "
//                    + "and a.strBillNo='" + billNo + "' "
//                    + "and b.strPOSCode='" + POSCode + "' "
//                    + "and date(a.dteBillDate)=date(b.dteBillDate) ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "' "
//                        + "and a.strPOSCode='" + POSCode + "' "
//                        + "and date(a.dteBillDate)='" + billDate + "' ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "' "
//                        + "and a.strPOSCode='" + POSCode + "' "
//                        + "and date(a.dteBillDate)='" + billDate + "' ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//            if (transType.equals("Void"))
//            {
//                BillOut.write("  Reason      :" + " " + rs_BillHD.getString(22));//voided reason
//                BillOut.newLine();
//            }
//            else if (flgComplimentaryBill)
//            {
//
//                BillOut.write("  Reason      :" + " " + rs_BillHD.getString(23));
//                BillOut.newLine();
//                BillOut.write("  Remark      :" + " " + rs_BillHD.getString(11));
//                BillOut.newLine();
//            }
//            if (clsGlobalVarClass.gCMSIntegrationYN)
//            {
//                BillOut.write("  Member Code : ");
//                BillOut.write(rs_BillHD.getString(7));
//                BillOut.newLine();
//                BillOut.write("  Member Name : ");
//                funWriteToTextMemberNameForFormat5(BillOut, rs_BillHD.getString(24), "Format5");
//                BillOut.newLine();
//                BillOut.write(Linefor5);
//            }
//            String customerType = rs_BillHD.getString(33);
//            if (customerType.equalsIgnoreCase("Liqour") || customerType.equalsIgnoreCase("Liquor"))
//            {
//                if (rs_BillHD.getString(7).length() > 0)//customerCode
//                {
//                    BillOut.write("  NAME        : " + rs_BillHD.getString(24).toUpperCase());
//                    BillOut.newLine();
//
//                    BillOut.write("  PERMIT NO   : " + rs_BillHD.getString(34));
//                    BillOut.newLine();
//
//                    BillOut.write("  EXP. DATE   : " + rs_BillHD.getString(35));
//                    BillOut.newLine();
//                }
//            }
//
//            if (rs_BillHD.getString(25) != null && rs_BillHD.getString(25).length() > 0)
//            {
//                if (rs_BillHD.getString(26).length() > 0 || rs_BillHD.getString(27).length() > 0 || rs_BillHD.getString(28).length() > 0)
//                {
//                    BillOut.newLine();
//                    funPrintBlankSpace("ORDER DETAIL", BillOut);
//                    BillOut.write("ORDER DETAIL");
//                    BillOut.newLine();
//                    BillOut.write(Linefor5);
//                    BillOut.newLine();
//                }
//                StringBuilder strValue = new StringBuilder();
//                strValue.setLength(0);
//                if (rs_BillHD.getString(26).length() > 0)
//                {
//                    strValue.append(rs_BillHD.getString(26));
//                }
//                else
//                {
//                    strValue.append("");
//                }
//                int strlenMsg = strValue.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = strValue.substring(0, strlenMsg);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = strValue.substring(0, 27);
//                        BillOut.write("  MESSAGE     :" + msg1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = strValue.substring(i, endmsg);
//                            i = endmsg;
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = strValue.substring(i, strlenMsg);
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//                strValue.setLength(0);
//                if (rs_BillHD.getString(27).length() > 0)//shape
//                {
//                    strValue.append(rs_BillHD.getString(27));
//                }
//                else
//                {
//                    strValue.append("");
//                }
//                int strlenShape = strValue.length();
//                if (strlenShape > 0)
//                {
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = strValue.substring(0, strlenShape);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = strValue.substring(0, 27);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = strValue.substring(j, endShape);
//                            j = endShape;
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = strValue.substring(j, strlenShape);
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }
//
//                strValue.setLength(0);
//                if (rs_BillHD.getString(28).length() > 0)//note
//                {
//                    strValue.append(rs_BillHD.getString(28));
//                }
//                else
//                {
//                    strValue.append("");
//                }
//                int strlenNote = strValue.length();
//                if (strlenNote > 0)
//                {
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = strValue.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = strValue.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = strValue.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = strValue.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                if (rs_BillHD.getString(26).length() > 0 || rs_BillHD.getString(27).length() > 0 || rs_BillHD.getString(28).length() > 0)
//                {
//
//                    BillOut.write(Linefor5);
//                    BillOut.newLine();
//                }
//            }
//
//            Map<String, clsBillDtl> hmComplBillItemDtl = objUtility.funGetComplimetaryItems(billNo, billComplDtl, billhd, POSCode, billDate);
//            StringBuilder sbZeroAmtItems = new StringBuilder();
//
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            BillOut.write("     QTY ITEM NAME                  AMT");
//            BillOut.newLine();
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            String SQL_BillDtl = "select sum(a.dblQuantity),left(a.strItemName,22) as ItemLine1"
//                    + " ,MID(a.strItemName,23,LENGTH(a.strItemName)) as ItemLine2"
//                    + " ,sum(a.dblAmount),a.strItemCode,a.strKOTNo "
//                    + " from " + billdtl + " a," + billhd + " b,tblitemmaster c "
//                    + " where a.strBillNo=b.strBillNo and a.strClientCode=b.strClientCode "
//                    + " and a.strItemCode=c.strItemCode and date(a.dteBillDate)=date(b.dteBillDate) "
//                    + " and a.strBillNo=? "
//                    + " and b.strPOSCode=?  "
//                    + " and date(b.dteBillDate)=? ";
//            if (!clsGlobalVarClass.gPrintTDHItemsInBill)
//            {
//                SQL_BillDtl += "and a.tdhYN='N' ";
//            }
//            if (!clsGlobalVarClass.gPrintOpenItemsOnBill)
//            {
//                SQL_BillDtl += "and c.strOpenItem='N' ";
//            }
//            SQL_BillDtl += " group by a.strItemCode ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//            pst.setString(1, billNo);
//            pst.setString(2, POSCode);
//            pst.setString(3, billDate);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                double saleQty = rs_BillDtl.getDouble(1);
//                String sqlPromoBills = "select dblQuantity from " + billPromoDtl + " "
//                        + " where strBillNo='" + billNo + "' "
//                        + " and strItemCode='" + rs_BillDtl.getString(5) + "' "
//                        + " and strPromoType='ItemWise' "
//                        + " and date(dteBillDate)='" + billDate + "' ";
//                ResultSet rsPromoItems = clsGlobalVarClass.dbMysql.executeResultSet(sqlPromoBills);
//                if (rsPromoItems.next())
//                {
//                    saleQty -= rsPromoItems.getDouble(1);
//                }
//                rsPromoItems.close();
//                String qty = String.valueOf(saleQty);
//                if (qty.contains("."))
//                {
//                    String decVal = qty.substring(qty.length() - 2, qty.length());
//                    if (Double.parseDouble(decVal) == 0)
//                    {
//                        qty = qty.substring(0, qty.length() - 2);
//                    }
//                }
//                if (saleQty > 0)
//                {
//                    if (hmComplBillItemDtl.containsKey(rs_BillDtl.getString(5)))
//                    {
////                        double chargedQty = hmComplBillItemDtl.get(rs_BillDtl.getString(5)).getDblQuantity() - saleQty;
////                        if (chargedQty > 0)
////                        {
////                            qty = String.valueOf(chargedQty);
////                        }
//                        if (rs_BillDtl.getDouble(4) == 0)
//                        {
//                            sbZeroAmtItems.append(",'" + rs_BillDtl.getString(5) + "'");
//                        }
//                    }
//                    funPrintContentWithSpace("Right", qty, 8, BillOut);//Qty Print
//                    BillOut.write(" ");
//                    funPrintContentWithSpace("Left", rs_BillDtl.getString(2), 22, BillOut);//Item Name
//                    if (flgComplimentaryBill)
//                    {
//                        funPrintContentWithSpace("Right", "0.00", 9, BillOut);//Amount
//                    }
//                    else
//                    {
//                        funPrintContentWithSpace("Right", rs_BillDtl.getString(4), 9, BillOut);//Amount
//                    }
//                    BillOut.newLine();
//
//                    if (rs_BillDtl.getString(3).trim().length() > 0)
//                    {
//                        String line = rs_BillDtl.getString(3);
//                        if (line.length() > 22)
//                        {
//                            BillOut.write("         " + line.substring(0, 22));
//                            BillOut.newLine();
//
//                            BillOut.write("         " + line.substring(22, line.length()));
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            BillOut.write("         " + line);
//                            BillOut.newLine();
//                        }
//                    }
//                    String sqlModifier = "select count(*) "
//                            + "from " + billModifierdtl + " "
//                            + "where strBillNo=? "
//                            + "and left(strItemCode,7)=? "
//                            + "and date(dteBillDate)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(5));
//                    pst.setString(3, billDate);
//                    ResultSet rs_count = pst.executeQuery();
//                    rs_count.next();
//                    int cntRecord = rs_count.getInt(1);
//                    rs_count.close();
//                    if (cntRecord > 0)
//                    {
//                        sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                                + " from " + billModifierdtl + " "
//                                + " where strBillNo=? "
//                                + " and left(strItemCode,7)=? "
//                                + " and date(dteBillDate)=? ";
//                        if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                        {
//                            sqlModifier += " and  dblAmount !=0.00 ";
//                        }
//                        pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//                        pst.setString(1, billNo);
//                        pst.setString(2, rs_BillDtl.getString(5));
//                        pst.setString(3, billDate);
//                        ResultSet rs_modifierRecord = pst.executeQuery();
//                        while (rs_modifierRecord.next())
//                        {
//                            if (flgComplimentaryBill)
//                            {
//                                funWriteToTextformat5(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), "0.00", "Format5");
//                                BillOut.newLine();
//                            }
//                            else
//                            {
//                                funWriteToTextformat5(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format5");
//                                BillOut.newLine();
//                            }
//                        }
//                        rs_modifierRecord.close();
//                    }
//
//                    sql = "select b.strItemCode,b.dblWeight "
//                            + " from " + billhd + " a," + advBookBillDtl + " b "
//                            + " where a.strAdvBookingNo=b.strAdvBookingNo "
//                            + " and a.strClientCode=b.strClientCode "
//                            + " and a.strBillNo='" + billNo + "' "
//                            + " and b.strItemCode='" + rs_BillDtl.getString(5) + "' "
//                            + " and a.strPOSCode='" + POSCode + "' "
//                            + " and date(a.dteBillDate)='" + billDate + "' ";
//                    ResultSet rsWeight = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                    while (rsWeight.next())
//                    {
//                        BillOut.write("     Weight");
//                        BillOut.write("     " + rsWeight.getDouble(2));
//                        BillOut.newLine();
//                    }
//                    rsWeight.close();
//                    sql = "select c.strCharName,b.strCharValues "
//                            + " from " + billhd + " a," + advBookBillCharDtl + " b,tblcharactersticsmaster c "
//                            + " where a.strAdvBookingNo=b.strAdvBookingNo "
//                            + " and b.strCharCode=c.strCharCode "
//                            + " and a.strBillNo='" + billNo + "' "
//                            + " and b.strItemCode='" + rs_BillDtl.getString(5) + "' "
//                            + " and a.strPOSCode='" + POSCode + "' "
//                            + " and date(a.dteBillDate)='" + billDate + "' "
//                            + " and a.strClientCode=b.strClientCode ";
//                    ResultSet rsCharDtl = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                    while (rsCharDtl.next())
//                    {
//                        String charName = objUtility.funPrintTextWithAlignment(rsCharDtl.getString(1), 12, "Left");
//                        BillOut.write("     " + charName);
//                        String charVal = objUtility.funPrintTextWithAlignment(rsCharDtl.getString(2), 28, "Left");
//                        BillOut.write("     " + charVal);
//                        BillOut.newLine();
//                    }
//                    rsCharDtl.close();
//                }
//            }
//            rs_BillDtl.close();
//
//            funPrintComplimentaryItemsInBill(billNo, BillOut, 4, POSCode, billDate, sbZeroAmtItems);
//
//            funPrintPromoItemsInBill(billNo, BillOut, 4, billPromoDtl);  // Print Promotion Items in Bill for this billno.
//
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sqlCRMPoints = "select b.dblPoints from " + billhd + " a, tblcrmpoints b "
//                        + " where a.strBillNo=b.strBillNo "
//                        + " and a.strClientCode=b.strClientCode "
//                        + " and a.strBillNo='" + billNo + "' "
//                        + " and a.strPOSCode='" + POSCode + "' "
//                        + " and date(a.dteBillDate)='" + billDate + "' ";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sqlCRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format5");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//            if (flgComplimentaryBill)
//            {
//                funWriteTotal("SUB TOTAL", "0.00", BillOut, "Format5");
//                BillOut.newLine();
//            }
//            else
//            {
//                funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format5");
//                BillOut.newLine();
//            }
//            sql = "select a.dblDiscPer,a.dblDiscAmt,a.strDiscOnType,a.strDiscOnValue,b.strReasonName,a.strDiscRemarks "
//                    + " from " + billDscFrom + " a ,tblreasonmaster b," + billhd + " c "
//                    + " where  a.strDiscReasonCode=b.strReasonCode "
//                    + " and a.strBillNo=c.strBillNo "
//                    + " and a.strClientCode=c.strClientCode "
//                    + " and date(a.dteBillDate)=date(c.dteBillDate) "
//                    + " and a.strBillNo='" + billNo + "' "
//                    + " and c.strPOSCode='" + POSCode + "' "
//                    + " and date(c.dteBillDate)='" + billDate + "' ";
//            ResultSet rsDisc = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            boolean flag = true;
//            while (rsDisc.next())
//            {
//                if (flag)
//                {
//                    flag = false;
//                    BillOut.write("  DISCOUNT");
//                    BillOut.newLine();
//                }
//                double dbl = Double.parseDouble(rsDisc.getString("dblDiscPer"));
//                String dbl2 = objFormat.format(Math.rint(dbl));
////                String discText = String.format("%.1f", dbl) + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                String discText = dbl2 + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                if (discText.length() > 30)
//                {
//                    discText = discText.substring(0, 30);
//                }
//                else
//                {
//                    discText = String.format("%-30s", discText);
//                }
//                BillOut.write("  " + discText);
//                String discountOnItem = objUtility.funPrintTextWithAlignment(String.valueOf(decimalFormatFor2DecPoint.format(Math.rint(rsDisc.getDouble("dblDiscAmt")))), 8, "Right");
//                BillOut.write(discountOnItem);
//                BillOut.newLine();
//                BillOut.write("  Reason  : ");
//                String discReason = objUtility.funPrintTextWithAlignment(rsDisc.getString(5), 20, "Left");
//                BillOut.write(discReason);
//                BillOut.newLine();
//                BillOut.write("  Remarks : ");
//                String discRemarks = objUtility.funPrintTextWithAlignment(rsDisc.getString(6), 20, "Left");
//                BillOut.write(discRemarks);
//                BillOut.newLine();
//
//            }
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b," + billhd + " c "
//                    + " where a.strBillNo='" + billNo + "' "
//                    + " and a.strTaxCode=b.strTaxCode "
//                    + " and a.strBillNo=c.strBillNo "
//                    + " and a.strClientCode=c.strClientCode "
//                    + " and date(a.dteBillDate)=date(c.dteBillDate) "
//                    + " and c.strPOSCode='" + POSCode + "' "
//                    + " and b.strTaxCalculation='Forward' "
//                    + " and date(c.dteBillDate)='" + billDate + "' "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//            while (rsTax.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    funWriteTotal(rsTax.getString(1), "0.00", BillOut, "Format5");
//                    BillOut.newLine();
//                }
//                else
//                {
//                    funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format5");
//                    BillOut.newLine();
//                }
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format5");
//                BillOut.newLine();
//            }
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format5");
//                BillOut.newLine();
//            }
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            if (flgComplimentaryBill)
//            {
//                funWriteTotal("TOTAL(ROUNDED)", "0.00", BillOut, "Format5");
//                BillOut.newLine();
//                BillOut.write(Linefor5);
//            }
//            else
//            {
//                funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format5");
//                BillOut.newLine();
//                BillOut.write(Linefor5);
//            }
//
//            //print Grand total of other bill nos from bill series
//            if (clsGlobalVarClass.gEnableBillSeries)
//            {
//                String sqlPrintGT = "select a.strPrintGTOfOtherBills,b.strDtlBillNos,b.dblGrandTotal "
//                        + "from tblbillseries a,tblbillseriesbilldtl b "
//                        + "where (a.strPOSCode=b.strPOSCode or a.strPOSCode='All') "
//                        + "and a.strBillSeries=b.strBillSeries "
//                        + "and b.strHdBillNo='" + billNo + "' "
//                        + "and b.strPOSCode='" + POSCode + "' "
//                        + "and date(b.dteBillDate)='" + billDate + "' ";
//                ResultSet rsPrintGTYN = clsGlobalVarClass.dbMysql.executeResultSet(sqlPrintGT);
//                double dblOtherBillsGT = 0.00;
//                if (rsPrintGTYN.next())
//                {
//                    if (rsPrintGTYN.getString(1).equalsIgnoreCase("Y"))
//                    {
//                        String billSeriesDtlBillNos = rsPrintGTYN.getString(2);
//                        String[] dtlBillSeriesBillNo = billSeriesDtlBillNos.split(",");
//                        dblOtherBillsGT += rsPrintGTYN.getDouble(3);
//                        if (dtlBillSeriesBillNo.length > 0)
//                        {
//                            for (int i = 0; i < dtlBillSeriesBillNo.length; i++)
//                            {
//                                sqlPrintGT = "select a.strHdBillNo,a.dblGrandTotal "
//                                        + "from tblbillseriesbilldtl a "
//                                        + "where a.strHdBillNo='" + dtlBillSeriesBillNo[i] + "' "
//                                        + "and a.strPOSCode='" + POSCode + "' "
//                                        + "and date(a.dteBillDate)='" + billDate + "' ";
//                                ResultSet rsPrintGT = clsGlobalVarClass.dbMysql.executeResultSet(sqlPrintGT);
//                                if (rsPrintGT.next())
//                                {
//                                    BillOut.newLine();
//                                    funWriteTotal(dtlBillSeriesBillNo[i] + " TOTAL(ROUNDED)", rsPrintGT.getString(2), BillOut, "Format5");
//                                    dblOtherBillsGT += rsPrintGT.getDouble(2);
//                                    BillOut.newLine();
//                                }
//                            }
//                            BillOut.newLine();
//                            BillOut.write(Linefor5);
//                            BillOut.newLine();
//                            funWriteTotal("GRAND TOTAL(ROUNDED)", String.valueOf(dblOtherBillsGT), BillOut, "Format5");
//                            BillOut.newLine();
//                            BillOut.write(Linefor5);
//                            BillOut.newLine();
//                        }
//                    }
//                }
//            }
//
//            //settlement breakup part
//            String sqlSettlementBreakup = "select a.dblSettlementAmt, b.strSettelmentDesc, b.strSettelmentType "
//                    + " from " + billSettlementdtl + " a ,tblsettelmenthd b," + billhd + " c "
//                    + " where a.strBillNo=? "
//                    + " and a.strBillNo=c.strBillNo "
//                    + " and a.strClientCode=c.strClientCode "
//                    + " and a.strSettlementCode=b.strSettelmentCode "
//                    + " AND date(a.dteBillDate)=date(c.dteBillDate) "
//                    + " and c.strPOSCode=? "
//                    + " and date(c.dteBillDate)=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlSettlementBreakup);
//            pst.setString(1, billNo);
//            pst.setString(2, POSCode);
//            pst.setString(3, billDate);
//            boolean flgSettlement = false;
//            boolean creditSettlement = false;
//            ResultSet rsBillSettlement = pst.executeQuery();
//            while (rsBillSettlement.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    BillOut.newLine();
//                    funWriteTotal(rsBillSettlement.getString(2), "0.00", BillOut, "Format5");
//                }
//                else
//                {
//                    BillOut.newLine();
//                    funWriteTotal(rsBillSettlement.getString(2), rsBillSettlement.getString(1), BillOut, "Format5");
//                }
//                flgSettlement = true;
//                if (rsBillSettlement.getString(3).equals("Credit"))
//                {
//                    creditSettlement = true;
//                }
//            }
//            rsBillSettlement.close();
//
//            if (flgSettlement)
//            {
//                BillOut.newLine();
//                if (creditSettlement)
//                {
//                    funWriteTotal("Credit Remarks ", rs_BillHD.getString(11), BillOut, "Format5");
//                    BillOut.newLine();
//                    String custName = rs_BillHD.getString(24);
//                    if (!custName.isEmpty())
//                    {
//                        funWriteTotal("Customer " + custName, "", BillOut, "Format5");
//                    }
//                    BillOut.newLine();
//                    BillOut.write(Linefor5);
//                }
//            }
//
//            String sqlTenderAmt = "select sum(a.dblPaidAmt),sum(a.dblSettlementAmt),(sum(a.dblPaidAmt)-sum(a.dblSettlementAmt)) RefundAmt "
//                    + " from " + billSettlementdtl + " a," + billhd + " b "
//                    + " where a.strBillNo=b.strBillNo "
//                    + " and a.strClientCode=b.strClientCode "
//                    + " AND date(a.dteBillDate)=date(b.dteBillDate) "
//                    + " and b.strBillNo='" + billNo + "' "
//                    + " and b.strPOSCode='" + POSCode + "' "
//                    + " and date(b.dteBillDate)='" + billDate + "' "
//                    + " group by a.strBillNo";
//            ResultSet rsTenderAmt = clsGlobalVarClass.dbMysql.executeResultSet(sqlTenderAmt);
//            if (rsTenderAmt.next())
//            {
//                BillOut.newLine();
//                if (flgComplimentaryBill)
//                {
//                    funWriteTotal("PAID AMT", "0.00", BillOut, "Format5");
//                    BillOut.newLine();
//                }
//                else
//                {
//                    funWriteTotal("PAID AMT", rsTenderAmt.getString(1), BillOut, "Format5");
//                    BillOut.newLine();
//                    if (rsTenderAmt.getDouble(3) > 0)
//                    {
//                        funWriteTotal("REFUND AMT", rsTenderAmt.getString(3), BillOut, "Format5");
//                        BillOut.newLine();
//                    }
//                }
//                BillOut.write(Linefor5);
//            }
//            rsTenderAmt.close();
//
//            if (rs_BillHD.getDouble(29) > 0)
//            {
//                BillOut.newLine();
//                funWriteTotal("TIP AMT", rs_BillHD.getString(29), BillOut, "Format5");
//                BillOut.newLine();
//            }
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//                BillOut.write(Linefor5);
//            }
//            BillOut.newLine();
//
//            /**
//             * print Tax Nos
//             */
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            if (clsGlobalVarClass.gEnableBillSeries)
//            {
//                sql = "select b.strPrintInclusiveOfTaxOnBill "
//                        + " from tblbillseriesbilldtl a,tblbillseries b "
//                        + " where a.strBillSeries=b.strBillSeries "
//                        + " and a.strHdBillNo='" + billNo + "' "
//                        + " and a.strClientCode=b.strClientCode "
//                        + " and date(a.dteBillDate)='" + billDate + "' ";
//                ResultSet rsBillSeries = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsBillSeries.next())
//                {
//                    if (rsBillSeries.getString(1).equals("Y"))
//                    {
//                        BillOut.write(Line);
//                        BillOut.newLine();
//                        funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                        BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                        BillOut.newLine();
//                    }
//                }
//                rsBillSeries.close();
//            }
//            else
//            {
//                if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//                {
//                    BillOut.write(Line);
//                    BillOut.newLine();
//                    funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                    BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                    BillOut.newLine();
//                }
//            }
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                footer = footer.replaceAll("\n", "");
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//            BillOut.newLine();
//            funPrintBlankSpace(user, BillOut);
//            BillOut.write(user);
//            BillOut.newLine();
//            BillOut.newLine();
//            BillOut.newLine();
//            BillOut.newLine();
//            BillOut.newLine();
//
//            if (!clsGlobalVarClass.gOpenCashDrawerAfterBillPrintYN)
//            {
//                if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//                {
//                    BillOut.write("V");//Linux
//                }
//                else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//                {
//                    if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                    {
//                        BillOut.write("V");
//                    }
//                    else
//                    {
//                        BillOut.write("m");//windows
//                    }
//                }
//            }
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!clsGlobalVarClass.flgReprintView)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                    else
//                    {
//                        clsGlobalVarClass.flgReprintView = false;
//                    }
//                }
//            }
//            //if (formName.equalsIgnoreCase("sales report"))
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateBillForJasperFormat1(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        HashMap hm = new HashMap();
//
//        clsUtility objUtility = new clsUtility();
//        DecimalFormat decimalFormat = new DecimalFormat("#.###");
//        String Linefor5 = "  --------------------------------------";
//        try
//        {
//
//            String user = "";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billDscFrom = "tblbilldiscdtl";
//            String billPromoDtl = "tblbillpromotiondtl";
//            String billType = " ";
//
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//
//                    String sql = "select count(strBillNo) from tblbillhd where strBillNo='" + billNo + "' ";
//                    ResultSet rsBillTable = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                    rsBillTable.next();
//                    int billCnt = rsBillTable.getInt(1);
//                    if (billCnt == 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            String subTotal = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            boolean flag_DirectBiller = false;
//
//            if (clsGlobalVarClass.gClientCode.equals("117.001"))
//            {
//                if (clsGlobalVarClass.gPOSCode.equals("P01"))
//                {
//                    hm.put("posWiseHeading", "THE PREM'S HOTEL");
//                }
//                else if (clsGlobalVarClass.gPOSCode.equals("P02"))
//                {
//                    hm.put("posWiseHeading", "SWIG");
//                }
//            }
//
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                hm.put("duplicate", "[DUPLICATE]");
//            }
//            if (transType.equals("Void"))
//            {
//                hm.put("voidedBill", "VOIDED BILL");
//            }
//
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime,strCustAddressLine1 "
//                    + "from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            List<clsBillDtl> listOfHomeDeliveryDtl = new ArrayList<>();
//            clsBillDtl objBillDtl = new clsBillDtl();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//
//                String SQL_CustomerDtl = "";
//
//                if (rs_HomeDelivery.getString(5).equals("Home"))
//                {
//                    if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                    {
//
//                        billType = "HOME DELIVERY";
//                    }
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strCustAddress,a.strStreetName"
//                            + " ,a.strLandmark,a.strArea,a.strCity,a.intPinCode,a.longMobileNo "
//                            + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                            + " on a.strBuldingCode=b.strBuildingCode "
//                            + " where a.strCustomerCode=? ;";
//
//                }
//                else
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strCustAddress,a.strOfficeStreetName"
//                            + ",a.strOfficeLandmark,a.strOfficeArea,a.strOfficeCity,a.strOfficePinCode,a.longMobileNo "
//                            + " from tblcustomermaster a "
//                            + " where a.strCustomerCode=? ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    hm.put("NAME", rs_CustomerDtl.getString(1));
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("Name         : " + rs_CustomerDtl.getString(1).toUpperCase());
//                    listOfHomeDeliveryDtl.add(objBillDtl);
//                    // Building Name 
//                    String fulAddress = "";
//                    String fulAddress1 = "";
//                    String fullAddress = "";
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        if (!add1.isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + add1;
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + add1;
//                            }
//                        }
//                        fulAddress += "ADDRESS    :" + add1.toUpperCase();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        if (!add1.isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + add1;
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + add1;
//                            }
//                        }
//                        fulAddress += "ADDRESS    :" + add1.toUpperCase();
//                        //objBillDtl.setStrItemName("ADDRESS    :"+add1.toUpperCase());
//                        // listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//
//                    // Street Name    
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            if (!street1.isEmpty())
//                            {
//                                if (fullAddress.isEmpty())
//                                {
//                                    fullAddress += " " + street1;
//                                }
//                                else
//                                {
//                                    fullAddress += "," + " " + street1;
//                                }
//
//                            }
//                            fulAddress += "Street    :" + street1.toUpperCase();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            if (!street1.isEmpty())
//                            {
//                                if (fullAddress.isEmpty())
//                                {
//                                    fullAddress += " " + street1;
//                                }
//                                else
//                                {
//                                    fullAddress += "," + " " + street1;
//                                }
//
//                                fulAddress += "Street    :" + street1.toUpperCase();
//                                i = streetlen + 1;
//                            }
//                        }
//                    }
//                    // Landmark Name    
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(4).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(4);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(4);
//                            }
//
//                        }
//                        fulAddress += "Landmark    :" + rs_CustomerDtl.getString(4).toUpperCase();
//                    }
//
//                    // Area Name    
//                    if (rs_CustomerDtl.getString(5).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(4).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(4);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(4);
//                            }
//                        }
//                    }
//
//                    // City Name    
//                    if (rs_CustomerDtl.getString(6).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(6).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(6);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(6);
//                            }
//                        }
//                        fulAddress1 += "City    :" + rs_CustomerDtl.getString(6).toUpperCase();
//                    }
//
//                    // Pin Code    
//                    if (rs_CustomerDtl.getString(7).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(7).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(7);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(7);
//                            }
//                        }
//                        fulAddress1 += "Pin    :" + rs_CustomerDtl.getString(7).toUpperCase();
//                    }
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("Address      : " + fullAddress);
//                    listOfHomeDeliveryDtl.add(objBillDtl);
//
//                    hm.put("FullAddress", fullAddress);
//                    if (rs_CustomerDtl.getString(8).isEmpty())
//                    {
//                        hm.put("MOBILE_NO", "");
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("MOBILE_NO  :" + " ");
//                        listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//                    else
//                    {
//                        hm.put("MOBILE_NO", rs_CustomerDtl.getString(8));
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("Mobile No    : " + rs_CustomerDtl.getString(8));
//                        listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//                }
//                rs_CustomerDtl.close();
//
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String[] delBoys = rs_HomeDelivery.getString(3).split(",");
//                    StringBuilder strIN = new StringBuilder("(");
//                    for (int i = 0; i < delBoys.length; i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append("'" + delBoys[i] + "'");
//                        }
//                        else
//                        {
//                            strIN.append(",'" + delBoys[i] + "'");
//                        }
//                    }
//                    strIN.append(")");
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode IN " + strIN + " ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    strIN.setLength(0);
//                    for (int i = 0; rs_DeliveryBoyDtl.next(); i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append(rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                        else
//                        {
//                            strIN.append("," + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                    }
//
//                    if (strIN.toString().isEmpty())
//                    {
//                        hm.put("DELV BOY", "");
//                    }
//                    else
//                    {
//                        hm.put("DELV BOY", "Delivery Boy : " + strIN);
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("Delivery Boy : " + strIN);
//                        listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//                    rs_DeliveryBoyDtl.close();
//                }
//                else
//                {
//                    hm.put("DELV BOY", "");
//                }
//            }
//            rs_HomeDelivery.close();
//            int result = funPrintTakeAwayForJasper(billhd, billNo);
//            if (result == 1)
//            {
//                billType = "Take Away";
//            }
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                hm.put("TAX_INVOICE", "TAX INVOICE");
//            }
//            if (clsGlobalVarClass.gClientCode.equals("047.001") && clsGlobalVarClass.gPOSCode.equals("P03"))
//            {
//                hm.put("ClientName", "SHRI SHAM CATERERS");
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                String cAddr4 = "Approved Caterers of";
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                hm.put("ClientAddress1", cAddr1 + cAddr2);
//                hm.put("ClientAddress2", cAddr3 + cAddr4);
//                hm.put("ClientAddress3", cAddr5);
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("047.001") && clsGlobalVarClass.gPOSCode.equals("P02"))
//            {
//                hm.put("ClientName", "SHRI SHAM CATERERS");
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                String cAddr4 = "Approved Caterers of";
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                hm.put("ClientAddress1", cAddr1 + cAddr2);
//                hm.put("ClientAddress2", cAddr3 + cAddr4);
//                hm.put("ClientAddress3", cAddr5);
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.
//            {
//                hm.put("ClientName", "SSPL");
//                hm.put("ClientAddress1", clsGlobalVarClass.gClientAddress1);
//                hm.put("ClientAddress2", clsGlobalVarClass.gClientAddress2);
//                hm.put("ClientAddress3", clsGlobalVarClass.gClientAddress3);
//
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    hm.put("ClientCity", clsGlobalVarClass.gCityName);
//                }
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("190.001"))
//            {
//                String licenseName = clsGlobalVarClass.gClientName;
//                if (billNo.startsWith("L"))//liqour bill license name
//                {
//                    licenseName = "STEP-IN-AGENCIES & ESTATE PVT LTD";
//                }
//                else
//                {
//                    licenseName = clsGlobalVarClass.gClientName;
//                }
//
//                hm.put("ClientName", licenseName);
//                hm.put("ClientAddress1", clsGlobalVarClass.gClientAddress1);
//                hm.put("ClientAddress2", clsGlobalVarClass.gClientAddress2);
//                hm.put("ClientAddress3", clsGlobalVarClass.gClientAddress3);
//
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    hm.put("ClientCity", clsGlobalVarClass.gCityName);
//                }
//            }
//            else
//            {
//                hm.put("ClientName", clsGlobalVarClass.gClientName);
//                hm.put("ClientAddress1", clsGlobalVarClass.gClientAddress1);
//                hm.put("ClientAddress2", clsGlobalVarClass.gClientAddress2);
//                hm.put("ClientAddress3", clsGlobalVarClass.gClientAddress3);
//
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    hm.put("ClientCity", clsGlobalVarClass.gCityName);
//                }
//            }
//
//            hm.put("TEL NO", String.valueOf(clsGlobalVarClass.gClientTelNo));
//            hm.put("EMAIL ID", clsGlobalVarClass.gClientEmail);
//            hm.put("Line", Linefor5);
//
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            boolean flgComplimentaryBill = false;
//            String sql = "select b.strSettelmentType from " + billSettlementdtl + " a,tblsettelmenthd b "
//                    + " where a.strSettlementCode=b.strSettelmentCode and a.strBillNo='" + billNo + "' and b.strSettelmentType='Complementary' ";
//            ResultSet rsSettlementType = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            if (rsSettlementType.next())
//            {
//                flgComplimentaryBill = true;
//            }
//            rsSettlementType.close();
//
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer,c.strPOSName "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tblposmaster c on a.strPOSCode=c.strPOSCode "
//                        + "where a.strBillNo=?  ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer,d.strPOSName,a.intPaxNo "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "left outer join tblposmaster d on a.strPOSCode=d.strPOSCode "
//                        + "where a.strBillNo=? and b.strOperational='Y' ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                if (rs_BillHD.next())
//                {
//                    tabNo = rs_BillHD.getString(1);
//                    if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                    {
//                        waiterNo = "";
//                    }
//                    else
//                    {
//                        waiterNo = rs_BillHD.getString(2);
//                        query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                        pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                        pst.setString(1, waiterNo);
//                        rsQuery = pst.executeQuery();
//                        if (rsQuery.next())
//                        {
//                            waiterName = rsQuery.getString(1);
//                        }
//                        rsQuery.close();
//                        pst.close();
//                    }
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                if (rsTblName.next())
//                {
//                    tblName = rsTblName.getString(1);
//                }
//                rsTblName.close();
//                pst.close();
//            }
//
//            // funPrintTakeAway(billhd, billNo, BillOut);
//            if (flag_DirectBillerBlill)
//            {
//                hm.put("POS", rs_BillHD.getString(14));
//                hm.put("BillNo", billNo);
//
//                if (clsGlobalVarClass.gPrintTimeOnBillYN)
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(1)));
//                }
//                else
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(1)));
//                }
//
//                subTotal = rs_BillHD.getString(4);
//                grandTotal = rs_BillHD.getString(6);
//                user = rs_BillHD.getString(10);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//            }
//            else
//            {
//                hm.put("TABLE NAME", tblName);
//
//                if (waiterName.trim().length() > 0)
//                {
//                    hm.put("waiterName", waiterName);
//                }
//                hm.put("POS", rs_BillHD.getString(16));
//                hm.put("BillNo", billNo);
//                hm.put("PaxNo", rs_BillHD.getString(17));
//
//                if (clsGlobalVarClass.gPrintTimeOnBillYN)
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(3)));
//                }
//                else
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(3)));
//                }
//
//                subTotal = rs_BillHD.getString(6);
//                grandTotal = rs_BillHD.getString(8);
//                user = rs_BillHD.getString(12);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//            }
//
//            List<clsBillDtl> listOfBillDetail = new ArrayList<>();
//            String SQL_BillDtl = "select sum(a.dblQuantity),a.strItemName as ItemLine1"
//                    + " ,MID(a.strItemName,23,LENGTH(a.strItemName)) as ItemLine2"
//                    + " ,sum(a.dblAmount),a.strItemCode,a.strKOTNo "
//                    + " from " + billdtl + " a "
//                    + " where a.strBillNo=? and a.tdhYN='N' ";
//            if (!clsGlobalVarClass.gPrintOpenItemsOnBill)
//            {
//                SQL_BillDtl += "and a.dblAmount>0 ";
//            }
//            SQL_BillDtl += " group by a.strItemCode ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                double saleQty = rs_BillDtl.getDouble(1);
//                String sqlPromoBills = "select dblQuantity from " + billPromoDtl + " "
//                        + " where strBillNo='" + billNo + "' and strItemCode='" + rs_BillDtl.getString(5) + "' "
//                        + " and strPromoType='ItemWise' ";
//                ResultSet rsPromoItems = clsGlobalVarClass.dbMysql.executeResultSet(sqlPromoBills);
//                if (rsPromoItems.next())
//                {
//                    saleQty -= rsPromoItems.getDouble(1);
//                }
//                rsPromoItems.close();
//
//                String qty = String.valueOf(saleQty);
//                if (qty.contains("."))
//                {
//                    String decVal = qty.substring(qty.length() - 2, qty.length());
//                    if (Double.parseDouble(decVal) == 0)
//                    {
//                        qty = qty.substring(0, qty.length() - 2);
//                    }
//                }
//
//                if (saleQty > 0)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setDblQuantity(Double.parseDouble(decimalFormat.format(Double.parseDouble(qty))));
//                    objBillDtl.setDblAmount(rs_BillDtl.getDouble(4));
//                    objBillDtl.setStrItemName(rs_BillDtl.getString(2));
//                    listOfBillDetail.add(objBillDtl);
//
//                    String sqlModifier = "select count(*) "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(5));
//                    ResultSet rs_count = pst.executeQuery();
//                    rs_count.next();
//                    int cntRecord = rs_count.getInt(1);
//                    rs_count.close();
//                    if (cntRecord > 0)
//                    {
//                        sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                                + " from " + billModifierdtl + " "
//                                + " where strBillNo=? and left(strItemCode,7)=? ";
//                        if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                        {
//                            sqlModifier += " and  dblAmount !=0.00 ";
//                        }
//                        pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                        pst.setString(1, billNo);
//                        pst.setString(2, rs_BillDtl.getString(5));
//                        ResultSet rs_modifierRecord = pst.executeQuery();
//                        while (rs_modifierRecord.next())
//                        {
//                            if (flgComplimentaryBill)
//                            {
//                                objBillDtl = new clsBillDtl();
//                                objBillDtl.setDblQuantity(Double.parseDouble(decimalFormat.format(rs_modifierRecord.getDouble(2))));
//                                objBillDtl.setDblAmount(0);
//                                objBillDtl.setStrItemName(rs_modifierRecord.getString(1).toUpperCase());
//                                listOfBillDetail.add(objBillDtl);
//                            }
//                            else
//                            {
//                                objBillDtl = new clsBillDtl();
//                                objBillDtl.setDblQuantity(Double.parseDouble(decimalFormat.format(rs_modifierRecord.getDouble(2))));
//                                objBillDtl.setDblAmount(rs_modifierRecord.getDouble(3));
//                                objBillDtl.setStrItemName(rs_modifierRecord.getString(1).toUpperCase());
//                                listOfBillDetail.add(objBillDtl);
//                            }
//                        }
//                        rs_modifierRecord.close();
//                    }
//                }
//            }
//            rs_BillDtl.close();
//
//            funPrintPromoItemsInBill(billNo, 4, listOfBillDetail);  // Print Promotion Items in Bill for this billno.
//
//            List<clsBillDtl> listOfDiscountDtl = new ArrayList<>();
//            sql = "select a.dblDiscPer,a.dblDiscAmt,a.strDiscOnType,a.strDiscOnValue,b.strReasonName,a.strDiscRemarks "
//                    + "from " + billDscFrom + " a ,tblreasonmaster b "
//                    + "where  a.strDiscReasonCode=b.strReasonCode "
//                    + "and a.strBillNo='" + billNo + "' ";
//            ResultSet rsDisc = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//
//            boolean flag = true;
//            while (rsDisc.next())
//            {
//                if (flag)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("Discount");
//                    listOfDiscountDtl.add(objBillDtl);
//                    flag = false;
//                }
//                double dbl = Double.parseDouble(rsDisc.getString("dblDiscPer"));
//                String discText = String.format("%.1f", dbl) + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                if (discText.length() > 30)
//                {
//                    discText = discText.substring(0, 30);
//                }
//                else
//                {
//                    discText = String.format("%-30s", discText);
//                }
//
//                String discountOnItem = objUtility.funPrintTextWithAlignment(rsDisc.getString("dblDiscAmt"), 8, "Right");
//                hm.put("Discount", discText + " " + discountOnItem);
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName(discText);
//                objBillDtl.setDblAmount(rsDisc.getDouble("dblDiscAmt"));
//                listOfDiscountDtl.add(objBillDtl);
//
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName("Reason :" + " " + rsDisc.getString("strReasonName"));
//                listOfDiscountDtl.add(objBillDtl);
//
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName("Remark :" + " " + rsDisc.getString("strDiscRemarks"));
//                listOfDiscountDtl.add(objBillDtl);
//            }
//
//            List<clsBillDtl> listOfTaxDetail = new ArrayList<>();
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount),b.strBillNote "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//
//            while (rsTax.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setDblAmount(0);
//                    objBillDtl.setStrItemName(rsTax.getString(1));
//                    listOfTaxDetail.add(objBillDtl);
//                    hm.put("GSTNo", rsTax.getString(3));
//                }
//                else
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setDblAmount(rsTax.getDouble(2));
//                    objBillDtl.setStrItemName(rsTax.getString(1));
//                    listOfTaxDetail.add(objBillDtl);
//                    hm.put("GSTNo", rsTax.getString(3));
//                }
//            }
//            rsTax.close();
//            List<clsBillDtl> listOfGrandTotalDtl = new ArrayList<>();
//            if (Double.parseDouble(grandTotal) > 0)
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setDblAmount(Double.parseDouble(grandTotal));
//                listOfGrandTotalDtl.add(objBillDtl);
//            }
//
//            List<clsBillDtl> listOfSettlementDetail = new ArrayList<>();
//            //settlement breakup part
//            String sqlSettlementBreakup = "select a.dblSettlementAmt, b.strSettelmentDesc, b.strSettelmentType "
//                    + " from " + billSettlementdtl + " a ,tblsettelmenthd b "
//                    + "where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlSettlementBreakup);
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName(rs_Bill_Settlement.getString(2));
//                    objBillDtl.setDblAmount(0.00);
//                    listOfSettlementDetail.add(objBillDtl);
//                }
//                else
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName(rs_Bill_Settlement.getString(2));
//                    objBillDtl.setDblAmount(rs_Bill_Settlement.getDouble(1));
//                    listOfSettlementDetail.add(objBillDtl);
//                }
//            }
//            rs_Bill_Settlement.close();
//
//            String sqlTenderAmt = "select sum(dblPaidAmt),sum(dblSettlementAmt),(sum(dblPaidAmt)-sum(dblSettlementAmt)) RefundAmt "
//                    + " from " + billSettlementdtl + " where strBillNo='" + billNo + "' "
//                    + " group by strBillNo";
//            ResultSet rsTenderAmt = clsGlobalVarClass.dbMysql.executeResultSet(sqlTenderAmt);
//            if (rsTenderAmt.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("PAID AMT");
//                    objBillDtl.setDblAmount(0.00);
//                    listOfSettlementDetail.add(objBillDtl);
//                }
//                else
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("PAID AMT");
//                    objBillDtl.setDblAmount(rsTenderAmt.getDouble(1));
//                    listOfSettlementDetail.add(objBillDtl);
//                    if (rsTenderAmt.getDouble(3) > 0)
//                    {
//
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("REFUND AMT");
//                        objBillDtl.setDblAmount(rsTenderAmt.getDouble(3));
//                        listOfSettlementDetail.add(objBillDtl);
//                    }
//                }
//            }
//            rsTenderAmt.close();
//
//            if (flag_isHomeDelvBill)
//            {
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                hm.put("CUSTOMER_COUNT", rs_Count.getString(1));
//            }
//
//            List<clsBillDtl> listOfServiceVatDetail = funPrintServiceVatNoForJasper(billNo, billDate, billtaxdtl);
//            List<clsBillDtl> listOfFooterDtl = new ArrayList<>();
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName("THANK YOU AND VISIT AGAIN !!!");
//            listOfFooterDtl.add(objBillDtl);
//
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                hm.put("ch", "V");
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    hm.put("ch", "V");
//                }
//                else
//                {
//                    hm.put("ch", "m");
//                }
//            }
//
//            hm.put("BillType", billType);
//            hm.put("listOfItemDtl", listOfBillDetail);
//            hm.put("listOfTaxDtl", listOfTaxDetail);
//            hm.put("listOfGrandTotalDtl", listOfGrandTotalDtl);
//            hm.put("listOfServiceVatDetail", listOfServiceVatDetail);
//            hm.put("listOfFooterDtl", listOfFooterDtl);
//            hm.put("listOfHomeDeliveryDtl", listOfHomeDeliveryDtl);
//            hm.put("listOfDiscountDtl", listOfDiscountDtl);
//            hm.put("listOfSettlementDetail", listOfSettlementDetail);
//
//            List<List<clsBillDtl>> listData = new ArrayList<>();
//            listData.add(listOfBillDetail);
//
//            String reportName = "";
//            if (listOfHomeDeliveryDtl.size() > 0)
//            {
//                reportName = "com/POSGlobal/reports/rptBillFormat5JasperReportHD.jasper";
//            }
//            else if (result == 1)
//            {
//                reportName = "com/POSGlobal/reports/rptBillFormat5JasperReportNormalBill.jasper";
//            }
//            else
//            {
//                reportName = "com/POSGlobal/reports/rptBillFormat5JasperReportNormalBill.jasper";
//            }
//            JRBeanCollectionDataSource beanColDataSource = new JRBeanCollectionDataSource(listData);
//            InputStream is = this.getClass().getClassLoader().getResourceAsStream(reportName);
//            JasperPrint print = JasperFillManager.fillReport(is, hm, beanColDataSource);
//
//            JRViewer viewer = new JRViewer(print);
//            JFrame jf = new JFrame();
//            jf.getContentPane().add(viewer);
//            jf.validate();
//            if (clsGlobalVarClass.gShowBill)
//            {
//                jf.setVisible(true);
//                jf.setSize(new Dimension(850, 750));
//                jf.setLocationRelativeTo(null);
//                jf.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
//            }
//
//            if (clsGlobalVarClass.gMultiBillPrint)
//            {
//                for (int i = 0; i < 2; i++)
//                {
//                    new Thread()
//                    {
//                        @Override
//                        public void run()
//                        {
//                            funPrintJasperExporterInThread(print);
//                        }
//                    }.start();
//                }
//            }
//            else
//            {
//                new Thread()
//                {
//                    @Override
//                    public void run()
//                    {
//                        funPrintJasperExporterInThread(print);
//                    }
//                }.start();
//
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funAdvancedOrderTextFileGenerator(String advBookNo, String receiptNo, String posCode, String Reprint, String custName, String orderDate, String waiterName, String formName)
//    {
//        try
//        {
//            String advBookingHd = "tbladvbookbillhd";
//            String advBookingDtl = "tbladvbookbilldtl";
//            String advBookingModDtl = "tbladvordermodifierdtl";
//            String advBookingCharDtl = "tbladvbookbillchardtl";
//            String advReceiptHd = "tbladvancereceipthd";
//            String advReceiptDtl = "tbladvancereceiptdtl";
//
//            String sql = "select strAdvBookingNo from tblqadvbookbillhd "
//                    + " where strAdvBookingNo='" + advBookNo + "' and strClientCode='" + clsGlobalVarClass.gClientCode + "' ";
//            ResultSet rsAdvOrder = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            if (rsAdvOrder.next())
//            {
//                advBookingHd = "tblqadvbookbillhd";
//                advBookingDtl = "tblqadvbookbilldtl";
//                advBookingModDtl = "tblqadvordermodifierdtl";
//                advBookingCharDtl = "tblqadvbookbillchardtl";
//                advReceiptHd = "tblqadvancereceipthd";
//                advReceiptDtl = "tblqadvancereceiptdtl";
//            }
//            rsAdvOrder.close();
//
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter advOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(Reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", advOut);
//                advOut.write("[DUPLICATE]");
//                advOut.newLine();
//            }
//            funPrintBlankSpace("ADVANCE RECEIPT", advOut);
//            advOut.write("ADVANCE RECEIPT");
//            advOut.newLine();
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.
//            {
//                funPrintBlankSpace("SSPL", advOut);
//                advOut.write("SSPL");
//                advOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, advOut);
//                advOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                advOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, advOut);
//            advOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            advOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, advOut);
//                advOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                advOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, advOut);
//                advOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                advOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, advOut);
//                advOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                advOut.newLine();
//            }
//
//            advOut.write("  TEL NO.   :" + " ");
//            advOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            advOut.newLine();
//            advOut.write("  EMAIL ID  :" + " ");
//            advOut.write(clsGlobalVarClass.gClientEmail);
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String sql_advOrder_SuTtotal = "select a.dblSubTotal,a.dblTaxAmt,b.dblAdvDeposite"
//                    + ",a.strMessage,a.strShape,a.strNote,a.dblHomeDelCharges,a.strManualAdvOrderNo "
//                    + "from " + advBookingHd + " a ," + advReceiptHd + " b "
//                    + "where a.strAdvBookingNo=b.strAdvBookingNo and a.strAdvBookingNo=?";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//            pst.setString(1, advBookNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            rs_advOrder_Tot.next();
//            advOut.write("  ADV ORD NO  :" + advBookNo);
//            advOut.newLine();
//            if (clsGlobalVarClass.gPrintManualAdvOrderNoOnBill)
//            {
//                if (rs_advOrder_Tot.getString(8).trim().length() > 0)
//                {
//                    advOut.write("  MANUAL NO  :" + rs_advOrder_Tot.getString(8));
//                    advOut.newLine();
//                }
//            }
//
//            String sql_settle = "select DATE(b.dteInstallment) "
//                    + " from " + advReceiptHd + " a," + advReceiptDtl + " b,tblsettelmenthd c," + advBookingHd + " d "
//                    + " where a.strReceiptNo=b.strReceiptNo and b.strSettlementCode=c.strSettelmentCode "
//                    + " and a.strAdvBookingNo=? and d.strAdvBookingNo=a.strAdvBookingNo ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_settle);
//            pst.setString(1, advBookNo);
//            ResultSet rsAdvOrderDate = pst.executeQuery();
//            if (rsAdvOrderDate.next())
//            {
//                advOut.write("  ORDER DATE    :" + objUtility.funGetDateInFormat(rsAdvOrderDate.getString(1), "dd-MM-yyyy"));
//                advOut.newLine();
//            }
//            rsAdvOrderDate.close();
//
//            String orderDateTime = objUtility.funGetDateInFormat(orderDate.split(" ")[0], "dd-MM-yyyy");
//            orderDateTime += " " + orderDate.split(" ")[1];
//            advOut.write("  ORDER FOR   :" + orderDateTime);
//            advOut.newLine();
//            if (waiterName.trim().length() > 0)
//            {
//                advOut.write("  ORDER BY  :" + waiterName.toUpperCase());
//                advOut.newLine();
//            }
//            advOut.write("  CUST NAME   :" + custName.toUpperCase());
//            advOut.newLine();
//
//            sql = "select b.longMobileNo "
//                    + " from " + advBookingHd + " a,tblcustomermaster b "
//                    + " where a.strCustomerCode=b.strCustomerCode and a.strAdvBookingNo='" + advBookNo + "'";
//            ResultSet rsCustMbNo = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            if (rsCustMbNo.next())
//            {
//                advOut.write("  Mobile No   :" + rsCustMbNo.getString(1));
//                advOut.newLine();
//            }
//            rsCustMbNo.close();
//
//            advOut.write(Line);
//            advOut.newLine();
//            funPrintBlankSpace("ORDER DETAIL", advOut);
//            advOut.write("ORDER DETAIL");
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//            String msg = rs_advOrder_Tot.getString(4).toUpperCase();
//            String shape = rs_advOrder_Tot.getString(5).toUpperCase();
//            String note = rs_advOrder_Tot.getString(6).toUpperCase();
//
//            String[] arrSpMsg = msg.split("}");
//            for (int cnt = 0; cnt < arrSpMsg.length; cnt++)
//            {
//                msg = arrSpMsg[cnt];
//                int strlenMsg = msg.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = msg.substring(0, strlenMsg);
//                        advOut.write("  MESSAGE " + (cnt + 1) + "    :" + msg1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(0, 27);
//                        //BillOut.write("  MESSAGE     :"+msg1);;
//                        advOut.write("  MESSAGE " + (cnt + 1) + "    :" + msg1);;
//                        advOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = msg.substring(i, endmsg);
//                            i = endmsg;
//                            advOut.write("               " + msg1);
//                            advOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(i, strlenMsg);
//                            advOut.write("               " + msg1);
//                            advOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//            }
//
//            String[] arrSpShape = shape.split("}");
//            for (int cnt = 0; cnt < arrSpShape.length; cnt++)
//            {
//                shape = arrSpShape[cnt];
//                int strlenShape = shape.length();
//                if (strlenShape > 0)
//                {
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = shape.substring(0, strlenShape);
//                        advOut.write("  SHAPE " + (cnt + 1) + "      :" + shape1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(0, 27);
//                        advOut.write("  SHAPE " + (cnt + 1) + "      :" + shape1);
//                        advOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = shape.substring(j, endShape);
//                            j = endShape;
//                            advOut.write("               " + shape1);
//                            advOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(j, strlenShape);
//                            advOut.write("               " + shape1);
//                            advOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }
//            }
//            int strlenNote = note.length();
//            if (strlenNote > 0)
//            {
//
//                String note1 = "";
//                if (strlenNote < 27)
//                {
//                    note1 = note.substring(0, strlenNote);
//                    advOut.write("  NOTE        :" + note1);
//                    advOut.newLine();
//                }
//                else
//                {
//                    note1 = note.substring(0, 27);
//                    advOut.write("  NOTE        :" + note1);;
//                    advOut.newLine();
//                }
//                for (int i = 27; i <= strlenNote; i++)
//                {
//                    int endNote = 0;
//                    endNote = i + 27;
//                    if (strlenNote > endNote)
//                    {
//                        note1 = note.substring(i, endNote);
//                        i = endNote;
//                        advOut.write("               " + note1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(i, strlenNote);
//                        advOut.write("               " + note1);
//                        advOut.newLine();
//                        i = strlenNote + 1;
//                    }
//                }
//            }
//
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//            advOut.write("   QTY        ITEM NAME            AMT");
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String SQL_AdvOrderDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount),strItemCode,dblWeight "
//                    + " from " + advBookingDtl + " where strAdvBookingNo=? group by strItemCode ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_AdvOrderDtl);
//            pst.setString(1, advBookNo);
//            ResultSet rs_AdvOrderDtl = pst.executeQuery();
//            while (rs_AdvOrderDtl.next())
//            {
//                double weight = rs_AdvOrderDtl.getDouble(5);
//                String qty = rs_AdvOrderDtl.getString(1);
//                if (qty.contains("."))
//                {
//                    String decVal = qty.substring(qty.length() - 2, qty.length());
//                    if (Double.parseDouble(decVal) == 0)
//                    {
//                        qty = qty.substring(0, qty.length() - 3);
//                    }
//                }
//
//                //funWriteToText(advOut, rs_AdvOrderDtl.getString(1), rs_AdvOrderDtl.getString(2).toUpperCase(), rs_AdvOrderDtl.getString(3), "Format1");
//                qty = objUtility.funPrintTextWithAlignment(qty, 5, "Left");
//                advOut.write("   " + qty);
//
//                String itemName = objUtility.funPrintTextWithAlignment(rs_AdvOrderDtl.getString(2), 26, "Left");
//                advOut.write(itemName.toUpperCase());
//                String itemAmt = objUtility.funPrintTextWithAlignment(rs_AdvOrderDtl.getString(3), 8, "Left");
//                advOut.write(itemAmt);
//                advOut.newLine();
//                String SQL_ModifierDtl_count = "select Count(*) from " + advBookingModDtl + " "
//                        + "where strAdvOrderNo=? and strItemCode=? ";
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    SQL_ModifierDtl_count += " and dblAmount !=0.00 ;";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl_count);
//                pst.setString(1, advBookNo);
//                pst.setString(2, rs_AdvOrderDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    String SQL_ModifierDtl = "select strModifierName,dblQuantity,dblAmount from " + advBookingModDtl + " "
//                            + "where strAdvOrderNo=? and strItemCode=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        SQL_ModifierDtl += " and dblAmount !=0.00 ;";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl);
//                    pst.setString(1, advBookNo);
//                    pst.setString(2, rs_AdvOrderDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(advOut, rs_modifierRecord.getString(2), rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format1");
//                        advOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//                }
//
//                if (weight > 0)
//                {
//                    advOut.write("     Weight");
//                    advOut.write("     " + weight);
//                    advOut.newLine();
//                }
//
//                sql = "select b.strCharName,a.strCharValues,a.strItemCode "
//                        + " from " + advBookingCharDtl + " a,tblcharactersticsmaster b "
//                        + " where a.strCharCode=b.strCharCode and a.strAdvBookingNo='" + advBookNo + "' "
//                        + " and a.strItemCode='" + rs_AdvOrderDtl.getString(4) + "' ";
//                ResultSet rsCharDtl = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                while (rsCharDtl.next())
//                {
//                    String charName = objUtility.funPrintTextWithAlignment(rsCharDtl.getString(1), 12, "Left");
//                    advOut.write("     " + charName);
//                    String charVal = objUtility.funPrintTextWithAlignment(rsCharDtl.getString(2), 28, "Left");
//                    advOut.write("     " + charVal);
//                    advOut.newLine();
//                }
//                rsCharDtl.close();
//            }
//            rs_AdvOrderDtl.close();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String subTotal = rs_advOrder_Tot.getString(1);
//            String tax = rs_advOrder_Tot.getString(2);
//            String advAmt = rs_advOrder_Tot.getString(3);
//            String delCharges = rs_advOrder_Tot.getString(7);
//            double bal = (Double.parseDouble(subTotal) + Double.parseDouble(tax) + Double.parseDouble(delCharges)) - Double.parseDouble(advAmt);
//
//            funWriteTotal("SUB TOTAL", subTotal, advOut, "Format1");
//            advOut.newLine();
//            funWriteTotal("TAX", tax, advOut, "Format1");
//            double subTotalWithDelCharges = Double.parseDouble(subTotal) + Double.parseDouble(delCharges);
//            if (subTotalWithDelCharges < Double.parseDouble(advAmt))
//            {
//                advAmt = subTotal;
//            }
//            advOut.newLine();
//
//            if (Double.parseDouble(delCharges) > 0)
//            {
//                funWriteTotal("DEL CHARGES", delCharges, advOut, "Format1");
//                advOut.newLine();
//            }
//            funWriteTotal("ADVANCE AMOUNT", advAmt, advOut, "Format1");
//            advOut.newLine();
//
//            advOut.write(Line);
//            advOut.newLine();
//            if (bal <= 0)
//            {
//                bal = 0.00;
//            }
//
//            funWriteTotal("BALANCE", String.valueOf(bal).concat("0"), advOut, "Format1");
//            advOut.newLine();
//
//            //footer part
//            advOut.write(Line);
//            advOut.newLine();
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", advOut);
//                advOut.write("(INCLUSIVE OF ALL TAXES)");
//                advOut.newLine();
//            }
//            advOut.write("    " + clsGlobalVarClass.gBillFooter);
//
//            advOut.newLine();
//            advOut.newLine();
//            advOut.newLine();
//            advOut.newLine();
//            advOut.newLine();
//            advOut.newLine();
//
//            if (!clsGlobalVarClass.gOpenCashDrawerAfterBillPrintYN)
//            {
//                if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//                {
//                    advOut.write("V");//Linux
//                }
//                else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//                {
//                    if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                    {
//                        advOut.write("V");
//                    }
//                    else
//                    {
//                        advOut.write("m");//windows
//                    }
//                }
//            }
//            advOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("AdvanceOrderFlash"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, "", "");
//                }
//
//                String printerName = clsGlobalVarClass.gAdvReceiptPrinterPort;
//                int advCount = Integer.parseInt(clsGlobalVarClass.gAdvRecPrintCount);
//                for (int i = 0; i < advCount; i++)
//                {
//                    funPrintToPrinter(printerName, "", "Adv Receipt", "N", isReprint);
//                }
//
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funAdvancedOrderJaspetReportGenerator(String advBookNo, String receiptNo, String posCode, String Reprint, String custName, String orderDate, String waiterName, String formName)
//    {
//        HashMap hm = new HashMap();
//        List<clsBillDtl> listHeaderDtl = new ArrayList<>();
//        List<clsBillDtl> listTitleDtl = new ArrayList<>();
//        List<clsBillDtl> listFooterAmountDtl = new ArrayList<>();
//        List<clsBillDtl> listNormalOrderDtl = new ArrayList<>();
//        clsBillDtl objBillDtl = new clsBillDtl();
//        String Linefor5 = "  --------------------------------------";
//        try
//        {
//            String advBookingHd = "tbladvbookbillhd";
//            String advBookingDtl = "tbladvbookbilldtl";
//            String advBookingModDtl = "tbladvordermodifierdtl";
//            String advBookingCharDtl = "tbladvbookbillchardtl";
//            String advReceiptHd = "tbladvancereceipthd";
//            String advReceiptDtl = "tbladvancereceiptdtl";
//
//            String sql = "select strAdvBookingNo from tblqadvbookbillhd "
//                    + " where strAdvBookingNo='" + advBookNo + "' and strClientCode='" + clsGlobalVarClass.gClientCode + "' ";
//            ResultSet rsAdvOrder = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            if (rsAdvOrder.next())
//            {
//                advBookingHd = "tblqadvbookbillhd";
//                advBookingDtl = "tblqadvbookbilldtl";
//                advBookingModDtl = "tblqadvordermodifierdtl";
//                advBookingCharDtl = "tblqadvbookbillchardtl";
//                advReceiptHd = "tblqadvancereceipthd";
//                advReceiptDtl = "tblqadvancereceiptdtl";
//            }
//            rsAdvOrder.close();
//
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter advOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(Reprint))
//            {
//                isReprint = true;
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName("[DUPLICATE]");
//                listTitleDtl.add(objBillDtl);
//            }
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName("ADVANCE RECEIPT");
//            listTitleDtl.add(objBillDtl);
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName(clsGlobalVarClass.gClientName);
//            listTitleDtl.add(objBillDtl);
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName(clsGlobalVarClass.gClientAddress1);
//            listTitleDtl.add(objBillDtl);
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName(clsGlobalVarClass.gClientAddress2);
//            listTitleDtl.add(objBillDtl);
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName(clsGlobalVarClass.gClientAddress3);
//            listTitleDtl.add(objBillDtl);
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName(clsGlobalVarClass.gCityName);
//                listTitleDtl.add(objBillDtl);
//            }
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemCode("TEL NO           :");
//            objBillDtl.setStrItemName(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            listHeaderDtl.add(objBillDtl);
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemCode("EMAIL ID         :");
//            objBillDtl.setStrItemName(clsGlobalVarClass.gClientEmail);
//            listHeaderDtl.add(objBillDtl);
//
//            String sql_advOrder_SuTtotal = "select a.dblSubTotal,a.dblTaxAmt,b.dblAdvDeposite"
//                    + ",a.strMessage,a.strShape,a.strNote,a.dblHomeDelCharges,a.strManualAdvOrderNo "
//                    + "from " + advBookingHd + " a ," + advReceiptHd + " b "
//                    + "where a.strAdvBookingNo=b.strAdvBookingNo and a.strAdvBookingNo=?";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//            pst.setString(1, advBookNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            rs_advOrder_Tot.next();
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemCode("ADV ORD NO   :");
//            objBillDtl.setStrItemName(advBookNo);
//            listHeaderDtl.add(objBillDtl);
//
//            if (clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//            {
//                if (rs_advOrder_Tot.getString(8).trim().length() > 0)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemCode("MANUAL NO    :");
//                    objBillDtl.setStrItemName(rs_advOrder_Tot.getString(8));
//                    listHeaderDtl.add(objBillDtl);
//                }
//            }
//
//            String sql_settle = "select DATE(b.dteInstallment) "
//                    + " from " + advReceiptHd + " a," + advReceiptDtl + " b,tblsettelmenthd c," + advBookingHd + " d "
//                    + " where a.strReceiptNo=b.strReceiptNo and b.strSettlementCode=c.strSettelmentCode "
//                    + " and a.strAdvBookingNo=? and d.strAdvBookingNo=a.strAdvBookingNo ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_settle);
//            pst.setString(1, advBookNo);
//            ResultSet rsAdvOrderDate = pst.executeQuery();
//            if (rsAdvOrderDate.next())
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemCode("ORDER DATE   :");
//                objBillDtl.setStrItemName(objUtility.funGetDateInFormat(rsAdvOrderDate.getString(1), "dd-MM-yyyy"));
//                listHeaderDtl.add(objBillDtl);
//            }
//            rsAdvOrderDate.close();
//
//            String orderDateTime = objUtility.funGetDateInFormat(orderDate.split(" ")[0], "dd-MM-yyyy");
//            orderDateTime += " " + orderDate.split(" ")[1];
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemCode("ORDER FOR     :");
//            objBillDtl.setStrItemName(orderDateTime);
//            listHeaderDtl.add(objBillDtl);
//            if (waiterName.trim().length() > 0)
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemCode("WAITER NAME  :");
//                objBillDtl.setStrItemName(waiterName.toUpperCase());
//                listHeaderDtl.add(objBillDtl);
//            }
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemCode("CUST NAME     :");
//            objBillDtl.setStrItemName(custName.toUpperCase());
//            listHeaderDtl.add(objBillDtl);
//
//            sql = "select b.longMobileNo "
//                    + " from " + advBookingHd + " a,tblcustomermaster b "
//                    + " where a.strCustomerCode=b.strCustomerCode and a.strAdvBookingNo='" + advBookNo + "'";
//            ResultSet rsCustMbNo = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            if (rsCustMbNo.next())
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemCode("MOB NO          :");
//                objBillDtl.setStrItemName(rsCustMbNo.getString(1));
//                listHeaderDtl.add(objBillDtl);
//            }
//            rsCustMbNo.close();
//
//            String msg = rs_advOrder_Tot.getString(4).toUpperCase();
//            String shape = rs_advOrder_Tot.getString(5).toUpperCase();
//            String note = rs_advOrder_Tot.getString(6).toUpperCase();
//
//            if (!msg.isEmpty())
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemCode("Message");
//                objBillDtl.setStrItemName(msg);
//                listNormalOrderDtl.add(objBillDtl);
//            }
//            if (!shape.isEmpty())
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemCode("Shape");
//                objBillDtl.setStrItemName(shape);
//                listNormalOrderDtl.add(objBillDtl);
//            }
//            if (!note.isEmpty())
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemCode("Note");
//                objBillDtl.setStrItemName(note);
//                listNormalOrderDtl.add(objBillDtl);
//            }
//
//            List<clsBillDtl> listAdvanceOrderItemsDtl = new ArrayList<>();
//
//            String SQL_AdvOrderDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount),strItemCode,dblWeight "
//                    + " from " + advBookingDtl + " where strAdvBookingNo=? group by strItemCode ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_AdvOrderDtl);
//            pst.setString(1, advBookNo);
//            ResultSet rs_AdvOrderDtl = pst.executeQuery();
//            while (rs_AdvOrderDtl.next())
//            {
//                double weight = rs_AdvOrderDtl.getDouble(5);
//                String qty = rs_AdvOrderDtl.getString(1);
//
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setDblQuantity(rs_AdvOrderDtl.getDouble(1));
//                objBillDtl.setDblAmount(rs_AdvOrderDtl.getDouble(3));
//                objBillDtl.setStrItemName(rs_AdvOrderDtl.getString(2).toUpperCase());
//                listAdvanceOrderItemsDtl.add(objBillDtl);
//
//                String SQL_ModifierDtl_count = "select Count(*) from " + advBookingModDtl + " "
//                        + "where strAdvOrderNo=? and strItemCode=? ";
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    SQL_ModifierDtl_count += " and dblAmount !=0.00 ;";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl_count);
//                pst.setString(1, advBookNo);
//                pst.setString(2, rs_AdvOrderDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    String SQL_ModifierDtl = "select strModifierName,dblQuantity,dblAmount from " + advBookingModDtl + " "
//                            + "where strAdvOrderNo=? and strItemCode=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        SQL_ModifierDtl += " and dblAmount !=0.00 ;";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl);
//                    pst.setString(1, advBookNo);
//                    pst.setString(2, rs_AdvOrderDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setDblQuantity(rs_modifierRecord.getDouble(2));
//                        objBillDtl.setDblAmount(rs_modifierRecord.getDouble(3));
//                        objBillDtl.setStrItemName(rs_modifierRecord.getString(1).toUpperCase());
//                        listAdvanceOrderItemsDtl.add(objBillDtl);
//                    }
//                    rs_modifierRecord.close();
//                }
//
//                if (weight > 0)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("     Weight" + "          " + weight);
//                    listAdvanceOrderItemsDtl.add(objBillDtl);
//                }
//
//                sql = "select b.strCharName,a.strCharValues,a.strItemCode "
//                        + " from " + advBookingCharDtl + " a,tblcharactersticsmaster b "
//                        + " where a.strCharCode=b.strCharCode and a.strAdvBookingNo='" + advBookNo + "' "
//                        + " and a.strItemCode='" + rs_AdvOrderDtl.getString(4) + "' ";
//                ResultSet rsCharDtl = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                while (rsCharDtl.next())
//                {
//                    String charName = rsCharDtl.getString(1);
//                    String charVal = rsCharDtl.getString(2);
//                    objBillDtl = new clsBillDtl();
//                    if (charName.length() == 5)
//                    {
//                        objBillDtl.setStrItemName("     " + charName + "           " + charVal);
//                    }
//                    else if (charName.length() == 6)
//                    {
//                        objBillDtl.setStrItemName("     " + charName + "        " + charVal);
//                    }
//                    else
//                    {
//                        objBillDtl.setStrItemName("     " + charName + "       " + charVal);
//                    }
//                    listAdvanceOrderItemsDtl.add(objBillDtl);
//                }
//                rsCharDtl.close();
//            }
//            rs_AdvOrderDtl.close();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String subTotal = rs_advOrder_Tot.getString(1);
//            String tax = rs_advOrder_Tot.getString(2);
//            String advAmt = rs_advOrder_Tot.getString(3);
//            String delCharges = rs_advOrder_Tot.getString(7);
//            double bal = (Double.parseDouble(subTotal) + Double.parseDouble(tax) + Double.parseDouble(delCharges)) - Double.parseDouble(advAmt);
//
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName("Sub Total       :");
//            objBillDtl.setDblAmount(Double.parseDouble(subTotal));
//            listFooterAmountDtl.add(objBillDtl);
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName("Tax Amt         :");
//            objBillDtl.setDblAmount(Double.parseDouble(tax));
//            listFooterAmountDtl.add(objBillDtl);
//
//            double subTotalWithDelCharges = Double.parseDouble(subTotal) + Double.parseDouble(delCharges);
//            if (subTotalWithDelCharges < Double.parseDouble(advAmt))
//            {
//                advAmt = subTotal;
//            }
//            advOut.newLine();
//
//            if (Double.parseDouble(delCharges) > 0)
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName("Del Charges  :");
//                objBillDtl.setDblAmount(Double.parseDouble(delCharges));
//                listFooterAmountDtl.add(objBillDtl);
//            }
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName("Adv Amount   :");
//            objBillDtl.setDblAmount(Double.parseDouble(advAmt));
//            listFooterAmountDtl.add(objBillDtl);
//
//            advOut.write(Line);
//            advOut.newLine();
//            if (bal <= 0)
//            {
//                bal = 0.00;
//            }
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName("Balance          :");
//            objBillDtl.setDblAmount(Double.parseDouble(String.valueOf(bal).concat("0")));
//            listFooterAmountDtl.add(objBillDtl);
//
//            List<clsBillDtl> listOfFooterDtl = new ArrayList<>();
//
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName("(INCLUSIVE OF ALL TAXES)");
//                listOfFooterDtl.add(objBillDtl);
//            }
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName("    " + clsGlobalVarClass.gBillFooter);
//            listOfFooterDtl.add(objBillDtl);
//
//            hm.put("listOfHeaderDtl", listHeaderDtl);
//            hm.put("listOfAdvanceOrderItemDtl", listAdvanceOrderItemsDtl);
//            hm.put("listOfFooterDtl", listOfFooterDtl);
//            hm.put("listOfTitleDtl", listTitleDtl);
//            hm.put("listOfFooterAmountDtl", listFooterAmountDtl);
//            hm.put("listOfNormalOrderDtl", listNormalOrderDtl);
//
//            List<List<clsBillDtl>> listData = new ArrayList<>();
//            listData.add(listAdvanceOrderItemsDtl);
//            String reportName = "com/POSGlobal/reports/rptAdvanceOrderReceiptJasperPrint.jasper";
//
//            JRBeanCollectionDataSource beanColDataSource = new JRBeanCollectionDataSource(listData);
//            InputStream is = this.getClass().getClassLoader().getResourceAsStream(reportName);
//            JasperPrint print = JasperFillManager.fillReport(is, hm, beanColDataSource);
//
//            JRViewer viewer = new JRViewer(print);
//            JFrame jf = new JFrame();
//            jf.getContentPane().add(viewer);
//            jf.validate();
//            if (clsGlobalVarClass.gShowBill)
//            {
//                jf.setVisible(true);
//                jf.setSize(new Dimension(850, 750));
//                jf.setLocationRelativeTo(null);
//                jf.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
//            }
//            JRPrintServiceExporter exporter = new JRPrintServiceExporter();
//
//            //--- Set print properties
//            PrintRequestAttributeSet printRequestAttributeSet = new HashPrintRequestAttributeSet();
//            printRequestAttributeSet.add(MediaSizeName.ISO_A4);
//
//            //----------------------------------------------------     
//            //printRequestAttributeSet.add(new Destination(new java.net.URI("file:d:/output/report.ps")));
//            //----------------------------------------------------     
//            PrintServiceAttributeSet printServiceAttributeSet = new HashPrintServiceAttributeSet();
//
//            String billPrinterName = clsGlobalVarClass.gBillPrintPrinterPort;
//
//            billPrinterName = billPrinterName.replaceAll("#", "\\\\");
//            printServiceAttributeSet.add(new PrinterName(billPrinterName, null));
//
//            //--- Set print parameters      
//            exporter.setParameter(JRExporterParameter.JASPER_PRINT, print);
//            exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PAGE_DIALOG, Boolean.TRUE);
//            exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PRINT_DIALOG, Boolean.TRUE);
//            exporter.setParameter(JRPrintServiceExporterParameter.PRINT_REQUEST_ATTRIBUTE_SET, printRequestAttributeSet);
//            exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE_ATTRIBUTE_SET, printServiceAttributeSet);
//
//            //--- Print the document
//            try
//            {
//                exporter.exportReport();
//            }
//            catch (JRException e)
//            {
//                e.printStackTrace();
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
////    public void funGenerateTextDayEndReport(String posCode, String billDate, String reprint, int shiftNo)
////    {
////        try
////        {
////            String billHd = "tblqbillhd";
////            String billDtl = "tblqbilldtl";
////            String billSettlementDtl = "tblqbillsettlementdtl";
////            String billTaxDtl = "tblqbilltaxdtl";
////            funCreateTempFolder();
////            String filePath = System.getProperty("user.dir");
////            File Text_DayEndReport = new File(filePath + "/Temp/Temp_DayEndReport.txt");
////            FileWriter fstream_Report = new FileWriter(Text_DayEndReport);
////            BufferedWriter ReportOut = new BufferedWriter(fstream_Report);
////            boolean isReprint = false;
////            if ("reprint".equalsIgnoreCase(reprint))
////            {
////                isReprint = true;
////                funPrintBlankSpace("[DUPLICATE]", ReportOut);
////                ReportOut.write("[DUPLICATE]");
////                ReportOut.newLine();
////                billHd = "tblqbillhd";
////                billDtl = "tblqbilldtl";
////                billSettlementDtl = "tblqbillsettlementdtl";
////                billTaxDtl = "tblqbilltaxdtl";
////            }
////            if (clsGlobalVarClass.gEnableShiftYN)
////            {
////                funPrintBlankSpace("SHIFT END REPORT", ReportOut);
////                ReportOut.write("SHIFT END REPORT");
////            }
////            else
////            {
////                funPrintBlankSpace("DAY END REPORT", ReportOut);
////                ReportOut.write("DAY END REPORT");
////            }
////            ReportOut.newLine();
////            ReportOut.newLine();
////            String sqlDayEnd = "";
////            ResultSet rsDayend;
////            if (posCode.equals("All"))
////            {
////                sqlDayEnd = "select  'All' as POSCode,'All' as POSName,date(a.dtePOSDate),time(a.dteDayEndDateTime),sum(a.dblTotalSale), "
////                        + " sum(a.dblFloat),sum(a.dblCash),sum(a.dblAdvance),  sum(a.dblTransferIn),sum(a.dblTotalReceipt),sum(a.dblPayments), "
////                        + " sum(a.dblWithDrawal),sum(a.dblTransferOut),sum(a.dblTotalPay),  sum(a.dblCashInHand),sum(a.dblHDAmt), "
////                        + " sum(a.dblDiningAmt),sum(a.dblTakeAway),sum(a.dblNoOfBill),sum(a.dblNoOfVoidedBill), "
////                        + " sum(a.dblNoOfModifyBill),sum(a.dblRefund)  ,sum(a.dblTotalDiscount), "
////                        + " sum(a.intTotalPax),sum(a.intNoOfTakeAway),sum(a.intNoOfHomeDelivery),  "
////                        + " sum(a.strUserCreated),sum(a.strUserEdited), sum(a.intNoOfNCKOT),sum(a.intNoOfComplimentaryKOT), "
////                        + " sum(a.intNoOfVoidKOT),sum(dblUsedDebitCardBalance),sum(dblUnusedDebitCardBalance),sum(a.dblTipAmt) "
////                        + " from tbldayendprocess a  "
////                        + " where date(a.dtePOSDate)=? and intShiftCode=? ";
////                PreparedStatement pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlDayEnd);
////                pst.setString(1, billDate);
////                pst.setString(2, String.valueOf(shiftNo));
////                rsDayend = pst.executeQuery();
////            }
////            else
////            {
////                sqlDayEnd = "select  a.strPOSCode,b.strPosName,date(a.dtePOSDate),time(a.dteDayEndDateTime),a.dblTotalSale,\n"
////                        + " a.dblFloat,a.dblCash,a.dblAdvance,  a.dblTransferIn,a.dblTotalReceipt,a.dblPayments,\n"
////                        + " a.dblWithDrawal,a.dblTransferOut,a.dblTotalPay,  a.dblCashInHand,a.dblHDAmt,\n"
////                        + " a.dblDiningAmt,a.dblTakeAway,a.dblNoOfBill,a.dblNoOfVoidedBill,\n"
////                        + " a.dblNoOfModifyBill,a.dblRefund  ,a.dblTotalDiscount,\n"
////                        + " a.intTotalPax,a.intNoOfTakeAway,a.intNoOfHomeDelivery,\n"
////                        + " a.strUserCreated,a.strUserEdited, a.intNoOfNCKOT,a.intNoOfComplimentaryKOT, "
////                        + " a.intNoOfVoidKOT,a.dblUsedDebitCardBalance,a.dblUnusedDebitCardBalance,a.dblTipAmt "
////                        + " from tbldayendprocess a ,tblposmaster b "
////                        + " where b.strPosCode=a.strPosCode "
////                        + " and a.strPOSCode=? and date(a.dtePOSDate)=? and intShiftCode=? ;";
////                PreparedStatement pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlDayEnd);
////                pst.setString(1, posCode);
////                pst.setString(2, billDate);
////                pst.setString(3, String.valueOf(shiftNo));
////                rsDayend = pst.executeQuery();
////            }
////            if (rsDayend.next())
////            {
////                //Header Part
////                ReportOut.write("  POS Code    :");
////                ReportOut.write(rsDayend.getString(1));
////                ReportOut.newLine();
////
////                ReportOut.write("  POS Name    :");
////                ReportOut.write(rsDayend.getString(2));
////                ReportOut.newLine();
////
////                if (clsGlobalVarClass.gEnableShiftYN)
////                {
////                    ReportOut.write("  SHIFT No.    :");
////                    ReportOut.write(String.valueOf(shiftNo));
////                    ReportOut.newLine();
////                }
////
////                ReportOut.write("  POS Date    :");
////                ReportOut.write(rsDayend.getString(3));
////                ReportOut.write(" " + rsDayend.getString(4));
////                ReportOut.newLine();
////
////                if (clsGlobalVarClass.gEnableShiftYN)
////                {
////                    ReportOut.write("  SHIFT End By  :");
////                }
////                else
////                {
////                    ReportOut.write("  Day End By  :");
////                }
////
////                ReportOut.write(rsDayend.getString(28));
////                ReportOut.newLine();
////                ReportOut.write(Line);
////                ReportOut.newLine();
////                // End Of Header Part
////
////                //Start of Detail Part
////                funWriteTotal(" 1. HOME DELIVERY", rsDayend.getString(16), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal(" 2. DINING", rsDayend.getString(17), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal(" 3. TAKE AWAY", rsDayend.getString(18), ReportOut, "");
////                ReportOut.newLine();
////
////                ReportOut.write(Line);
////                ReportOut.newLine();
////                funWriteTotal(" 4. TOTAL SALES", rsDayend.getString(5), ReportOut, "");
////                ReportOut.newLine();
////                ReportOut.write(Line);
////                ReportOut.newLine();
////
////                funWriteTotal(" 5. DISCOUNT", rsDayend.getString(23), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal(" 6. FLOAT", rsDayend.getString(6), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal(" 7. CASH", rsDayend.getString(7), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal(" 8. ADVANCE", rsDayend.getString(8), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal(" 9. TRANSFER IN", rsDayend.getString(9), ReportOut, "");
////                ReportOut.newLine();
////
////                ReportOut.write(Line);
////                ReportOut.newLine();
////                funWriteTotal("10. TOTAL RECEIPT", rsDayend.getString(10), ReportOut, "");
////                ReportOut.newLine();
////                ReportOut.write(Line);
////                ReportOut.newLine();
////
////                funWriteTotal("11. PAYMENT", rsDayend.getString(11), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("12. WITHDRAWAL", rsDayend.getString(12), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("13. TRANSFER OUT", rsDayend.getString(13), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("14. REFUND", rsDayend.getString(22), ReportOut, "");
////                ReportOut.newLine();
////
////                ReportOut.write(Line);
////                ReportOut.newLine();
////                funWriteTotal("15. TOTAL PAYMENTS", rsDayend.getString(14), ReportOut, "");
////                ReportOut.newLine();
////
////                ReportOut.write(Line);
////                ReportOut.newLine();
////                funWriteTotal("16. CASH IN HAND", rsDayend.getString(15), ReportOut, "");
////                ReportOut.newLine();
////                ReportOut.write(Line);
////                ReportOut.newLine();
////
////                funWriteTotal("17. No. OF BILLS", rsDayend.getString(19), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("18. No. OF VOIDED BILLS", rsDayend.getString(20), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("19. No. OF MODIFIED BILLS", rsDayend.getString(21), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("20. NO. OF PAX", rsDayend.getString(24), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("21. No. OF HOME DEL", rsDayend.getString(26), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("22. No. OF TAKE AWAY", rsDayend.getString(25), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("23. No. OF NC KOT", rsDayend.getString(29), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("24. No. OF COMPLIMENTARY BILLS", rsDayend.getString(30), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("25. No. OF VOID KOT", rsDayend.getString(31), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("26. Used Card Balance", rsDayend.getString(32), ReportOut, "");
////                ReportOut.newLine();
////
////                funWriteTotal("27. Unused Card Balance", rsDayend.getString(33), ReportOut, "");
////                ReportOut.newLine();
////                //End of Detail Part
////
////                NumberFormat formatter = new DecimalFormat("#0.00");
////                //<< tip amount
////                ReportOut.write(Line);
////                ReportOut.newLine();
////                funWriteTotal("28. Total Tip Amount", rsDayend.getString(34), ReportOut, "");
////                ReportOut.newLine();
////            //>> tip amount
////
////                //Start of Settlement Brkup
////                double totalAmt = 0.00;
////                ReportOut.write(Line);
////                ReportOut.newLine();
////                funPrintBlankSpace("BILLING SETTLEMENT BREAK UP", ReportOut);
////                ReportOut.write("BILLING SETTLEMENT BREAK UP");
////                ReportOut.newLine();
////                ReportOut.write(Line);
////                ReportOut.newLine();
////
////                String sql_SettelementBrkUP = "";
////                ResultSet rs_SettelementBrkUP;
////                if (posCode.equals("All"))
////                {
////                    if (clsGlobalVarClass.gDayEndReportForm.equals("DayEndReport"))
////                    {
////                        sql_SettelementBrkUP = "select c.strSettelmentDesc, SUM(b.dblSettlementAmt) "
////                                + " from  " + billHd + " a, " + billSettlementDtl + " b, tblsettelmenthd c  "
////                                + " where a.strBillNo = b.strBillNo"
////                                + " and b.strSettlementCode = c.strSettelmentCode "
////                                + " and date(a.dteBillDate) = ? and a.intShiftCode=? "
////                                + " GROUP BY c.strSettelmentDesc;";
////                    }
////                    else
////                    {
////                        sql_SettelementBrkUP = "select c.strSettelmentDesc, SUM(b.dblSettlementAmt) "
////                                + " from  " + billHd + " a, " + billSettlementDtl + " b, tblsettelmenthd c  "
////                                + " where a.strBillNo = b.strBillNo"
////                                + " and b.strSettlementCode = c.strSettelmentCode "
////                                + " and date(a.dteBillDate) = ? and a.intShiftCode=? "
////                                + " GROUP BY c.strSettelmentDesc;";
////                    }
////                    PreparedStatement pst_SettelementBrkUP = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_SettelementBrkUP);
////                    pst_SettelementBrkUP.setString(1, billDate);
////                    pst_SettelementBrkUP.setString(2, String.valueOf(shiftNo));
////                    rs_SettelementBrkUP = pst_SettelementBrkUP.executeQuery();
////                }
////                else
////                {
////                    if (clsGlobalVarClass.gDayEndReportForm.equals("DayEndReport"))
////                    {
////                        sql_SettelementBrkUP = "select c.strSettelmentDesc, SUM(b.dblSettlementAmt) "
////                                + " from  " + billHd + " a, " + billSettlementDtl + " b, tblsettelmenthd c  "
////                                + " where a.strBillNo = b.strBillNo"
////                                + " and b.strSettlementCode = c.strSettelmentCode and a.strPOSCode=? "
////                                + " and date(a.dteBillDate) = ? and a.intShiftCode=? "
////                                + " GROUP BY c.strSettelmentDesc;";
////                    }
////                    else
////                    {
////                        sql_SettelementBrkUP = "select c.strSettelmentDesc, SUM(b.dblSettlementAmt) "
////                                + " from  " + billHd + " a, " + billSettlementDtl + " b, tblsettelmenthd c  "
////                                + " where a.strBillNo = b.strBillNo"
////                                + " and b.strSettlementCode = c.strSettelmentCode and a.strPOSCode=? "
////                                + " and date(a.dteBillDate) = ? and a.intShiftCode=? "
////                                + " GROUP BY c.strSettelmentDesc;";
////                    }
////                    //System.out.println(sql_SettelementBrkUP);
////                    PreparedStatement pst_SettelementBrkUP = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_SettelementBrkUP);
////                    pst_SettelementBrkUP.setString(1, posCode);
////                    pst_SettelementBrkUP.setString(2, billDate);
////                    pst_SettelementBrkUP.setString(3, String.valueOf(shiftNo));
////                    rs_SettelementBrkUP = pst_SettelementBrkUP.executeQuery();
////                }
////                while (rs_SettelementBrkUP.next())
////                {
////                    totalAmt += rs_SettelementBrkUP.getDouble(2);
////                    funWriteTotal(rs_SettelementBrkUP.getString(1), rs_SettelementBrkUP.getString(2), ReportOut, "");
////                    ReportOut.newLine();
////                }
////                rs_SettelementBrkUP.close();
////
////                ResultSet rs_SettelementTax;
////                if (posCode.equals("All"))
////                {
////                    String sql_SettelementTax = "select b.strTaxDesc, sum(a.dblTaxableAmount), sum(a.dblTaxAmount) "
////                            + "from " + billTaxDtl + " a, tbltaxhd b "
////                            + "Where a.strTaxCode = b.strTaxCode and strBillNo IN "
////                            + "(select strBillNo from " + billHd + " where  date(dteBillDate)= ? and intShiftCode=? ) "
////                            + "Group By b.strTaxDesc";
////
////                    //System.out.println(sql_SettelementTax);
////                    PreparedStatement pst_SettelementTax = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_SettelementTax);
////                    pst_SettelementTax.setString(1, billDate);
////                    pst_SettelementTax.setString(2, String.valueOf(shiftNo));
////                    rs_SettelementTax = pst_SettelementTax.executeQuery();
////
////                }
////                else
////                {
////                    String sql_SettelementTax = "select b.strTaxDesc, sum(a.dblTaxableAmount), sum(a.dblTaxAmount) "
////                            + "from " + billTaxDtl + " a, tbltaxhd b "
////                            + "Where a.strTaxCode = b.strTaxCode and strBillNo IN "
////                            + "(select strBillNo from " + billHd + " where strPOSCode = ? and date(dteBillDate)= ? and intShiftCode=? ) "
////                            + "Group By b.strTaxDesc";
////
////                    //System.out.println(sql_SettelementTax);
////                    PreparedStatement pst_SettelementTax = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_SettelementTax);
////                    pst_SettelementTax.setString(1, posCode);
////                    pst_SettelementTax.setString(2, billDate);
////                    pst_SettelementTax.setString(3, String.valueOf(shiftNo));
////                    rs_SettelementTax = pst_SettelementTax.executeQuery();
////                }
////
////                ReportOut.write(Line);
////                ReportOut.newLine();
////
////                funWriteTotal("   TOTAL", formatter.format(totalAmt), ReportOut, "");
////                ReportOut.newLine();
////                ReportOut.write(Line);
////                ReportOut.newLine();
////                ReportOut.write("   TAX Des             Taxable   Tax Amt   ");
////                ReportOut.newLine();
////                ReportOut.write(Line);
////                ReportOut.newLine();
////                while (rs_SettelementTax.next())
////                {
////                    funWriteTextWithBlankLines("  " + rs_SettelementTax.getString(1), 21, ReportOut);
////                    funWriteTextWithBlankLines(rs_SettelementTax.getString(2), 10, ReportOut);
////                    funWriteTextWithBlankLines(rs_SettelementTax.getString(3), 9, ReportOut);
////                    ReportOut.newLine();
////                }
////                ReportOut.newLine();
////                ReportOut.write(Line);
////                ReportOut.newLine();
////                rs_SettelementTax.close();
////                //End of Settlement Brkup
////            }
////            rsDayend.close();
////            
////            //        
////
////            ReportOut.newLine();
////            ReportOut.newLine();
////            ReportOut.newLine();
////            ReportOut.newLine();
////            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
////            {
////                ReportOut.write("V");//Linux
////            }
////            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
////            {
////                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
////                {
////                    ReportOut.write("V");
////                }
////                else
////                {
////                    ReportOut.write("m");//windows
////                }
////            }
////
////            ReportOut.close();
////            fstream_Report.close();
////
////            if (clsGlobalVarClass.gShowBill)
////            {
////                funShowTextFile(Text_DayEndReport, "", "");
////            }
////            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "dayend", "N", isReprint);
////
////        }
////        catch (Exception e)
////        {
////            e.printStackTrace();
////        }
////    }
//    private void funPrintToPrinter(String primaryPrinterName, String secPrinterName, String type, String printOnBothPrinters, boolean isReprint)
//    {
//        try
//        {
//            String reportname = "";
//            String fileName = "";
//            if (type.equalsIgnoreCase("kot") || type.equalsIgnoreCase("checkkot"))
//            {
//                fileName = "Temp/Temp_KOT.txt";
//                //fileName = "Temp/Temp_KOT.rtf";
//            }
//            else if (type.equalsIgnoreCase("dayend"))
//            {
//                fileName = "Temp/Temp_DayEndReport.txt";
//                reportname = "dayend";
//            }
//            else if (type.equalsIgnoreCase("Adv Receipt"))
//            {
//                reportname = "Adv Receipt";
//            }
//            else if (type.equalsIgnoreCase("ItemWiseKOT"))
//            {
//                fileName = "/Temp/" + fileName + ".txt";
//            }
//            else
//            {
//                fileName = "Temp/Temp_Bill.txt";
//                reportname = "bill";
//            }
//
//            if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))//&& clsGlobalVarClass.gPrintType.equalsIgnoreCase("Text File")
//            {
//                if (type.equalsIgnoreCase("kot"))
//                {
//                    //System.out.println("G Print YN="+clsGlobalVarClass.gPrintKOTYN);
//                    if (clsGlobalVarClass.gPrintKOTYN)
//                    {
//                        funPrintKOTWindows(primaryPrinterName, secPrinterName, printOnBothPrinters);
//                        if (clsGlobalVarClass.gMultipleKOTPrint)
//                        {
//                            if (!isReprint)
//                            {
//                                funAppendDuplicate(fileName);
//                            }
//                            funPrintKOTWindows(primaryPrinterName, secPrinterName, printOnBothPrinters);
//                        }
//                    }
//                }
//                else if (type.equalsIgnoreCase("checkkot"))
//                {
//                    funPrintCheckKOTWindows(primaryPrinterName);
//                }
//                else if (type.equalsIgnoreCase("ItemWiseKOT"))
//                {
//                    funPrintItemWiseKOT(primaryPrinterName, secPrinterName, fileName);
//                }
//                else
//                {
//                    funPrintBillWindows(reportname);
//                    //Avoid Muliple Bill Printing
//                    if (!type.equalsIgnoreCase("dayend"))
//                    {
//                        if (clsGlobalVarClass.gMultiBillPrint)
//                        {
//                            if (!isReprint)
//                            {
//                                funAppendDuplicate(fileName);
//                            }
//                            funPrintBillWindows(reportname);
//                        }
//                    }
//                }
//            }
//            else if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS) && clsGlobalVarClass.gPrintType.equalsIgnoreCase("Text File"))
//            {
//                if (type.equalsIgnoreCase("kot"))
//                {
//                    //System.out.println("G Print YN="+clsGlobalVarClass.gPrintKOTYN);
//                    if (clsGlobalVarClass.gPrintKOTYN)
//                    {
//                        Process process = Runtime.getRuntime().exec("lpr -P " + primaryPrinterName + " " + fileName, null);
//
//                        if (clsGlobalVarClass.gMultipleKOTPrint)
//                        {
//                            if (!isReprint)
//                            {
//                                funAppendDuplicate(fileName);
//                            }
//                            process = Runtime.getRuntime().exec("lpr -P " + primaryPrinterName + " " + fileName, null);
//                        }
//                    }
//                }
//                else if (type.equalsIgnoreCase("checkkot"))
//                {
//                    Process process = Runtime.getRuntime().exec("lpr -P " + primaryPrinterName + " " + fileName, null);
//                }
//                else if (type.equalsIgnoreCase("ItemWiseKOT"))
//                {
//                    Process process = Runtime.getRuntime().exec("lpr -P " + primaryPrinterName + " " + fileName, null);
//                }
//                else
//                {
//                    //Process process = Runtime.getRuntime().exec("lpr -P " + primaryPrinterName + " " + fileName, null);
//                    Process process = Runtime.getRuntime().exec("lpr -P " + clsGlobalVarClass.gBillPrintPrinterPort + " " + fileName, null);
//                    if (!type.equalsIgnoreCase("dayend"))
//                    {
//                        if (clsGlobalVarClass.gMultiBillPrint)
//                        {
//                            if (!isReprint)
//                            {
//                                funAppendDuplicate(fileName);
//                            }
//                            process = Runtime.getRuntime().exec("lpr -P " + clsGlobalVarClass.gBillPrintPrinterPort + " " + fileName, null);
//                        }
//                    }
//                }
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funPrintToPrinterForItemWise(String primaryPrinterName, String secPrinterName, String type, String fileName)
//    {
//        try
//        {
//            if (type.equalsIgnoreCase("kot") || type.equalsIgnoreCase("checkkot"))
//            {
//                fileName = "Temp/Temp_KOT.txt";
//            }
//            else if (type.equalsIgnoreCase("dayend"))
//            {
//                fileName = "Temp/Temp_DayEndReport.txt";
//            }
//            else if (type.equalsIgnoreCase("ItemWiseKOT"))
//            {
//                fileName = fileName;
//            }
//            else
//            {
//                fileName = "Temp/Temp_Bill.txt";
//            }
//
//            if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS) && clsGlobalVarClass.gPrintType.equalsIgnoreCase("Text File"))
//            {
//                if (type.equalsIgnoreCase("ItemWiseKOT"))
//                {
//                    if (clsGlobalVarClass.gPrintKOTYN)
//                    {
//                        funPrintItemWiseKOT(primaryPrinterName, secPrinterName, fileName);
//                    }
//                }
//            }
//            else if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS) && clsGlobalVarClass.gPrintType.equalsIgnoreCase("Text File"))
//            {
//                primaryPrinterName = clsGlobalVarClass.gBillPrintPrinterPort;
//                Process process = Runtime.getRuntime().exec("lpr -P " + primaryPrinterName + " " + fileName, null);
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funPrintItemWiseKOT(String primaryPrinterName, String secPrinterName, String fileName)
//    {
//        String filePath = System.getProperty("user.dir");
//        fileName = (filePath + "/Temp/" + fileName + ".txt");
//
//        try
//        {
//            String billPrinterName = clsGlobalVarClass.gBillPrintPrinterPort;
//
//            billPrinterName = billPrinterName.replaceAll("#", "\\\\");
//            int printerIndex = 0;
//            PrintRequestAttributeSet printerReqAtt = new HashPrintRequestAttributeSet();
//            DocFlavor flavor = DocFlavor.INPUT_STREAM.AUTOSENSE;
//            PrintService printService[] = PrintServiceLookup.lookupPrintServices(flavor, printerReqAtt);
//            for (int i = 0; i < printService.length; i++)
//            {
//                System.out.println("Sys=" + printService[i].getName() + "\tBill Printer=" + billPrinterName);
//                if (billPrinterName.equalsIgnoreCase(printService[i].getName()))
//                {
//                    System.out.println("ItemWise KOT Printer found=>" + billPrinterName);
//                    printerIndex = i;
//                    break;
//                }
//            }
//            //PrintService defaultService = PrintServiceLookup.lookupDefaultPrintService();
//            //DocPrintJob job = defaultService.createPrintJob();
//            DocPrintJob job = printService[printerIndex].createPrintJob();
//            FileInputStream fis = new FileInputStream(fileName);
//
//            DocAttributeSet das = new HashDocAttributeSet();
//            Doc doc = new SimpleDoc(fis, flavor, das);
//            job.print(doc, printerReqAtt);
//            System.out.println("Print Job Sent->" + fileName);
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//            if (clsGlobalVarClass.gShowPrinterErrorMsg)
//            {
//                JOptionPane.showMessageDialog(null, e.getMessage(), "Error Code - TFG 02", JOptionPane.ERROR_MESSAGE);
//            }
//        }
//    }
//
//    /**
//     * printBillWindows() method print to Default Printer. No Parameter required
//     */
//    private void funPrintBillWindows(String type)
//    {
//        try
//        {
//            //System.out.println("Print Bill");
//            String filePath = System.getProperty("user.dir");
//            String fileName = "";
//            String billPrinterNames[] = clsGlobalVarClass.gBillPrintPrinterPort.split(",");
//
//            for (int printer = 0; printer < billPrinterNames.length; printer++)
//            {
//                String billPrinterName = billPrinterNames[printer];
//
//                if (type.equalsIgnoreCase("bill"))
//                {
//                    fileName = (filePath + "/Temp/Temp_Bill.txt");
//                }
//                else if (type.equalsIgnoreCase("Adv Receipt"))
//                {
//                    fileName = (filePath + "/Temp/Temp_Bill.txt");
//                    billPrinterName = clsGlobalVarClass.gAdvReceiptPrinterPort;
//                }
//                else if (type.equalsIgnoreCase("dayend"))
//                {
//                    fileName = (filePath + "/Temp/Temp_DayEndReport.txt");
//                }
//
//                billPrinterName = billPrinterName.replaceAll("#", "\\\\");
//                int printerIndex = 0;
//                PrintRequestAttributeSet printerReqAtt = new HashPrintRequestAttributeSet();
//                DocFlavor flavor = DocFlavor.INPUT_STREAM.AUTOSENSE;
//                PrintService printService[] = PrintServiceLookup.lookupPrintServices(flavor, printerReqAtt);
//                for (int i = 0; i < printService.length; i++)
//                {
//                    System.out.println("Sys=" + printService[i].getName() + "\tBill Printer=" + billPrinterName);
//                    if (billPrinterName.equalsIgnoreCase(printService[i].getName()))
//                    {
//                        System.out.println("Bill Printer Sel=" + billPrinterName);
//                        printerIndex = i;
//                        break;
//                    }
//                }
//                PrintService defaultService = PrintServiceLookup.lookupDefaultPrintService();
//                //DocPrintJob job = defaultService.createPrintJob();
//                DocPrintJob job = printService[printerIndex].createPrintJob();
//                FileInputStream fis = new FileInputStream(fileName);
//                DocAttributeSet das = new HashDocAttributeSet();
//                Doc doc = new SimpleDoc(fis, flavor, das);
//                job.print(doc, printerReqAtt);
//            }
//            if (clsGlobalVarClass.gOpenCashDrawerAfterBillPrintYN)
//            {
//                objUtility.funInvokeSampleJasper();
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//            if (clsGlobalVarClass.gShowPrinterErrorMsg)
//            {
//                JOptionPane.showMessageDialog(null, e.getMessage(), "Error Code - TFG 02", JOptionPane.ERROR_MESSAGE);
//            }
//        }
//    }
//
//    private void funPrintCheckKOTWindows(String printerName)
//    {
//        try
//        {
//            int printerIndex = 0;
//            String filePath = System.getProperty("user.dir");
//            String filename = (filePath + "/Temp/Temp_KOT.txt");
//            String billPrinterName = clsGlobalVarClass.gBillPrintPrinterPort;
//            billPrinterName = billPrinterName.replaceAll("#", "\\\\");
//            PrintRequestAttributeSet pras = new HashPrintRequestAttributeSet();
//            DocFlavor flavor = DocFlavor.INPUT_STREAM.AUTOSENSE;
//            PrintService printService[] = PrintServiceLookup.lookupPrintServices(flavor, pras);
//            for (int i = 0; i < printService.length; i++)
//            {
//                System.out.println("Sys=" + printService[i].getName() + "\tBill Printer=" + billPrinterName);
//                if (billPrinterName.equalsIgnoreCase(printService[i].getName()))
//                {
//                    System.out.println("Bill Printer Sel=" + billPrinterName);
//                    printerIndex = i;
//                    break;
//                }
//            }
//
//            DocPrintJob job = printService[printerIndex].createPrintJob();
//            FileInputStream fis = new FileInputStream(filename);
//            DocAttributeSet das = new HashDocAttributeSet();
//            Doc doc = new SimpleDoc(fis, flavor, das);
//            job.print(doc, pras);
//        }
//        catch (Exception e)
//        {
//            if (clsGlobalVarClass.gShowPrinterErrorMsg)
//            {
//                JOptionPane.showMessageDialog(null, e.getMessage(), "Error Code - TFG 01", JOptionPane.ERROR_MESSAGE);
//            }
//        }
//    }
//
//    private void funPrintKOTWindows(String primaryPrinterName, String secPrinterName, String printOnBothPrinters)
//    {
//        String filePath = System.getProperty("user.dir");
//        String fileName = (filePath + "/Temp/Temp_KOT.txt");
//        //String fileName = (filePath + "/Temp/Temp_KOT.rtf");
//        try
//        {
//            int printerIndex = 0;
//            String printerStatus = "Not Found";
//            System.out.println("Primary Name=" + primaryPrinterName);
//            System.out.println("Sec Name=" + secPrinterName);
//
//            PrintRequestAttributeSet pras = new HashPrintRequestAttributeSet();
//            DocFlavor flavor = DocFlavor.INPUT_STREAM.AUTOSENSE;
//            primaryPrinterName = primaryPrinterName.replaceAll("#", "\\\\");
//            secPrinterName = secPrinterName.replaceAll("#", "\\\\");
//
//            PrintService printService[] = PrintServiceLookup.lookupPrintServices(flavor, pras);
//            for (int i = 0; i < printService.length; i++)
//            {
//                System.out.println("Service=" + printService[i].getName() + "\tPrim P=" + primaryPrinterName);
//                String printerServiceName = printService[i].getName();
//
//                if (primaryPrinterName.equalsIgnoreCase(printerServiceName))
//                {
//                    System.out.println("Printer=" + primaryPrinterName);
//                    printerIndex = i;
//                    printerStatus = "Found";
//                    break;
//                }
//            }
//
//            if (printerStatus.equals("Found"))
//            {
//                DocPrintJob job = printService[printerIndex].createPrintJob();
//                FileInputStream fis = new FileInputStream(fileName);
//                DocAttributeSet das = new HashDocAttributeSet();
//                Doc doc = new SimpleDoc(fis, flavor, das);
//                job.print(doc, pras);
//                String printerInfo = "";
//
//                PrintServiceAttributeSet att = printService[printerIndex].getAttributes();
//                for (Attribute a : att.toArray())
//                {
//                    String attributeName;
//                    String attributeValue;
//                    attributeName = a.getName();
//                    attributeValue = att.get(a.getClass()).toString();
//                    if (attributeName.trim().equalsIgnoreCase("queued-job-count"))
//                    {
//                        clsGlobalVarClass.gPrinterQueueStatus = attributeValue;
//                        printerInfo = primaryPrinterName + "!" + attributeValue;
//                        //System.out.println(attributeName + " : " + attributeValue);
//                    }
//                }
//                if (printOnBothPrinters.equals("Y"))
//                {
//                    funPrintOnSecPrinter(secPrinterName, fileName);
//                }
//            }
//            else
//            {
//                funPrintOnSecPrinter(secPrinterName, fileName);
//                //JOptionPane.showMessageDialog(null,primaryPrinterName+" Printer Not Found");
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//            if (clsGlobalVarClass.gShowPrinterErrorMsg)
//            {
//                try
//                {
//                    funPrintOnSecPrinter(secPrinterName, fileName);
//                }
//                catch (Exception ex)
//                {
//                    JOptionPane.showMessageDialog(null, "Secondary Printer Error= " + ex.getMessage());
//                }
//                JOptionPane.showMessageDialog(null, e.getMessage(), "Error Code - TFG 01", JOptionPane.ERROR_MESSAGE);
//            }
//        }
//    }
//
//    private void funPrintOnSecPrinter(String secPrinterName, String fileName) throws Exception
//    {
//        String printerStatus = "Not Found";
//        PrintRequestAttributeSet pras = new HashPrintRequestAttributeSet();
//        DocFlavor flavor = DocFlavor.INPUT_STREAM.AUTOSENSE;
//        PrintService printService[] = PrintServiceLookup.lookupPrintServices(flavor, pras);
//        int printerIndex = 0;
//        for (int i = 0; i < printService.length; i++)
//        {
//            System.out.println("Service=" + printService[i].getName() + "\tSec P=" + secPrinterName);
//            String printerServiceName = printService[i].getName();
//
//            if (secPrinterName.equalsIgnoreCase(printerServiceName))
//            {
//                System.out.println("Sec Printer=" + secPrinterName);
//                printerIndex = i;
//                printerStatus = "Found";
//                break;
//            }
//        }
//        if (printerStatus.equals("Found"))
//        {
//            String printerInfo = "";
//            DocPrintJob job = printService[printerIndex].createPrintJob();
//            FileInputStream fis = new FileInputStream(fileName);
//            DocAttributeSet das = new HashDocAttributeSet();
//            Doc doc = new SimpleDoc(fis, flavor, das);
//            job.addPrintJobListener(new MyPrintJobListener());
//            job.print(doc, pras);
//
//            PrintServiceAttributeSet att = printService[printerIndex].getAttributes();
//            for (Attribute a : att.toArray())
//            {
//                String attributeName;
//                String attributeValue;
//                attributeName = a.getName();
//                attributeValue = att.get(a.getClass()).toString();
//                if (attributeName.trim().equalsIgnoreCase("queued-job-count"))
//                {
//                    clsGlobalVarClass.gPrinterQueueStatus = attributeValue;
//                    printerInfo = secPrinterName + "!" + attributeValue;
//                }
//                System.out.println(attributeName + " : " + attributeValue);
//            }
//            if (clsGlobalVarClass.gShowBill)
//            {
//                funShowTextFile(new File(fileName), "", printerInfo);
//            }
//        }
//        else
//        {
//            JOptionPane.showMessageDialog(null, secPrinterName + " Printer Not Found");
//        }
//    }
//
//    public void funShowTextFile(File file, String formName, String printerInfo)
//    {
//        try
//        {
//            String data = "";
//            FileReader fread = new FileReader(file);
//            //BufferedReader KOTIn = new BufferedReader(fread);
//            FileInputStream fis = new FileInputStream(file);
//            BufferedReader KOTIn = new BufferedReader(new InputStreamReader(fis, "UTF-8"));
//            String line = "";
//            while ((line = KOTIn.readLine()) != null)
//            {
//                data = data + line + "\n";
//            }
//            String fileName = file.getName();
//            String name = "";
//            if (formName.trim().length() > 0)
//            {
//                name = formName;
//            }
//            if ("Temp_DayEndReport.txt".equalsIgnoreCase(fileName))
//            {
//                name = "DayEnd";
//            }
//            new frmShowTextFile(data, name, file, printerInfo).setVisible(true);
//            fread.close();
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funCreateTempFolder()
//    {
//        try
//        {
//            String filePath = System.getProperty("user.dir");
//            File Text_KOT = new File(filePath + "/Temp");
//            if (!Text_KOT.exists())
//            {
//                Text_KOT.mkdirs();
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funAppendDuplicate(String fileName)
//    {
//        try
//        {
//            File fileKOTPrint = new File(fileName);
////            RandomAccessFile f = new RandomAccessFile(fileKOTPrint, "rw");
////            f.seek(0); // to the beginning                  
////            BufferedWriter KotOut = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(fileKOTPrint), "UTF8"));            
////            funPrintBlankSpace("[DUPLICATE]", KotOut);            
////            KotOut.write("[DUPLICATE]");              
////            KotOut.newLine();            
////            KotOut.close();
////            f.close();                                    
//
//            String filePath = System.getProperty("user.dir");
//            filePath += "/Temp/Temp_KOT2.txt";
//            File fileKOTPrint2 = new File(filePath);
//            BufferedWriter KotOut = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(fileKOTPrint2), "UTF8"));
//            funPrintBlankSpace("[DUPLICATE]", KotOut);
//            KotOut.write("[DUPLICATE]");
//            KotOut.newLine();
//
//            BufferedReader br = new BufferedReader(new InputStreamReader(new FileInputStream(fileKOTPrint)));
//            String line = null;
//            while ((line = br.readLine()) != null)
//            {
//                KotOut.write(line);
//                KotOut.newLine();
//            }
//            br.close();
//            KotOut.close();
//
//            String content = new String(Files.readAllBytes(Paths.get(filePath)));
//            Files.write(Paths.get(fileName), content.getBytes(), StandardOpenOption.CREATE);
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funPrintBlankSpace(String duplicate, RandomAccessFile f)
//    {
//        try
//        {
//            int wordSize = duplicate.length();
//            int actualPrintingSize = clsGlobalVarClass.gColumnSize;
//            int availableBlankSpace = actualPrintingSize - wordSize;
//
//            int leftSideSpace = availableBlankSpace / 2;
//            if (leftSideSpace > 0)
//            {
//                for (int i = 0; i < leftSideSpace; i++)
//                {
//                    f.writeUTF(" ");
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//
//        }
//    }
//
//    class PrintJobWatcher
//    {
//
//        // true iff it is safe to close the print job's input stream
//        boolean done = false;
//
//        PrintJobWatcher(DocPrintJob job)
//        {
//            // Add a listener to the print job
//            job.addPrintJobListener(new PrintJobAdapter()
//            {
//                public void printJobCanceled(PrintJobEvent pje)
//                {
//                    allDone();
//                }
//
//                public void printJobCompleted(PrintJobEvent pje)
//                {
//                    allDone();
//                }
//
//                public void printJobFailed(PrintJobEvent pje)
//                {
//                    allDone();
//                }
//
//                public void printJobNoMoreEvents(PrintJobEvent pje)
//                {
//                    allDone();
//                }
//
//                void allDone()
//                {
//                    synchronized (PrintJobWatcher.this)
//                    {
//                        done = true;
//                        PrintJobWatcher.this.notify();
//                    }
//                }
//            });
//        }
//
//        public synchronized void waitForDone()
//        {
//            try
//            {
//                while (!done)
//                {
//                    wait();
//                }
//            }
//            catch (InterruptedException e)
//            {
//            }
//        }
//    }
//
//    class MyPrintJobListener implements PrintJobListener
//    {
//
//        public void printDataTransferCompleted(PrintJobEvent pje)
//        {
//            System.out.println("printDataTransferCompleted");
//        }
//
//        public void printJobCanceled(PrintJobEvent pje)
//        {
//            System.out.println("The print job was cancelled");
//        }
//
//        public void printJobCompleted(PrintJobEvent pje)
//        {
//            System.out.println("The print job was completed");
//        }
//
//        public void printJobFailed(PrintJobEvent pje)
//        {
//            System.out.println("The print job has failed");
//        }
//
//        public void printJobNoMoreEvents(PrintJobEvent pje)
//        {
//        }
//
//        public void printJobRequiresAttention(PrintJobEvent pje)
//        {
//        }
//    }
//
//    private void funPrintBlankSpace(String printWord, BufferedWriter BWOut)
//    {
//        try
//        {
//            int wordSize = printWord.length();
//            int actualPrintingSize = clsGlobalVarClass.gColumnSize;
//            int availableBlankSpace = actualPrintingSize - wordSize;
//
//            int leftSideSpace = availableBlankSpace / 2;
//            if (leftSideSpace > 0)
//            {
//                for (int i = 0; i < leftSideSpace; i++)
//                {
//                    BWOut.write(" ");
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funWriteTextWithBlankLines(String text, int len, BufferedWriter out) throws Exception
//    {
//        int remLen = len - text.trim().length();
//        out.write(text);
//        for (int cn = 0; cn < remLen; cn++)
//        {
//            out.write(" ");
//        }
//    }
//
//    private void funWriteToText(BufferedWriter out, String qyt, String ItemName, String Amount, String format)
//    {
//        try
//        {
//            int counter = 0;
//            out.write("  ");
//            counter = counter + 2;
//            //Qty write 
//            String tempQty = qyt;
//            int length = tempQty.length();
//
//            switch (length)
//            {
//                case 4:
//                    out.write("   " + tempQty);//3space
//                    counter = counter + 3 + length;
//                    break;
//
//                case 5:
//                    out.write("  " + tempQty);//2space
//                    counter = counter + 2 + length;
//                    break;
//
//                case 6:
//                    out.write(" " + tempQty);//1space
//                    counter = counter + 1 + length;
//                    break;
//
//                case 7:
//                    out.write(tempQty);
//                    counter = counter + length;
//                    break;
//            }
//
//            //End of Qty write 
//            out.write("  ");
//            counter = counter + 2;
//
//            //Item Write 
//            String tempItemName = ItemName;
//            length = tempItemName.length();
//            if (length < 20)
//            {
//                out.write(tempItemName);
//                counter = counter + length;
//                funWriteFormattedAmt(counter, Amount, out, format);
//            }
//            else
//            {
//                String partOne = tempItemName.substring(0, 19);
//                out.write(partOne);
//                counter = counter + partOne.length();
//                String partTwo = tempItemName.substring(19, length);
//                funWriteFormattedAmt(counter, Amount, out, format);
//                out.newLine();
//                out.write("           " + partTwo);
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funWriteToText(BufferedWriter out, String qyt, String ItemName, String Amount, String discAmt, String format)
//    {
//        try
//        {
//            int counter = 0;
//            out.write("  ");
//            counter = counter + 2;
//            //Qty write 
//            String tempQty = qyt;
//            int length = tempQty.length();
//
//            switch (length)
//            {
//                case 4:
//                    out.write("   " + tempQty);//3space
//                    counter = counter + 3 + length;
//                    break;
//
//                case 5:
//                    out.write("  " + tempQty);//2space
//                    counter = counter + 2 + length;
//                    break;
//
//                case 6:
//                    out.write(" " + tempQty);//1space
//                    counter = counter + 1 + length;
//                    break;
//
//                case 7:
//                    out.write(tempQty);
//                    counter = counter + length;
//                    break;
//            }
//
//            //End of Qty write 
//            out.write("  ");
//            counter = counter + 2;
//
//            //Item Write 
//            String tempItemName = ItemName;
//            length = tempItemName.length();
//            if (length < 20)
//            {
//                out.write(tempItemName);
//                counter = counter + length;
//                funWriteFormattedAmt(counter, Amount, out, format);
//            }
//            else
//            {
//                String partOne = tempItemName.substring(0, 19);
//                out.write(partOne);
//                counter = counter + partOne.length();
//                String partTwo = tempItemName.substring(19, length);
//                funWriteFormattedAmt(counter, Amount, out, format);
//                out.newLine();
//                out.write("           " + partTwo);
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    /*
//     * Please Do Not modify Space in this Function Ritesh 10 Sept 214
//     *
//     *
//     */
//    private void funWriteFormattedAmt(int counter, String Amount, BufferedWriter out, String format)
//    {
//        try
//        {
//            int space = 30;
//            if (format.equals("Format3"))
//            {
//                space = 29;
//            }
//            if (format.equals("Format4"))
//            {
//                space = 34;
//            }
//            if (format.equals("Format5"))
//            {
//                space = 29;
//            }
//            if (format.equals("Format6"))
//            {
//                space = 30;
//            }
//            if (format.equals("Format11"))
//            {
//                space = 12;
//            }
//            if (format.equals("Format13"))
//            {
//                space = 29;
//            }
//            int usedSpace = space - counter;
//            for (int i = 0; i < usedSpace; i++)
//            {
//                out.write(" ");
//            }
//            out.write("  ");
//            String tempAmount = Amount;
//
//            int length = tempAmount.length();
//            switch (length)
//            {
//                case 1:
//                    out.write("        " + tempAmount);//8
//                    break;
//                case 2:
//                    out.write("       " + tempAmount);//7
//                    break;
//                case 3:
//                    out.write("      " + tempAmount);//6
//                    break;
//                case 4:
//                    out.write("     " + tempAmount);//5
//                    break;
//                case 5:
//                    out.write("    " + tempAmount);//4
//                    break;
//                case 6:
//                    out.write("   " + tempAmount);//3
//                    break;
//                case 7:
//                    out.write("  " + tempAmount);//2
//                    break;
//                case 8:
//                    out.write(" " + tempAmount);//1
//                    break;
//                case 9:
//                    out.write(tempAmount);//0
//                    break;
//                default:
//                    out.write(tempAmount);//0
//                    break;
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funWriteTotal(String title, String total, BufferedWriter out, String format)
//    {
//        try
//        {
//            int counter = 0;
//            out.write("  ");
//            counter = counter + 2;
//            int length = title.length();
//            out.write(title);
//            counter = counter + length;
//            funWriteFormattedAmt(counter, total, out, format);
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funWriteDiscountTitle(String title, String total, BufferedWriter out, String format)
//    {
//        try
//        {
//            int totalLength = 38;
//            switch (format)
//            {
//                case "Format1":
//                    totalLength = 38;
//                    break;
//                case "Format2":
//                    totalLength = 38;
//                    break;
//                case "Format3":
//                    totalLength = 38;
//                    break;
//                case "Format4":
//                    totalLength = 38;
//                    break;
//                case "Format5":
//                    totalLength = 38;
//                    break;
//                case "Format6":
//                    totalLength = 38;
//                    break;
//                case "Format7":
//                    totalLength = 38;
//                    break;
//                case "Format8":
//                    totalLength = 38;
//                    break;
//                case "Format9":
//                    totalLength = 38;
//                    break;
//                case "Format10":
//                    totalLength = 38;
//                    break;
//                case "Format11":
//                    totalLength = 20;
//                    break;
//                case "Format12":
//                    totalLength = 38;
//                    break;
//            }
//            int counter = 0;
//            out.write("  ");
//            counter = counter + 2;
//            int length = title.length();
//            // out.write(title);
//            counter = counter + length;
//            funWriteFormattedAmt(counter, title + "" + total, out, format);
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funWriteToTextMemberNameForFormat5(BufferedWriter out, String memberName, String format)
//    {
//        try
//        {
//            int counter = 0;
//            counter = counter + 2;
//            //Item Write 
//            String tempItemName = memberName;
//            int length = tempItemName.length();
//            if (length < 25)
//            {
//                out.write(tempItemName);
//                counter = counter + length;
//            }
//            else
//            {
//                String partOne = tempItemName.substring(0, 24);
//                out.write(partOne);
//                counter = counter + partOne.length();
//                String partTwo = tempItemName.substring(24, length - 1);
//                out.newLine();
//                out.write("                " + partTwo);
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private String funReduceTo2DecimalPlaces(String text)
//    {
//        StringBuilder sb = new StringBuilder(text);
//        int dotIndex = sb.indexOf(".");
//        int endIndex = dotIndex + 3;
//        return sb.substring(0, endIndex).toString();
//    }
//
//    private void funPrintAmtInWords(double amt, BufferedWriter objBillOut) throws Exception
//    {
//        long totalAmt = (long) amt;
//        String amtInWords = new clsUtility().funGetAmtInWords(totalAmt);
//        objBillOut.write("  Rs." + amtInWords + " Only.");
//        objBillOut.newLine();
//    }
//
//    private List funGetTextWithSpecifiedSize(String text, int size)
//    {
//        List listText = new ArrayList();
//        try
//        {
//            System.out.println(text);
//            if (size == 2)
//            {
//                StringBuilder sbText = new StringBuilder();
//                StringBuilder sbTempText = new StringBuilder();
//                String[] arrTextToPrint = text.split(" ");
//                for (int cnt = 0; cnt < arrTextToPrint.length; cnt++)
//                {
//                    sbTempText.append(arrTextToPrint[cnt] + " ");
//                    if (sbTempText.length() > 20)
//                    {
//                        String tempText = sbText.substring(0, sbText.lastIndexOf(" "));
//                        System.out.println("Add To List " + tempText);
//                        if (!tempText.isEmpty())
//                        {
//                            listText.add(tempText);
//                        }
//                        sbText.setLength(0);
//                        sbTempText.setLength(0);
//
//                        sbTempText.append(arrTextToPrint[cnt] + " ");
//                        sbText.append(arrTextToPrint[cnt] + " ");
//                    }
//                    else
//                    {
//                        sbText.append(arrTextToPrint[cnt] + " ");
//                    }
//
//                    if ((cnt == arrTextToPrint.length - 1) && sbTempText.length() > 0)
//                    {
//                        listText.add(sbText);
//                    }
//                }
//            }
//            System.out.println("List= " + listText);
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//        return listText;
//    }
//
//    private int funPrintTakeAway(String billHdTableName, String billNo, BufferedWriter BillOut, int billPrintSize) throws Exception
//    {
//        String sqlTakeAway = "select strOperationType,strTakeAwayRemarks "
//                + " from " + billHdTableName + " "
//                + " where strBillNo='" + billNo + "'";
//        ResultSet rsBill = clsGlobalVarClass.dbMysql.executeResultSet(sqlTakeAway);
//        if (rsBill.next())
//        {
//            if (rsBill.getString(1).equals("TakeAway"))
//            {
//                if (billPrintSize == 4)
//                {
//                    BillOut.write("               Take Away ");
//                    BillOut.newLine();
//                    if (!rsBill.getString(1).isEmpty())
//                    {
//                        BillOut.write("  " + rsBill.getString(2));
//                        BillOut.newLine();
//                    }
//                }
//                else if (billPrintSize == 2)
//                {
//                    BillOut.write(new clsUtility().funPrintTextWithAlignment("Take Away", 20, "Center"));
//                    BillOut.newLine();
//                }
//            }
//        }
//        rsBill.close();
//        return 1;
//    }
//
//    private int funPrintComplimentaryItemsInBill(String billNo, BufferedWriter objBillOut, int billPrintSize, String POSCode, String billDate, StringBuilder sbZeroAmtItems) throws Exception
//    {
//        if (sbZeroAmtItems.length() > 0)
//        {
//            sbZeroAmtItems = sbZeroAmtItems.delete(0, 1);
//        }
//        clsUtility objUtility = new clsUtility();
//        String sqlBillComplDtl = "select b.strItemName,b.dblQuantity "
//                + " from tblbillhd a,tblbillcomplementrydtl b "
//                + " where a.strBillNo=b.strBillNo and a.strClientCode=b.strClientCode "
//                + " and date(a.dteBillDate)=date(b.dteBillDate) and a.strBillNo='" + billNo + "' "
//                + " and a.strPOSCode='" + POSCode + "'  and date(a.dteBillDate)='" + billDate + "' "
//                + " and a.strClientCode='" + clsGlobalVarClass.gClientCode + "' ";
//        if (clsGlobalVarClass.gPrintOpenItemsOnBill)
//        {
//            if (sbZeroAmtItems.length() > 0)
//            {
//                sqlBillComplDtl = sqlBillComplDtl + " and b.strItemCode not in (" + sbZeroAmtItems + ") ";
//            }
//        }
//
//        ResultSet rsBillComplItemDtl = clsGlobalVarClass.dbMysql.executeResultSet(sqlBillComplDtl);
//        while (rsBillComplItemDtl.next())
//        {
//            if (billPrintSize == 4)
//            {
//                //funWriteToText(objBillOut, funReduceTo2DecimalPlaces(rsBillPromoItemDtl.getString(2)), rsBillPromoItemDtl.getString(1).toUpperCase(), "0", "Format1");
//                String qty = rsBillComplItemDtl.getString(2);
//                if (qty.contains("."))
//                {
//                    String decVal = qty.substring(qty.length() - 1, qty.length());
//                    if (Double.parseDouble(decVal) == 0)
//                    {
//                        qty = qty.substring(0, qty.length() - 3);
//                    }
//                }
//                objBillOut.write(" ");
//                objBillOut.write(objUtility.funPrintTextWithAlignment(qty, 7, "Right"));
//                objBillOut.write(" ");
//                objBillOut.write(objUtility.funPrintTextWithAlignment(rsBillComplItemDtl.getString(1).toUpperCase(), 20, "Left"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment("0.00", 11, "Right"));
//
//                objBillOut.newLine();
//            }
//            else if (billPrintSize == 2)
//            {
//                if (rsBillComplItemDtl.getString(1).toUpperCase().length() > 20)
//                {
//                    List listTextToPrint = funGetTextWithSpecifiedSize(rsBillComplItemDtl.getString(1).toUpperCase(), 2);
//                    for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Left"));
//                        objBillOut.newLine();
//                    }
//                }
//                else
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(rsBillComplItemDtl.getString(1).toUpperCase(), 20, "Left"));
//                    objBillOut.newLine();
//                }
//                //objBillOut.write(new clsUtility().funPrintTextWithAlignment(funReduceTo2DecimalPlaces(rsBillPromoItemDtl.getString(2)), 6, "Right"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment(rsBillComplItemDtl.getString(2), 6, "Right"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment("  ", 7, "Right"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment("0", 7, "Right"));
//                objBillOut.newLine();
//            }
//        }
//        rsBillComplItemDtl.close();
//        objUtility = null;
//        return 1;
//    }
//
//    private int funPrintPromoItemsInBill(String billNo, BufferedWriter objBillOut, int billPrintSize, String billPromoDtl) throws Exception
//    {
//        clsUtility objUtility = new clsUtility();
//        String sqlBillPromoDtl = "select b.strItemName,a.dblQuantity,'0',dblRate "
//                + " from " + billPromoDtl + " a,tblitemmaster b "
//                + " where a.strItemCode=b.strItemCode and a.strBillNo='" + billNo + "' and a.strPromoType!='Discount' ";
//        ResultSet rsBillPromoItemDtl = clsGlobalVarClass.dbMysql.executeResultSet(sqlBillPromoDtl);
//        while (rsBillPromoItemDtl.next())
//        {
//            if (billPrintSize == 4)
//            {
//                //funWriteToText(objBillOut, funReduceTo2DecimalPlaces(rsBillPromoItemDtl.getString(2)), rsBillPromoItemDtl.getString(1).toUpperCase(), "0", "Format1");
//                String qty = rsBillPromoItemDtl.getString(2);
//                if (qty.contains("."))
//                {
//                    String decVal = qty.substring(qty.length() - 1, qty.length());
//                    if (Double.parseDouble(decVal) == 0)
//                    {
//                        qty = qty.substring(0, qty.length() - 3);
//                    }
//                }
//                objBillOut.write(" ");
//                objBillOut.write(objUtility.funPrintTextWithAlignment(qty, 7, "Right"));
//                objBillOut.write(" ");
//                objBillOut.write(objUtility.funPrintTextWithAlignment(rsBillPromoItemDtl.getString(1).toUpperCase(), 20, "Left"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment("0.00", 11, "Right"));
//
//                objBillOut.newLine();
//            }
//            else if (billPrintSize == 2)
//            {
//                if (rsBillPromoItemDtl.getString(1).toUpperCase().length() > 20)
//                {
//                    List listTextToPrint = funGetTextWithSpecifiedSize(rsBillPromoItemDtl.getString(1).toUpperCase(), 2);
//                    for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Left"));
//                        objBillOut.newLine();
//                    }
//                }
//                else
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(rsBillPromoItemDtl.getString(1).toUpperCase(), 20, "Left"));
//                    objBillOut.newLine();
//                }
//                //objBillOut.write(new clsUtility().funPrintTextWithAlignment(funReduceTo2DecimalPlaces(rsBillPromoItemDtl.getString(2)), 6, "Right"));
//                objBillOut.write(new clsUtility().funPrintTextWithAlignment(rsBillPromoItemDtl.getString(2), 6, "Right"));
//                objBillOut.write(new clsUtility().funPrintTextWithAlignment("  ", 7, "Right"));
//                objBillOut.write(new clsUtility().funPrintTextWithAlignment("0", 7, "Right"));
//                objBillOut.newLine();
//            }
//        }
//        rsBillPromoItemDtl.close();
//        objUtility = null;
//        return 1;
//    }
//
//    private int funPrintPromoItemsInBill(String billNo, int billPrintSize, List<clsBillDtl> listOfBillDetail) throws Exception
//    {
//        String sqlBillPromoDtl = "select b.strItemName,a.dblQuantity,'0',dblRate "
//                + " from tblbillpromotiondtl a,tblitemmaster b "
//                + " where a.strItemCode=b.strItemCode and a.strBillNo='" + billNo + "' and a.strPromoType!='Discount' ";
//        ResultSet rsBillPromoItemDtl = clsGlobalVarClass.dbMysql.executeResultSet(sqlBillPromoDtl);
//        clsBillDtl objBillDtl = null;
//        while (rsBillPromoItemDtl.next())
//        {
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setDblQuantity(rsBillPromoItemDtl.getDouble(2));
//            objBillDtl.setDblAmount(rsBillPromoItemDtl.getDouble(3));
//            objBillDtl.setStrItemName(rsBillPromoItemDtl.getString(1).toUpperCase());
//            listOfBillDetail.add(objBillDtl);
//        }
//        rsBillPromoItemDtl.close();
//        objUtility = null;
//        return 1;
//    }
//
//    public void funPrintServiceVatNo(BufferedWriter objBillOut, int billPrinteSize, String billNo, String billDate, String billTaxDtl) throws IOException
//    {
//        clsUtility objUtility = new clsUtility();
//        Map<String, String> mapBillNote = new HashMap<>();
//
//        try
//        {
//            String billNote = "";
//            String sql = "select a.strTaxCode,a.strTaxDesc,a.strBillNote "
//                    + "from tbltaxhd a," + billTaxDtl + " b "
//                    + "where a.strTaxCode=b.strTaxCode "
//                    + "and b.strBillNo='" + billNo + "' "
//                    + "and date(b.dteBillDate)='" + billDate + "' "
//                    + "order by a.strBillNote ";
//            ResultSet rsBillNote = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            while (rsBillNote.next())
//            {
//                billNote = rsBillNote.getString(3).trim();
//                if (!billNote.isEmpty())
//                {
//                    mapBillNote.put(billNote, billNote);
//                }
////
////                if (billNote.length() > 0)
////                {
////                    objBillOut.write("  " + billNote);
////                    objBillOut.newLine();
////                }
//            }
//            rsBillNote.close();
//
//            for (String printBillNote : mapBillNote.values())
//            {
//                objBillOut.write("  " + printBillNote);
//                objBillOut.newLine();
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public List<clsBillDtl> funPrintServiceVatNoForJasper(String billNo, String billDate, String billTaxDtl) throws IOException
//    {
//        List<clsBillDtl> listOfServiceVatDetail = new ArrayList<>();
//        clsBillDtl objBillDtl = null;
//        clsUtility objUtility = new clsUtility();
//        Map<String, String> mapBillNote = new HashMap<>();
//
//        try
//        {
//            String billNote = "";
//            String sql = "select a.strTaxCode,a.strTaxDesc,a.strBillNote "
//                    + "from tbltaxhd a," + billTaxDtl + " b "
//                    + "where a.strTaxCode=b.strTaxCode "
//                    + "and b.strBillNo='" + billNo + "' "
//                    + "and date(b.dteBillDate)='" + billDate + "' "
//                    + "order by a.strBillNote ";
//            ResultSet rsBillNote = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            while (rsBillNote.next())
//            {
//                billNote = rsBillNote.getString(3).trim();
//                if (!billNote.isEmpty())
//                {
//                    mapBillNote.put(billNote, billNote);
//                }
////
////                if (billNote.length() > 0)
////                {
////                    objBillOut.write("  " + billNote);
////                    objBillOut.newLine();
////                }
//            }
//            rsBillNote.close();
//
//            for (String printBillNote : mapBillNote.values())
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName(printBillNote);
//                listOfServiceVatDetail.add(objBillDtl);
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//
//        return listOfServiceVatDetail;
//    }
//
//    private int funPrintTakeAwayForJasper(String billHdTableName, String billNo) throws Exception
//    {
//        int res = 0;
//        String sqlTakeAway = "select strOperationType from " + billHdTableName + " "
//                + " where strBillNo='" + billNo + "'";
//        ResultSet rsBill = clsGlobalVarClass.dbMysql.executeResultSet(sqlTakeAway);
//        if (rsBill.next())
//        {
//            if (rsBill.getString(1).equals("TakeAway"))
//            {
//                res = 1;
//            }
//        }
//        rsBill.close();
//        return res;
//    }
//
//    //format 1
//    public void funGenerateTextFileBillPrinting(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        try
//        {
//            String lineFor1 = "  ----------------------------------------";
//            String lineForTotalHighLight = "                                ----------";
//            String user = "";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billDscFrom = "tblbilldiscdtl";
//            String billPromoDtl;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            double totalSubTotal = 0.00;
//            String discount = "";
//            String tax = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            boolean flag_DirectBiller = false;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName"
//                        + " ,a.strStreetName,a.strLandmark,a.strArea,a.strCity,a.longMobileNo,b.strAddress "
//                        + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                        + " on a.strBuldingCode=b.strBuildingCode "
//                        + " where a.strCustomerCode=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//                    if (null != rs_CustomerDtl.getString(8) && rs_CustomerDtl.getString(8).trim().length() > 0)
//                    {
//                        BillOut.write("  ADDRESS1   :" + rs_CustomerDtl.getString(8).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//
//                    }
//                    //add1=add.substring(len,56);
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(5).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(7));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    pst.setString(1, rs_HomeDelivery.getString(3));
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    if (rs_DeliveryBoyDtl.next())
//                    {
//                        BillOut.write("  DELV BOY  :" + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                    }
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                /*
//                 * BillOut.write(" DELV TIME :" +
//                 * rs_HomeDelivery.getString(4).toUpperCase());
//                 * BillOut.newLine();
//                 */
//                BillOut.write(lineFor1);
//                BillOut.newLine();
//            }
//            rs_HomeDelivery.close();
//
//            funPrintTakeAway(billhd, billNo, BillOut, 4);
//
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("TAX INVOICE", BillOut);
//                BillOut.write("TAX INVOICE");
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//            BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                BillOut.newLine();
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated "
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer ,c.strCustomerName,c.longMobileNo"
//                        + ",strTakeAwayRemarks "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tblcustomermaster c on c.strCustomerCode=a.strCustomerCode "
//                        + "where a.strBillNo=?  ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated "
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=?  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//                tabNo = rs_BillHD.getString(1);
//
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    rsQuery.next();
//                    waiterName = rsQuery.getString(1);
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                rsTblName.next();
//                tblName = rsTblName.getString(1);
//                rsTblName.close();
//                pst.close();
//            }
//
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(lineFor1);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                //BillOut.write("  ");
//                BillOut.newLine();
//                if (clsGlobalVarClass.gPrintTimeOnBillYN)
//                {
//                    BillOut.write("  DATE & TIME : ");
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                    BillOut.write(ft.format(rs_BillHD.getObject(1)));
//                    BillOut.newLine();
//                }
//                else
//                {
//                    BillOut.write("  DATE        : ");
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                    BillOut.write(ft.format(rs_BillHD.getObject(1)));
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gRemarksOnTakeAway)
//                {
//                    if (!rs_BillHD.getObject(16).equals(""))
//                    {
//                        BillOut.write("  Cust Name   : ");
//                        BillOut.write(rs_BillHD.getString(16));
//                        BillOut.newLine();
//                    }
//                }
//
//                subTotal = rs_BillHD.getString(4);
//                totalSubTotal = rs_BillHD.getDouble(4);
//                discount = rs_BillHD.getString(3);
//                tax = rs_BillHD.getString(7);
//                grandTotal = rs_BillHD.getString(6);
//                user = rs_BillHD.getString(10);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//
//                BillOut.write(lineFor1);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.newLine();
//                if (clsGlobalVarClass.gPrintTimeOnBillYN)
//                {
//                    BillOut.write("  DATE & TIME : ");
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                    BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                    BillOut.newLine();
//                }
//                else
//                {
//                    BillOut.write("  DATE        : ");
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                    BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                    BillOut.newLine();
//                }
//
//                subTotal = rs_BillHD.getString(6);
//                totalSubTotal = rs_BillHD.getDouble(6);
//
//                discount = rs_BillHD.getString(5);
//                tax = rs_BillHD.getString(9);
//                grandTotal = rs_BillHD.getString(8);
//                user = rs_BillHD.getString(12);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//            //print card available balance
//            String isSttled = "select strBillNo from " + billSettlementdtl + " where strBillNo='" + billNo + "';  ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//
//            if (transType.equals("Void"))
//            {
//                String reasonName = "select a.strReasonName "
//                        + "from tblvoidbillhd a "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//            else
//            {
//                String reasonName = "select ifnull(c.strReasonName,''),a.strRemarks "
//                        + "from tblbillhd a,tblbilldtl b,tblreasonmaster c, tblbillsettlementdtl d,tblsettelmenthd e "
//                        + "where a.strBillNo=b.strBillNo "
//                        + "and a.strReasonCode=c.strReasonCode "
//                        + "and a.strBillNo=d.strBillNo "
//                        + "and d.strSettlementCode=e.strSettelmentCode "
//                        + "and e.strSettelmentType='Complementary' "
//                        + "and a.strBillNo='" + billNo + "' "
//                        + "group by a.strBillNo; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                    BillOut.write("  Remark      :" + " " + rsReason.getString(2));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//
//            if (clsGlobalVarClass.gCMSIntegrationYN)
//            {
//                sql = "select b.strCustomerCode,b.strCustomerName from " + billhd + " a,tblcustomermaster b "
//                        + " where a.strCustomerCode=b.strCustomerCode and a.strBillNo='" + billNo + "'";
//                rsBillPrint = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsBillPrint.next())
//                {
//                    BillOut.write("  Member Code : ");
//                    BillOut.write(rsBillPrint.getString(1));
//                    BillOut.newLine();
//                    BillOut.write("  Member Name : ");
//                    BillOut.write(rsBillPrint.getString(2));
//                    BillOut.newLine();
//                }
//                rsBillPrint.close();
//            }
//            BillOut.write(lineFor1);
//            ////////////////////////llllllllll/////////////////////////////
//
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage,a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b where a.strAdvBookingNo=b.strAdvBookingNo "
//                    + "and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(lineFor1);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//                int strlenMsg = msg.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = msg.substring(0, strlenMsg);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(0, 27);
//                        BillOut.write("  MESSAGE     :" + msg1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = msg.substring(i, endmsg);
//                            i = endmsg;
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(i, strlenMsg);
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//                //////////////////////////////////////////////////
//
//                int strlenShape = shape.length();
//                if (strlenShape > 0)
//                {
//
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = shape.substring(0, strlenShape);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(0, 27);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = shape.substring(j, endShape);
//                            j = endShape;
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(j, strlenShape);
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                BillOut.newLine();
//                BillOut.write(lineFor1);
//            }
//            /////////////////////////lllllllll////////////////////////////           
//            BillOut.newLine();
//            BillOut.write("     QTY  ITEM NAME                  AMT");
//            BillOut.newLine();
//            BillOut.write(lineFor1);
//            BillOut.newLine();
//
//            String SQL_BillDtl = "SELECT SUM(a.dblQuantity),a.strItemName, SUM(a.dblAmount),a.strItemCode,a.strKOTNo,b.strItemType "
//                    + "FROM " + billdtl + "  a,tblitemmaster b "
//                    + "WHERE a.strBillNo=? "
//                    + "AND a.tdhYN='N' "
//                    + "AND a.strItemCode=b.strItemCode ";
//            if (!clsGlobalVarClass.gPrintOpenItemsOnBill)
//            {
//                SQL_BillDtl += "and a.dblAmount>0 ";
//            }
//            SQL_BillDtl += "GROUP BY b.strItemType,a.strItemCode "
//                    + "ORDER BY b.strItemType,a.strItemCode ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            String itemType = "";
//            String itemTypeHeadingPrefix = "  ---------------";
//            String itemTypeHeadingSuffix = "-------------------------";
//            double itemTypeTotal = 0.00;
//            for (int r = 0; rs_BillDtl.next(); r++)
//            {
//                if (r == 0)
//                {
//                    itemType = rs_BillDtl.getString(6);
//                    int itemTypeLength = itemType.length();
//                    BillOut.write(itemTypeHeadingPrefix + itemType.toUpperCase() + itemTypeHeadingSuffix.substring(itemTypeLength));
//                    BillOut.newLine();
//                }
//                else if (itemType.equalsIgnoreCase(rs_BillDtl.getString(6)))
//                {
//                }
//                else
//                {
//                    BillOut.write(lineForTotalHighLight);
//                    BillOut.newLine();
//                    funWriteTotal(itemType.toUpperCase() + " TOTAL", String.valueOf(itemTypeTotal), BillOut, "Format1");
//                    BillOut.newLine();
//                    itemTypeTotal = 0;
//
//                    itemType = rs_BillDtl.getString(6);
//                    int itemTypeLength = itemType.length();
//                    BillOut.write(itemTypeHeadingPrefix + itemType.toUpperCase() + itemTypeHeadingSuffix.substring(itemTypeLength));
//                    BillOut.newLine();
//                }
//
//                double amount = Double.parseDouble(rs_BillDtl.getString(3));
//                amount = Double.parseDouble(objFormat.format(amount));
//
//                itemTypeTotal += amount;
//
//                funWriteToText(BillOut, rs_BillDtl.getString(1), rs_BillDtl.getString(2).toUpperCase(), String.valueOf(amount), "Format1");
//                BillOut.newLine();
//                String sqlModifier = "select Count(*) from " + billModifierdtl + " where strBillNo=? "
//                        + "and left(strItemCode,7)=? ";
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    sqlModifier += " and  dblAmount !=0.00 ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                pst.setString(1, billNo);
//                pst.setString(2, rs_BillDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        amount = Double.parseDouble(rs_modifierRecord.getString(3));
//                        amount = Double.parseDouble(objFormat.format(amount));
//                        itemTypeTotal += amount;
//
//                        funWriteToText(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format1");
//                        BillOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//                }
//
//                if (rs_BillDtl.isLast())
//                {
//                    BillOut.write(lineForTotalHighLight);
//                    BillOut.newLine();
//                    funWriteTotal(itemType.toUpperCase() + " TOTAL", String.valueOf(itemTypeTotal), BillOut, "Format1");
//                    BillOut.newLine();
//                    itemTypeTotal = 0;
//                }
//
//            }
//            rs_BillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, BillOut,4);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(lineFor1);
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sql_CRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format1");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//            funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format1");
//            BillOut.newLine();
//            sql = "select a.dblDiscPer,a.dblDiscAmt,a.strDiscOnType,a.strDiscOnValue "
//                    + "from " + billDscFrom + " a "
//                    + "where a.strBillNo='" + billNo + "' ";
//            ResultSet rsDisc = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            boolean flag = true;
//            double totalDisc = 0.00;
//            while (rsDisc.next())
//            {
//                if (flag)
//                {
//                    flag = false;
//                    BillOut.write("  DISCOUNT");
//                    BillOut.newLine();
//                }
//                double dbl = Double.parseDouble(rsDisc.getString("dblDiscPer"));
//                String discText = String.format("%.1f", dbl) + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                if (discText.length() > 30)
//                {
//                    discText = discText.substring(0, 30);
//                }
//                else
//                {
//                    discText = String.format("%-30s", discText);
//                }
//                BillOut.write("  " + discText);
//                String discountOnItem = objUtility.funPrintTextWithAlignment(rsDisc.getString("dblDiscAmt"), 9, "Right");
//                BillOut.write(discountOnItem);
//                BillOut.newLine();
//                totalDisc += rsDisc.getDouble(2);
//            }
//            if (totalDisc > 0)
//            {
//                double netTotal = totalSubTotal - totalDisc;
//                funWriteTotal("NET TOTAL", String.valueOf(netTotal), BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " and b.strTaxCalculation='Forward' "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format1");
//                BillOut.newLine();
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            BillOut.write(lineFor1);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format1");
//
//            //BillOut.write(lineFor1);
//            BillOut.newLine();
//            //settlement breakup part
//            String SQL_Settlement_Breakup = "select a.dblSettlementAmt ,b.strSettelmentDesc from " + billSettlementdtl + " a ,"
//                    + "tblsettelmenthd b where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_Settlement_Breakup);
//
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format1");
//                BillOut.newLine();
//            }
//            rs_Bill_Settlement.close();
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(lineFor1);
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//            //footer part
//            BillOut.write(lineFor1);
//            BillOut.newLine();
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                BillOut.newLine();
//            }
//            BillOut.newLine();
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                footer = footer.replaceAll("\n", "");
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//            BillOut.newLine();
//
//            if (!clsGlobalVarClass.gClientCode.equals("100.001"))
//            {
//                funPrintBlankSpace(user, BillOut);
//                BillOut.write(user);
//            }
//
//            for (int i = 0; i < 5; i++)
//            {
//                BillOut.newLine();
//            }
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else if ("Star".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write(" P ");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateTextFileBillPrintingForFormat2(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        try
//        {
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billPromoDtl;
//            String billDscFrom;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String discount = "";
//            String tax = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            boolean flag_DirectBiller = false;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName,a.strStreetName"
//                        + " ,a.strLandmark,a.strArea,a.strCity,a.longMobileNo,b.strAddress "
//                        + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                        + " on a.strBuldingCode=b.strBuildingCode "
//                        + " where a.strCustomerCode=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//                    if (rs_CustomerDtl.getString(8).trim().length() > 0)
//                    {
//                        BillOut.write("  ADDRESS1   :" + rs_CustomerDtl.getString(8).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//
//                    }
//                    //add1=add.substring(len,56);
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(5).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(7));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    pst.setString(1, rs_HomeDelivery.getString(3));
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    if (rs_DeliveryBoyDtl.next())
//                    {
//                        BillOut.write("  DELV BOY  :" + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                    }
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                /*
//                 * BillOut.write(" DELV TIME :" +
//                 * rs_HomeDelivery.getString(4).toUpperCase());
//                 * BillOut.newLine();
//                 */
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//            rs_HomeDelivery.close();
//
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//            }
//
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//            BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                BillOut.newLine();
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer  "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "where a.strBillNo=?  ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer  "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=?  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//
//                tabNo = rs_BillHD.getString(1);
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    if (rsQuery.next())
//                    {
//                        waiterName = rsQuery.getString(1);
//                    }
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                rsTblName.next();
//                tblName = rsTblName.getString(1);
//                rsTblName.close();
//                pst.close();
//            }
//
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(Line);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.write("  ");
//                BillOut.write(rs_BillHD.getString(10).toUpperCase());
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(1)));
//
//                BillOut.newLine();
//                BillOut.write(Line);
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(4);
//                discount = rs_BillHD.getString(3);
//                tax = rs_BillHD.getString(7);
//                grandTotal = rs_BillHD.getString(6);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//
//                BillOut.write(Line);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.write("  ");
//                BillOut.write(rs_BillHD.getString(12).toUpperCase());
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//                BillOut.write(Line);
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(6);
//                discount = rs_BillHD.getString(5);
//                tax = rs_BillHD.getString(9);
//                grandTotal = rs_BillHD.getString(8);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//            //print card available balance
//            String isSttled = "select strBillNo from " + billSettlementdtl + " where strBillNo='" + billNo + "';  ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//            if (transType.equals("Void"))
//            {
//                String reasonName = "select a.strReasonName "
//                        + "from tblvoidbillhd a "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//
//            ////////////////////////llllllllll/////////////////////////////
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage,a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b where a.strAdvBookingNo=b.strAdvBookingNo and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(Line);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//
//                int strlenMsg = msg.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = msg.substring(0, strlenMsg);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(0, 27);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = msg.substring(i, endmsg);
//                            i = endmsg;
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(i, strlenMsg);
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//                //////////////////////////////////////////////////
//
//                int strlenShape = shape.length();
//                if (strlenShape > 0)
//                {
//
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = shape.substring(0, strlenShape);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(0, 27);
//                        BillOut.write("  SHAPE       :" + shape1);;
//                        BillOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = shape.substring(j, endShape);
//                            j = endShape;
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(j, strlenShape);
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }//////////////////////////////////////////////
//
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//
//                BillOut.newLine();
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//
//            /////////////////////////lllllllll////////////////////////////
//            BillOut.write("      QTY  ITEM NAME                  AMT");
//            BillOut.newLine();
//            BillOut.write(Line);
//            BillOut.newLine();
//
//            String SQL_BillDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount),strItemCode from " + billdtl + " where strBillNo=? and tdhYN='N' group by strItemCode ;";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//
//                double amount = Double.parseDouble(rs_BillDtl.getString(3));
//                amount = Double.parseDouble(objFormat.format(amount));
//                //funWriteToText(BillOut, rs_BillDtl.getString(1), rs_BillDtl.getString(2).toUpperCase(), rs_BillDtl.getString(3),"Format2");
//                funWriteToText(BillOut, rs_BillDtl.getString(1), rs_BillDtl.getString(2).toUpperCase(), String.valueOf(amount), "Format2");
//                BillOut.newLine();
//                String sqlModifier = "select count(*) "
//                        + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    sqlModifier += " and  dblAmount !=0.00 ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                pst.setString(1, billNo);
//                pst.setString(2, rs_BillDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format2");
//                        BillOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//
//                }
//            }
//            rs_BillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, BillOut,4);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(Line);
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sql_CRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format2");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " and b.strTaxCalculation='Forward' "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//
//            funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format1");
//            BillOut.newLine();
//
//            if (discount.trim().length() > 0 && !"0.00".equalsIgnoreCase(discount))
//            {
//                funWriteTotal("DISCOUNT  " + discPer + "%", discount, BillOut, "Format1");
//                BillOut.newLine();
//            }
//            /*
//             * if (tax.trim().length() > 0 && !"0.00".equalsIgnoreCase(tax)) {
//             * funWriteTotal("TAX", tax, BillOut); BillOut.newLine(); }
//             */
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format1");
//                BillOut.newLine();
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            BillOut.write(Line);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format1");
//            BillOut.newLine();
//            BillOut.write(Line);
//            BillOut.newLine();
//            //settlement breakup part
//            String SQL_Settlement_Breakup = "select a.dblSettlementAmt ,b.strSettelmentDesc from " + billSettlementdtl + " a ,"
//                    + "tblsettelmenthd b where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_Settlement_Breakup);
//
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format1");
//
//                BillOut.newLine();
//            }
//            rs_Bill_Settlement.close();
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(Line);
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//            //footer part
//
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                BillOut.newLine();
//            }
//            BillOut.newLine();
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//
//            BillOut.newLine();
//            BillOut.newLine();
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateTextFileBillPrintingForFormat3(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        try
//        {
//
//            String dottedLine = "  --------------------------------------";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billPromoDtl;
//            String billDscFrom;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String discount = "";
//            String tax = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            boolean flag_DirectBiller = false;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName,a.strStreetName,a.strLandmark,a.strArea,a.strCity,a.longMobileNo,b.strAddress "
//                        + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                        + " on a.strBuldingCode=b.strBuildingCode "
//                        + " where a.strCustomerCode=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//                    if (rs_CustomerDtl.getString(8).trim().length() > 0)
//                    {
//                        BillOut.write("  ADDRESS1   :" + rs_CustomerDtl.getString(8).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//
//                    }
//                    //add1=add.substring(len,56);
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(5).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(7));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    pst.setString(1, rs_HomeDelivery.getString(3));
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    if (rs_DeliveryBoyDtl.next())
//                    {
//                        BillOut.write("  DELV BOY  :" + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                    }
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                /*
//                 * BillOut.write(" DELV TIME :" +
//                 * rs_HomeDelivery.getString(4).toUpperCase());
//                 * BillOut.newLine();
//                 */
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//            }
//            rs_HomeDelivery.close();
//            funPrintTakeAway(billhd, billNo, BillOut, 4);
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("TAX INVOICE", BillOut);
//                BillOut.write("TAX INVOICE");
//                BillOut.newLine();
//            }
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//            BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                BillOut.newLine();
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "where a.strBillNo=?  ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=?  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//
//                tabNo = rs_BillHD.getString(1);
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    rsQuery.next();
//                    waiterName = rsQuery.getString(1);
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                rsTblName.next();
//                tblName = rsTblName.getString(1);
//                rsTblName.close();
//                pst.close();
//            }
//
//            // funPrintTakeAway(billhd,billNo,BillOut,4);
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.write("  ");
//                BillOut.write(rs_BillHD.getString(10).toUpperCase());
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(1)));
//
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(4);
//                discount = rs_BillHD.getString(3);
//                tax = rs_BillHD.getString(7);
//                grandTotal = rs_BillHD.getString(6);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.write("  ");
//                BillOut.write(rs_BillHD.getString(12).toUpperCase());
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(6);
//                discount = rs_BillHD.getString(5);
//                tax = rs_BillHD.getString(9);
//                grandTotal = rs_BillHD.getString(8);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//            //print card available balance
//            String isSttled = "select strBillNo from " + billSettlementdtl + " where strBillNo='" + billNo + "';  ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//            if (transType.equals("Void"))
//            {
//                String reasonName = "select a.strReasonName "
//                        + "from tblvoidbillhd a "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//
//            ////////////////////////llllllllll/////////////////////////////
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage,a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b where a.strAdvBookingNo=b.strAdvBookingNo and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//
//                int strlenMsg = msg.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = msg.substring(0, strlenMsg);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(0, 27);
//                        BillOut.write("  MESSAGE     :" + msg1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = msg.substring(i, endmsg);
//                            i = endmsg;
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(i, strlenMsg);
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//                //////////////////////////////////////////////////
//
//                int strlenShape = shape.length();
//                if (strlenShape > 0)
//                {
//
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = shape.substring(0, strlenShape);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(0, 27);
//                        BillOut.write("  SHAPE       :" + shape1);;
//                        BillOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = shape.substring(j, endShape);
//                            j = endShape;
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(j, strlenShape);
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }//////////////////////////////////////////////
//
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//            }
//
//            /////////////////////////lllllllll////////////////////////////
//            BillOut.write("      QTY  ITEM NAME                 AMT");// Change for Format 3
//            BillOut.newLine();
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//
//            String SQL_BillDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount),strItemCode from " + billdtl + " "
//                    + " where strBillNo=? and tdhYN='N' group by strItemCode ;";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                double amount = Double.parseDouble(rs_BillDtl.getString(3));
//                amount = Double.parseDouble(objFormat.format(amount));
//                funWriteToText(BillOut, rs_BillDtl.getString(1), rs_BillDtl.getString(2).toUpperCase(), String.valueOf(amount), "Format3");
//                //funWriteToText(BillOut, rs_BillDtl.getString(1), rs_BillDtl.getString(2).toUpperCase(), rs_BillDtl.getString(3),"Format3");
//                BillOut.newLine();
//                String sqlModifier = "select count(*) "
//                        + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    sqlModifier += " and  dblAmount !=0.00 ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                pst.setString(1, billNo);
//                pst.setString(2, rs_BillDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format3");
//                        BillOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//
//                }
//            }
//            rs_BillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, BillOut,4);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sql_CRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format3");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " and b.strTaxCalculation='Forward' "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//            funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format3");
//            BillOut.newLine();
//
//            if (discount.trim().length() > 0 && !"0.00".equalsIgnoreCase(discount))
//            {
//                funWriteTotal("DISCOUNT  " + discPer + "%", discount, BillOut, "Format3");
//                BillOut.newLine();
//            }
//            /*
//             * if (tax.trim().length() > 0 && !"0.00".equalsIgnoreCase(tax)) {
//             * funWriteTotal("TAX", tax, BillOut); BillOut.newLine(); }
//             */
//            boolean flgForwardTax = false;
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format3");
//                BillOut.newLine();
//                flgForwardTax = true;
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format3");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format3");
//                BillOut.newLine();
//            }
//
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format3");
//            BillOut.newLine();
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//            //settlement breakup part
//            String SQL_Settlement_Breakup = "select a.dblSettlementAmt ,b.strSettelmentDesc from " + billSettlementdtl + " a ,"
//                    + "tblsettelmenthd b where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_Settlement_Breakup);
//
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format3");
//
//                BillOut.newLine();
//            }
//            rs_Bill_Settlement.close();
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//            //footer part
//
//            if (!flgForwardTax)
//            {
//                if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//                {
//                    funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                    BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                    BillOut.newLine();
//                    BillOut.newLine();
//                }
//            }
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//
//            BillOut.newLine();
//            BillOut.newLine();
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateTextFileBillPrintingForFormat4(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        try
//        {
//
//            String dottedLine = "  -------------------------------------------";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billPromoDtl;
//            String billDscFrom;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String discount = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime,strCustAddressLine1 "
//                    + "from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "";
//
//                if (rs_HomeDelivery.getString(5).equals("Home"))
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName,a.strStreetName"
//                            + " ,a.strLandmark,a.strArea,a.strCity,a.intPinCode,a.longMobileNo "
//                            + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                            + " on a.strBuldingCode=b.strBuildingCode "
//                            + " where a.strCustomerCode=? ;";
//                }
//                else
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strOfficeBuildingName,a.strOfficeStreetName"
//                            + ",a.strOfficeLandmark,a.strOfficeArea,a.strOfficeCity,a.strOfficePinCode,a.longMobileNo "
//                            + " from tblcustomermaster a "
//                            + " where a.strCustomerCode=? ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//
//                    // Building Name    
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS1   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS1   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    // Street Name    
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    // Landmark Name    
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Area Name    
//                    if (rs_CustomerDtl.getString(5).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // City Name    
//                    if (rs_CustomerDtl.getString(6).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Pin Code    
//                    if (rs_CustomerDtl.getString(7).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(7).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Mobile No    
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(8));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String[] delBoys = rs_HomeDelivery.getString(3).split(",");
//                    StringBuilder strIN = new StringBuilder("(");
//                    for (int i = 0; i < delBoys.length; i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append("'" + delBoys[i] + "'");
//                        }
//                        else
//                        {
//                            strIN.append(",'" + delBoys[i] + "'");
//                        }
//                    }
//                    strIN.append(")");
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode IN " + strIN + " ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    strIN.setLength(0);
//                    for (int i = 0; rs_DeliveryBoyDtl.next(); i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append(rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                        else
//                        {
//                            strIN.append("," + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                    }
//                    BillOut.write("  DELV BOY  :" + strIN);
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                /*
//                 * BillOut.write(" DELV TIME :" +
//                 * rs_HomeDelivery.getString(4).toUpperCase());
//                 * BillOut.newLine();
//                 */
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//            rs_HomeDelivery.close();
//
//            funPrintTakeAway(billhd, billNo, BillOut, 4);
//
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("INVOICE", BillOut);
//                BillOut.write("INVOICE");
//                BillOut.newLine();
//            }
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//            BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                BillOut.newLine();
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "", remarks = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",ifnull(c.dblHomeDelCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer"
//                        + ",strTakeAwayRemarks "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tbladvbookbillhd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=?  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=?  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//
//                tabNo = rs_BillHD.getString(1);
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    rsQuery.next();
//                    waiterName = rsQuery.getString(1);
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                if (rsTblName.next())
//                {
//                    tblName = rsTblName.getString(1);
//                }
//                rsTblName.close();
//                pst.close();
//            }
//
//            // funPrintTakeAway(billhd, billNo, BillOut);
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.write("  ");
//                BillOut.write(rs_BillHD.getString(10).toUpperCase());
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(1)));
//                BillOut.newLine();
//
//                if (clsGlobalVarClass.gRemarksOnTakeAway)
//                {
//                    if (!rs_BillHD.getObject(14).equals(""))
//                    {
//                        BillOut.write("  Cust Name   : ");
//                        BillOut.write(rs_BillHD.getString(14));
//                        BillOut.newLine();
//                    }
//                }
//
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//
//                subTotal = rs_BillHD.getString(4);
//                discount = rs_BillHD.getString(3);
//                grandTotal = rs_BillHD.getString(6);
//                remarks = rs_BillHD.getString(9);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.write("  ");
//                BillOut.write(rs_BillHD.getString(12).toUpperCase());
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(6);
//                discount = rs_BillHD.getString(5);
//                grandTotal = rs_BillHD.getString(8);
//                remarks = rs_BillHD.getString(11);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//            //print card available balance
//            String isSttled = "select strBillNo from " + billSettlementdtl + " where strBillNo='" + billNo + "';  ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//            if (transType.equals("Void"))
//            {
//                String reasonName = "select a.strReasonName "
//                        + "from tblvoidbillhd a "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//
//            ////////////////////////llllllllll/////////////////////////////
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage,a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b where a.strAdvBookingNo=b.strAdvBookingNo and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//                String[] arrSpMsg = msg.split("}");
//                for (int cnt = 0; cnt < arrSpMsg.length; cnt++)
//                {
//                    msg = arrSpMsg[cnt];
//                    int strlenMsg = msg.length();
//                    if (strlenMsg > 0)
//                    {
//                        String msg1 = "";
//                        if (strlenMsg < 27)
//                        {
//                            msg1 = msg.substring(0, strlenMsg);
//                            BillOut.write("  MESSAGE " + cnt + "    :" + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(0, 27);
//                            //BillOut.write("  MESSAGE     :"+msg1);;
//                            BillOut.write("  MESSAGE " + cnt + "    :" + msg1);;
//                            BillOut.newLine();
//                        }
//                        for (int i = 27; i <= strlenMsg; i++)
//                        {
//                            int endmsg = 0;
//                            endmsg = i + 27;
//                            if (strlenMsg > endmsg)
//                            {
//                                msg1 = msg.substring(i, endmsg);
//                                i = endmsg;
//                                BillOut.write("               " + msg1);
//                                BillOut.newLine();
//                            }
//                            else
//                            {
//                                msg1 = msg.substring(i, strlenMsg);
//                                BillOut.write("               " + msg1);
//                                BillOut.newLine();
//                                i = strlenMsg + 1;
//                            }
//                        }
//                    }
//                }
//
//                String[] arrSpShape = shape.split("}");
//                for (int cnt = 0; cnt < arrSpShape.length; cnt++)
//                {
//                    shape = arrSpShape[cnt];
//                    int strlenShape = shape.length();
//                    if (strlenShape > 0)
//                    {
//                        String shape1 = "";
//                        if (strlenShape < 27)
//                        {
//                            shape1 = shape.substring(0, strlenShape);
//                            BillOut.write("  SHAPE " + (cnt + 1) + "      :" + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(0, 27);
//                            BillOut.write("  SHAPE " + (cnt + 1) + "      :" + shape1);
//                            BillOut.newLine();
//                        }
//                        for (int j = 27; j <= strlenShape; j++)
//                        {
//                            int endShape = 0;
//                            endShape = j + 27;
//                            if (strlenShape > endShape)
//                            {
//                                shape1 = shape.substring(j, endShape);
//                                j = endShape;
//                                BillOut.write("               " + shape1);
//                                BillOut.newLine();
//                            }
//                            else
//                            {
//                                shape1 = shape.substring(j, strlenShape);
//                                BillOut.write("               " + shape1);
//                                BillOut.newLine();
//                                j = strlenShape + 1;
//                            }
//                        }
//                    }
//                }
//
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//            }
//
//            BillOut.write("   ITEM NAME");
//            BillOut.newLine();
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write("            QTY           RATE            AMT");
//            }
//            else
//            {
//                BillOut.write("      KOTNo        QTY       RATE         AMT");
//            }
//
//            BillOut.newLine();
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//
//            String SQL_BillDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount)"
//                    + " ,strItemCode,strKOTNo,dblRate "
//                    + " from " + billdtl + " where strBillNo=? and tdhYN='N' "
//                    + " group by strItemCode,strKOTNo ;";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                //funPrintBlankSpace(rs_BillDtl.getString(2), BillOut);
//                BillOut.write("   " + rs_BillDtl.getString(2));
//                BillOut.newLine();
//
//                double amount = Double.parseDouble(rs_BillDtl.getString(3));
//                amount = Double.parseDouble(objFormat.format(amount));
//                funPrintItemDetails(rs_BillDtl.getString(5), rs_BillDtl.getString(1), rs_BillDtl.getString(6), String.valueOf(amount), BillOut, "Format4", flag_DirectBillerBlill);
//                //funPrintItemDetails(rs_BillDtl.getString(5),rs_BillDtl.getString(1), rs_BillDtl.getString(6), rs_BillDtl.getString(3), BillOut, "Format4",flag_DirectBillerBlill);
//
//                String SQL_ModifierDtl_count = "select Count(*) from " + billModifierdtl + " "
//                        + "where strBillNo=? and left(strItemCode,7)=? ";
//
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    SQL_ModifierDtl_count += " and dblAmount !=0.00 ;";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl_count);
//
//                pst.setString(1, billNo);
//                pst.setString(2, rs_BillDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    String SQL_ModifierDtl = "select strModifierName,dblQuantity,dblAmount "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        SQL_ModifierDtl_count += " and dblAmount !=0.00 ;";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format4");
//                        BillOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//                }
//            }
//            rs_BillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, BillOut,4);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sql_CRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format4");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//
//            funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format4");
//            BillOut.newLine();
//
//            sql = "select a.dblDiscPer,a.dblDiscAmt,a.strDiscOnType,a.strDiscOnValue "
//                    + "from tblbilldiscdtl a "
//                    + "where a.strBillNo='" + billNo + "' ";
//
//            ResultSet rsDisc = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            boolean flag = true;
//            while (rsDisc.next())
//            {
//                if (flag)
//                {
//                    flag = false;
//                    BillOut.write("  DISCOUNT");
//                    BillOut.newLine();
//                }
//                double dbl = Double.parseDouble(rsDisc.getString("dblDiscPer"));
//                String discText = String.format("%.1f", dbl) + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                if (discText.length() > 35)
//                {
//                    discText = discText.substring(0, 35);
//                }
//                else
//                {
//                    discText = String.format("%-35s", discText);
//                }
//                BillOut.write("  " + discText);
//                String discountOnItem = objUtility.funPrintTextWithAlignment(rsDisc.getString("dblDiscAmt"), 8, "Right");
//                BillOut.write(discountOnItem);
//                BillOut.newLine();
//            }
//            /*
//             * if (tax.trim().length() > 0 && !"0.00".equalsIgnoreCase(tax)) {
//             * funWriteTotal("TAX", tax, BillOut); BillOut.newLine(); }
//             */
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format4");
//                BillOut.newLine();
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format4");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format4");
//                BillOut.newLine();
//            }
//
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format4");
//            BillOut.newLine();
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//            //settlement breakup part
//            String SQL_Settlement_Breakup = "select a.dblSettlementAmt ,b.strSettelmentDesc from " + billSettlementdtl + " a ,"
//                    + "tblsettelmenthd b where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_Settlement_Breakup);
//
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format4");
//                BillOut.newLine();
//            }
//            rs_Bill_Settlement.close();
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//            //footer part
//
//            BillOut.write("  " + remarks);
//            BillOut.newLine();
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                BillOut.newLine();
//            }
//            BillOut.newLine();
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//
//            BillOut.newLine();
//            BillOut.newLine();
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//        finally
//        {
//        }
//    }
//
//    public void funGenerateTextFileBillPrintingForFormat6(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        try
//        {
//
//            String dottedLine = "  ----------------------------------------";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billPromoDtl;
//            String billDscFrom;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String discount = "";
//            String tax = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            boolean flag_DirectBiller = false;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime from tblhomedelivery "
//                    + "where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName,a.strStreetName"
//                        + " ,a.strLandmark,a.strArea,a.strCity,a.longMobileNo,b.strAddress "
//                        + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                        + " on a.strBuldingCode=b.strBuildingCode "
//                        + " where a.strCustomerCode=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//                    if (rs_CustomerDtl.getString(8).trim().length() > 0)
//                    {
//                        BillOut.write("  ADDRESS1   :" + rs_CustomerDtl.getString(8).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    //add1=add.substring(len,56);
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(5).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(7));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    pst.setString(1, rs_HomeDelivery.getString(3));
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    if (rs_DeliveryBoyDtl.next())
//                    {
//                        BillOut.write("  DELV BOY  :" + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                    }
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                /*
//                 * BillOut.write(" DELV TIME :" +
//                 * rs_HomeDelivery.getString(4).toUpperCase());
//                 * BillOut.newLine();
//                 */
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//            }
//            rs_HomeDelivery.close();
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("INVOICE", BillOut);
//                BillOut.write("INVOICE");
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//            BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                BillOut.newLine();
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "", remarks = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "where a.strBillNo=?  ;";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=?  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//
//                tabNo = rs_BillHD.getString(1);
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    rsQuery.next();
//                    waiterName = rsQuery.getString(1);
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                rsTblName.next();
//                tblName = rsTblName.getString(1);
//                rsTblName.close();
//                pst.close();
//            }
//
//            // funPrintTakeAway(billhd, billNo, BillOut);
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.write("  ");
//                BillOut.write(rs_BillHD.getString(10).toUpperCase());
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(1)));
//
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(4);
//                discount = rs_BillHD.getString(3);
//                tax = rs_BillHD.getString(7);
//                grandTotal = rs_BillHD.getString(6);
//                remarks = rs_BillHD.getString(9);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.write("  ");
//                BillOut.write(rs_BillHD.getString(12).toUpperCase());
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(6);
//                discount = rs_BillHD.getString(5);
//                tax = rs_BillHD.getString(9);
//                grandTotal = rs_BillHD.getString(8);
//                remarks = rs_BillHD.getString(11);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//            //print card available balance
//            String isSttled = "select strBillNo from " + billSettlementdtl + " where strBillNo='" + billNo + "';  ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//
//            if (transType.equals("Void"))
//            {
//                String reasonName = "select a.strReasonName "
//                        + "from tblvoidbillhd a "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//            ////////////////////////llllllllll/////////////////////////////
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage,a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b where a.strAdvBookingNo=b.strAdvBookingNo and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//                String[] arrSpMsg = msg.split("}");
//                for (int cnt = 0; cnt < arrSpMsg.length; cnt++)
//                {
//                    msg = arrSpMsg[cnt];
//                    int strlenMsg = msg.length();
//                    if (strlenMsg > 0)
//                    {
//                        String msg1 = "";
//                        if (strlenMsg < 27)
//                        {
//                            msg1 = msg.substring(0, strlenMsg);
//                            BillOut.write("  MESSAGE " + cnt + "    :" + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(0, 27);
//                            //BillOut.write("  MESSAGE     :"+msg1);;
//                            BillOut.write("  MESSAGE " + cnt + "    :" + msg1);;
//                            BillOut.newLine();
//                        }
//                        for (int i = 27; i <= strlenMsg; i++)
//                        {
//                            int endmsg = 0;
//                            endmsg = i + 27;
//                            if (strlenMsg > endmsg)
//                            {
//                                msg1 = msg.substring(i, endmsg);
//                                i = endmsg;
//                                BillOut.write("               " + msg1);
//                                BillOut.newLine();
//                            }
//                            else
//                            {
//                                msg1 = msg.substring(i, strlenMsg);
//                                BillOut.write("               " + msg1);
//                                BillOut.newLine();
//                                i = strlenMsg + 1;
//                            }
//                        }
//                    }
//                }
//
//                String[] arrSpShape = shape.split("}");
//                for (int cnt = 0; cnt < arrSpShape.length; cnt++)
//                {
//                    shape = arrSpShape[cnt];
//                    int strlenShape = shape.length();
//                    if (strlenShape > 0)
//                    {
//                        String shape1 = "";
//                        if (strlenShape < 27)
//                        {
//                            shape1 = shape.substring(0, strlenShape);
//                            BillOut.write("  SHAPE " + (cnt + 1) + "      :" + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(0, 27);
//                            BillOut.write("  SHAPE " + (cnt + 1) + "      :" + shape1);
//                            BillOut.newLine();
//                        }
//                        for (int j = 27; j <= strlenShape; j++)
//                        {
//                            int endShape = 0;
//                            endShape = j + 27;
//                            if (strlenShape > endShape)
//                            {
//                                shape1 = shape.substring(j, endShape);
//                                j = endShape;
//                                BillOut.write("               " + shape1);
//                                BillOut.newLine();
//                            }
//                            else
//                            {
//                                shape1 = shape.substring(j, strlenShape);
//                                BillOut.write("               " + shape1);
//                                BillOut.newLine();
//                                j = strlenShape + 1;
//                            }
//                        }
//                    }
//                }
//
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                //
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//            }
//
//            /////////////////////////lllllllll////////////////////////////
//            BillOut.write("   ITEM NAME");
//            BillOut.newLine();
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write("            QTY          RATE         AMT");
//            }
//            else
//            {
//                BillOut.write("      KOTNo       QTY      RATE       AMT");
//            }
//
//            BillOut.newLine();
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//            String SQL_BillDtl = "select dblQuantity,strItemName,format(dblAmount,2),strItemCode,strKOTNo,dblRate "
//                    + "from " + billdtl + " where strBillNo=? and tdhYN='N';";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                BillOut.write("   " + rs_BillDtl.getString(2));
//                BillOut.newLine();
//                funPrintItemDetails(rs_BillDtl.getString(5), rs_BillDtl.getString(1), rs_BillDtl.getString(6), rs_BillDtl.getString(3), BillOut, "Format6", flag_DirectBillerBlill);
//
//                String SQL_ModifierDtl_count = "select Count(*) from " + billModifierdtl + " "
//                        + "where strBillNo=? and left(strItemCode,7)=? ";
//
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    SQL_ModifierDtl_count += " and dblAmount !=0.00 ;";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl_count);
//
//                pst.setString(1, billNo);
//                pst.setString(2, rs_BillDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    String SQL_ModifierDtl = " SELECT b.strModifierName,b.dblQuantity"
//                            + ",b.dblAmount,a.strDefaultModifier,b.strDefaultModifierDeselectedYN "
//                            + " FROM " + billModifierdtl + " b,tblitemmodofier a "
//                            + " WHERE "
//                            + " a.strItemCode=left(b.strItemCode,7) "
//                            + " and a.strModifierCode=b.strModifierCode "
//                            + " and b.strBillNo=? AND LEFT(b.strItemCode,7)=? ";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        if (rs_modifierRecord.getString(4).equalsIgnoreCase("N"))
//                        {
//                            funWriteToText(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format6");
//                            BillOut.newLine();
//                        }
//                    }
//                    rs_modifierRecord.close();
//
//                    SQL_ModifierDtl = "select strModifierName,dblQuantity,dblAmount "
//                            + " from " + billModifierdtl + " "
//                            + " where strBillNo=? and left(strItemCode,7)=? "
//                            + " and strModifierCode='M99' ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        SQL_ModifierDtl += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(4));
//                    rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format6");
//                        BillOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//                }
//            }
//            rs_BillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, BillOut,4);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sql_CRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format6");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " and b.strTaxCalculation='Forward' "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//            funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format6");
//            BillOut.newLine();
//
//            if (discount.trim().length() > 0 && !"0.00".equalsIgnoreCase(discount))
//            {
//                funWriteTotal("DISCOUNT  " + discPer + "%", discount, BillOut, "Format6");
//                BillOut.newLine();
//            }
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format6");
//                BillOut.newLine();
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format6");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format6");
//                BillOut.newLine();
//            }
//
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format6");
//            BillOut.newLine();
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//            //settlement breakup part
//            String SQL_Settlement_Breakup = "select a.dblSettlementAmt ,b.strSettelmentDesc from " + billSettlementdtl + " a ,"
//                    + "tblsettelmenthd b where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_Settlement_Breakup);
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format6");
//                BillOut.newLine();
//            }
//            rs_Bill_Settlement.close();
//
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//            //footer part
//
//            BillOut.write("  " + remarks);
//            BillOut.newLine();
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                BillOut.newLine();
//            }
//            BillOut.newLine();
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//
//            BillOut.newLine();
//            BillOut.newLine();
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//        finally
//        {
//        }
//    }
//
//    private int funPrintContentWithSpace(String align, String textToPrint, int totalLength, BufferedWriter pw) throws Exception
//    {
//        int len = totalLength - textToPrint.trim().length();
//        if (align.equalsIgnoreCase("Left"))
//        {
//            pw.write(textToPrint.trim());
//            for (int cnt = 0; cnt < len; cnt++)
//            {
//                pw.write(" ");
//            }
//        }
//        else if (align.equalsIgnoreCase("Right"))
//        {
//            for (int cnt = 0; cnt < len; cnt++)
//            {
//                pw.write(" ");
//            }
//            pw.write(textToPrint.trim());
//        }
//
//        return 1;
//    }
//
//    private void funWriteToTextformat5(BufferedWriter out, String qyt, String ItemName, String Amount, String format)
//    {
//        try
//        {
//            int counter = 0;
//            out.write("  ");
//            counter = counter + 2;
//            //Qty write 
//            String tempQty = qyt;
//            int length = tempQty.length();
//
//            switch (length)
//            {
//                case 4:
//                    out.write("   " + tempQty);//3space
//                    counter = counter + 3 + length;
//                    break;
//
//                case 5:
//                    out.write(" " + tempQty);//2space
//                    counter = counter + 1 + length;
//                    break;
//
//                case 6:
//                    out.write(" " + tempQty);//1space
//                    counter = counter + 1 + length;
//                    break;
//
//                case 7:
//                    out.write(tempQty);
//                    counter = counter + length;
//                    break;
//            }
//
//            //End of Qty write 
//            out.write("  ");
//            counter = counter + 2;
//
//            //Item Write 
//            String tempItemName = ItemName;
//            length = tempItemName.length();
//            if (length < 19)
//            {
//                out.write(tempItemName);
//                counter = counter + length;
//                funWriteFormattedAmt(counter, Amount, out, format);
//            }
//            else
//            {
//                String partOne = tempItemName.substring(0, 18);
//                out.write(partOne);
//                counter = counter + partOne.length();
//                String partTwo = tempItemName.substring(19, length - 1);
//                funWriteFormattedAmt(counter, Amount, out, format);
//                out.newLine();
//                out.write("           " + partTwo);
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funPrintItemDetails(String kotNo, String itemQty, String itemRate, String price, BufferedWriter out, String format, boolean flgDirectBiller) throws Exception
//    {
//        int len = 0;
//        if (kotNo.length() > 0)
//        {
//            StringBuilder sbKOT = new StringBuilder(kotNo);
//            kotNo = sbKOT.delete(0, 2).toString();
//            long kot = Long.parseLong(kotNo);
//            int kotLength = 11 - String.valueOf(kot).trim().length();
//            for (int i = 0; i < kotLength; i++)
//            {
//                out.write(" ");
//            }
//            out.write(String.valueOf(kot));
//        }
//        if (format.equalsIgnoreCase("Format6"))
//        {
//            len = 10;
//        }
//        else
//        {
//            len = 11;
//        }
//
//        if (flgDirectBiller)
//        {
//            len = 15;
//        }
//        int qtyLength = len - itemQty.trim().length();
//        for (int i = 0; i < qtyLength; i++)
//        {
//            out.write(" ");
//        }
//        out.write(itemQty);
//
//        if (flgDirectBiller)
//        {
//            len = 15;
//        }
//        int itemRateLength = len - itemRate.trim().length();
//        for (int i = 0; i < itemRateLength; i++)
//        {
//            out.write(" ");
//        }
//        out.write(itemRate);
//
//        if (flgDirectBiller)
//        {
//            len = 15;
//        }
//        else
//        {
//            len = 12;
//        }
//        if (format.equalsIgnoreCase("Format6"))
//        {
//            len = 11;
//        }
//        int priceLength = len - price.trim().length();
//        for (int i = 0; i < priceLength; i++)
//        {
//            out.write(" ");
//        }
//        out.write(price);
//
//        out.newLine();
//        out.newLine();
//    }
//
//    private void funPrintItemDetails(String kotNo, String itemQty, String itemRate, String price, BufferedWriter out, String format, boolean flgDirectBiller, String discAmt) throws Exception
//    {
//        int len = 0;
//
//        if (format.equalsIgnoreCase("Format6") || format.equalsIgnoreCase("Format13"))
//        {
//            len = 10;
//
//            if (flgDirectBiller)
//            {
//                int qtyLength = len - itemQty.trim().length();
//                for (int i = 0; i < qtyLength; i++)
//                {
//                    out.write(" ");
//                }
//                out.write(itemQty);
//
//                int itemRateLength = len - itemRate.trim().length();
//                for (int i = 0; i < itemRateLength; i++)
//                {
//                    out.write(" ");
//                }
//                out.write(itemRate);
//
//                int intDiscAmtLen = len - discAmt.trim().length();
//                for (int i = 0; i < intDiscAmtLen; i++)
//                {
//                    out.write(" ");
//                }
//                out.write(discAmt);
//
//                int priceLength = len - price.trim().length();
//                for (int i = 0; i < priceLength; i++)
//                {
//                    out.write(" ");
//                }
//                out.write(price);
//            }
//            else
//            {
//                if (kotNo.length() > 0)
//                {
//                    StringBuilder sbKOT = new StringBuilder(kotNo);
//                    kotNo = sbKOT.delete(0, 2).toString();
//                    long kot = Long.parseLong(kotNo);
//                    int kotLength = 11 - String.valueOf(kot).trim().length();
//                    for (int i = 0; i < kotLength; i++)
//                    {
//                        out.write(" ");
//                    }
//                    out.write(String.valueOf(kot));
//                }
//
//                int qtyLength = len - itemQty.trim().length();
//                for (int i = 0; i < qtyLength; i++)
//                {
//                    out.write(" ");
//                }
//                out.write(itemQty);
//
//                int itemRateLength = len - itemRate.trim().length();
//                for (int i = 0; i < itemRateLength; i++)
//                {
//                    out.write(" ");
//                }
//                out.write(itemRate);
//
//                int priceLength = len - price.trim().length();
//                for (int i = 0; i < priceLength; i++)
//                {
//                    out.write(" ");
//                }
//                out.write(price);
//
//            }
//        }
//        else
//        {
//            len = 11;
//            if (kotNo.length() > 0)
//            {
//                StringBuilder sbKOT = new StringBuilder(kotNo);
//                kotNo = sbKOT.delete(0, 2).toString();
//                long kot = Long.parseLong(kotNo);
//                int kotLength = 11 - String.valueOf(kot).trim().length();
//                for (int i = 0; i < kotLength; i++)
//                {
//                    out.write(" ");
//                }
//                out.write(String.valueOf(kot));
//            }
//
//            int qtyLength = len - itemQty.trim().length();
//            for (int i = 0; i < qtyLength; i++)
//            {
//                out.write(" ");
//            }
//            out.write(itemQty);
//
//            int itemRateLength = len - itemRate.trim().length();
//            for (int i = 0; i < itemRateLength; i++)
//            {
//                out.write(" ");
//            }
//            out.write(itemRate);
//
//            int intDiscAmtLen = len - discAmt.trim().length();
//            for (int i = 0; i < intDiscAmtLen; i++)
//            {
//                out.write(" ");
//            }
//            out.write(discAmt);
//
//            int priceLength = len - price.trim().length();
//            for (int i = 0; i < priceLength; i++)
//            {
//                out.write(" ");
//            }
//            out.write(price);
//        }
//
//        out.newLine();
//        out.newLine();
//    }
//
//    /**
//     * Ritesh 17 Sept 2014
//     *
//     * @param TableNo
//     * @param WaiterName
//     */
//    public void fun_CkeckKot_TextFile(String TableNo, String WaiterName)
//    {
//        try
//        {
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Check_KOT = new File(filePath + "/Temp/Temp_KOT.txt");
//            FileWriter fstream = new FileWriter(Text_Check_KOT);
//
//            BufferedWriter checkKotOut = new BufferedWriter(fstream);
//
//            funPrintBlankSpace("CHECK KOT", checkKotOut);
//            checkKotOut.write("CHECK KOT");
//            checkKotOut.newLine();
//            checkKotOut.write(Line);
//            checkKotOut.newLine();
//
//            PreparedStatement pst = null;
//            String sql_CheckKot = "select a.strItemName, sum(a.dblItemQuantity),b.strTableName,"
//                    + " TIME_FORMAT(time(a.dteDateCreated),'%h:%i') "
//                    + " from tblitemrtemp a,tbltablemaster b,tblitemmaster c "
//                    + " where a.strTableNo=b.strTableNo and left(a.strItemCode,7)=c.strItemCode "
//                    + " and a.strTableNo=? "
//                    + " and c.strOpenItem='N' "
//                    + " and a.strNCKotYN='N' "
//                    + " group by a.strItemCode,a.strItemName "
//                    + " order by a.strSerialNo";
//            System.out.println(sql_CheckKot);
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_CheckKot);
//            pst.setString(1, TableNo);
//            ResultSet rs_checkKOT = pst.executeQuery();
//            boolean flag_first = true;
//            while (rs_checkKOT.next())
//            {
//                if (flag_first)
//                {
//                    checkKotOut.write("  TABLE NAME : " + rs_checkKOT.getString(3));
//                    if ("null".equalsIgnoreCase(WaiterName))
//                    {
//                    }
//                    else
//                    {
//                        checkKotOut.newLine();
//                        checkKotOut.write("  WAITER NAME: " + WaiterName);
//                    }
//
//                    checkKotOut.newLine();
//                    checkKotOut.write("  TIME: " + rs_checkKOT.getString(4));
//                    checkKotOut.newLine();
//                    checkKotOut.write(Line);
//                    checkKotOut.newLine();
//                    checkKotOut.write("     QTY          ITEM NAME");
//                    checkKotOut.newLine();
//                    checkKotOut.write(Line);
//                    checkKotOut.newLine();
//                    String itemqty = rs_checkKOT.getString(2);
//
//                    switch (itemqty.length())
//                    {
//                        case 7:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("      " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("  " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("  " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 6:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("       " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("   " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("   " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 5:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("        " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("    " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("    " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 4:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("         " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("     " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("     " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//                    }
//                    flag_first = false;
//                }
//                else
//                {
//                    String itemqty = rs_checkKOT.getString(2);
//                    switch (itemqty.length())
//                    {
//                        case 7:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("      " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("  " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("  " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 6:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("       " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("   " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("   " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 5:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("        " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("    " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("    " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 4:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("         " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("     " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("     " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//                    }
//                }
//                checkKotOut.newLine();
//            }
//
//            sql_CheckKot = "select a.strItemName, a.dblItemQuantity,b.strTableName,"
//                    + " a.dteDateCreated from tblitemrtemp a,tbltablemaster b,tblitemmaster c "
//                    + " where a.strTableNo=b.strTableNo and left(a.strItemCode,7)=c.strItemCode "
//                    + " and a.strTableNo=? and c.strOpenItem='Y' ";
//            //System.out.println(sql_CheckKot);
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_CheckKot);
//            pst.setString(1, TableNo);
//            rs_checkKOT = pst.executeQuery();
//            while (rs_checkKOT.next())
//            {
//                if (flag_first)
//                {
//                    checkKotOut.write("  TABLE NAME : " + rs_checkKOT.getString(3));
//                    if ("null".equalsIgnoreCase(WaiterName))
//                    {
//                    }
//                    else
//                    {
//                        checkKotOut.write("  WAITER NAME: " + WaiterName);
//                    }
//
//                    checkKotOut.newLine();
//                    checkKotOut.write("  DATE & TIME: " + rs_checkKOT.getString(4));
//                    checkKotOut.newLine();
//                    checkKotOut.write(Line);
//                    checkKotOut.newLine();
//                    checkKotOut.write("     QTY          ITEM NAME");
//                    checkKotOut.newLine();
//                    checkKotOut.write(Line);
//                    checkKotOut.newLine();
//                    String itemqty = rs_checkKOT.getString(2);
//
//                    switch (itemqty.length())
//                    {
//                        case 7:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("      " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("  " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("  " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 6:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("       " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("   " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("   " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 5:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("        " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("    " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("    " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 4:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("         " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("     " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("     " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//                    }
//                    flag_first = false;
//                }
//                else
//                {
//                    String itemqty = rs_checkKOT.getString(2);
//                    switch (itemqty.length())
//                    {
//                        case 7:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("      " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("  " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("  " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 6:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("       " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("   " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("   " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 5:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("        " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("    " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("    " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//
//                        case 4:
//                            if (rs_checkKOT.getString(1).startsWith("-->"))
//                            {
//                                if (!clsGlobalVarClass.gPrintModQtyOnKOT)
//                                {
//                                    checkKotOut.write("         " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                                else
//                                {
//                                    checkKotOut.write("     " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                                }
//                            }
//                            else
//                            {
//                                checkKotOut.write("     " + rs_checkKOT.getString(2) + "    " + rs_checkKOT.getString(1).toUpperCase());
//                            }
//                            break;
//                    }
//                }
//                checkKotOut.newLine();
//            }
//
//            checkKotOut.newLine();
//            checkKotOut.newLine();
//            checkKotOut.newLine();
//            checkKotOut.newLine();
//            checkKotOut.newLine();
//            //checkKotOut.write("m"); //windows
//
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                checkKotOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    checkKotOut.write("V");
//                }
//                else
//                {
//                    checkKotOut.write("m");//windows
//                }
//            }
//            rs_checkKOT.close();
//            checkKotOut.close();
//            fstream.close();
//
//            if (clsGlobalVarClass.gShowBill)
//            {
//                funShowTextFile(Text_Check_KOT, "", "");
//            }
//            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "checkkot", "N", false);
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    /**
//     * Ritesh 17 Sept 2014
//     *
//     * @param billNo
//     * @return
//     */
//    private boolean funIsDirectBillerBill(String billNo, String billhd)
//    {
//        boolean flgIsDirectBillerBill = false;
//        try
//        {
//            String sql_checkDirectBillerBill = "select strTableNo,strOperationType "
//                    + " from " + billhd + " where strBillNo=?  ";
//            PreparedStatement pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_checkDirectBillerBill);
//            //pst.setString(1, billhd);
//            pst.setString(1, billNo);
//            ResultSet rsIsDirectBillBill = pst.executeQuery();
//            if (rsIsDirectBillBill.next())
//            {
//                if (rsIsDirectBillBill.getString(1) != null && rsIsDirectBillBill.getString(1).trim().isEmpty())
//                {
//                    flgIsDirectBillerBill = true;
//                }
//            }
//            rsIsDirectBillBill.close();
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//        return flgIsDirectBillerBill;
//    }
//
//    /**
//     *
//     * @param KOT_TableNo
//     * @param KotNo
//     * @param text
//     * @param costCenterCode
//     */
//    public void funRemotePrint_UsingTextFileForVoidKOT(String KOT_TableNo, String KotNo, String text, String costCenterCode, HashMap<String, String> mapVoidedItem)
//    {
//        String sqlVOIDKOT_waiterName = "";
//
//        DecimalFormat decimalFormat = new DecimalFormat("#.###");
//
//        try
//        {
//
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_KOT = new File(filePath + "/Temp/Temp_KOT.txt");
//            FileWriter fstream = new FileWriter(Text_KOT);
//            BufferedWriter KotOut = new BufferedWriter(fstream);
//
//            KotOut.newLine();
//            KotOut.newLine();
//            funPrintBlankSpace("VOID KOT", KotOut);
//            KotOut.write("VOID KOT");
//            KotOut.newLine();
//
//            funPrintBlankSpace("KOT", KotOut);
//            KotOut.write("KOT");
//
//            //item will pickup from tblvoidkot
//            String sqlVOIDKOT_Items = "select a.dblItemQuantity,a.strItemName"
//                    + ",c.strCostCenterCode,c.strPrinterPort,a.strItemCode,c.strSecondaryPrinterPort "
//                    + "from tblvoidkot a,tblmenuitempricingdtl b,tblcostcentermaster c "
//                    + "where left(a.strItemCode,7)=b.strItemCode and b.strCostCenterCode=c.strCostCenterCode "
//                    + "and a.strKOTNo='" + KotNo + "' ";
//            if (!text.equals("Reprint"))
//            {
//                sqlVOIDKOT_Items += " and a.strPrintKOT='N' ";
//            }
//            sqlVOIDKOT_Items += " and b.strCostCenterCode='" + costCenterCode + "' group by a.strItemName";
//
//            ResultSet rs_VOIDKOT_Items = clsGlobalVarClass.dbMysql.executeResultSet(sqlVOIDKOT_Items);
//            String primaryPrinterName = "", secondaryPrinterName = "";
//
//            KotOut.newLine();
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write("  KOT NO        :");
//            KotOut.write("  " + KotNo + "  ");
//            KotOut.newLine();
//            KotOut.write("  TABLE NAME    :");
//            KotOut.write("  " + KOT_TableNo + "     ");
//
//            KotOut.newLine();
//            String waiterNo = "select strWaiterNo from tblvoidkot where strKOTNo='" + KotNo + "'";
//            ResultSet rsWaiterNo = clsGlobalVarClass.dbMysql.executeResultSet(waiterNo);
//            if (rsWaiterNo.next())
//            {
//                if (!"null".equalsIgnoreCase(rsWaiterNo.getString(1)) && rsWaiterNo.getString(1).trim().length() > 0)
//                {
//                    sqlVOIDKOT_waiterName = "select strWShortName from tblwaitermaster where strWaiterNo='" + rsWaiterNo.getString(1) + "'";
//                    ResultSet rs_waiterName = clsGlobalVarClass.dbMysql.executeResultSet(sqlVOIDKOT_waiterName);
//                    if (rs_waiterName.next())
//                    {
//                        KotOut.write("  WAITER NAME   :" + "  " + rs_waiterName.getString(1));
//                        KotOut.newLine();
//                    }
//                    rs_waiterName.close();
//                }
//            }
//            rsWaiterNo.close();
//
//            //Added by Jaichandra
//            sqlVOIDKOT_waiterName = "select date(dteDateCreated),time(dteDateCreated) from tblvoidkot where strKOTNo='" + KotNo + "'";
//            ResultSet rs_Date = clsGlobalVarClass.dbMysql.executeResultSet(sqlVOIDKOT_waiterName);
//            if (rs_Date.next())
//            {
//                KotOut.write("  DATE & TIME   :" + " " + rs_Date.getString(1) + " " + rs_Date.getString(2));
//            }
//            rs_Date.close();
//            KotOut.newLine();
//
//            String sqlVOIDKOT_reasonName = "select b.strReasonName "
//                    + "from tblvoidkot a,tblreasonmaster b "
//                    + "where a.strReasonCode=b.strReasonCode "
//                    + "and a.strKOTNo='" + KotNo + "' "
//                    + "group by a.strKOTNo";
//            rs_Date = clsGlobalVarClass.dbMysql.executeResultSet(sqlVOIDKOT_reasonName);
//            if (rs_Date.next())
//            {
//                KotOut.write("  Reason        :" + " " + rs_Date.getString(1));
//            }
//            rs_Date.close();
//            KotOut.newLine();
//
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write("  QTY         ITEM NAME  ");
//            KotOut.newLine();
//            KotOut.write(Line);
//
//            int qtyWidth = 6;
//            while (rs_VOIDKOT_Items.next())
//            {
//                KotOut.newLine();
//                String itemqty = decimalFormat.format(rs_VOIDKOT_Items.getDouble(1));
//
//                primaryPrinterName = rs_VOIDKOT_Items.getString(4);
//                secondaryPrinterName = rs_VOIDKOT_Items.getString(6);
//
//                KotOut.write("   " + String.format("%-" + qtyWidth + "s", itemqty) + "       " + rs_VOIDKOT_Items.getString(2).toUpperCase());
//
//            }
//            rs_VOIDKOT_Items.close();
//            KotOut.newLine();
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.newLine();
//            KotOut.newLine();
//            KotOut.newLine();
//            KotOut.newLine();
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                KotOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                KotOut.write("m");//windows
//            }
//            // KotOut.write("m");
//            KotOut.close();
//            fstream.close();
//
//            if (clsGlobalVarClass.gShowBill)
//            {
//                funShowTextFile(Text_KOT, "", "Printer Info!2");
//            }
//            funPrintToPrinter(primaryPrinterName, secondaryPrinterName, "kot", "N", false);
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    /**
//     *
//     * @param KOT_TableNo
//     * @param KotNo
//     * @param text
//     * @param costCenterCode
//     */
//    public void funRemotePrintUsingJasperForVoidKOT(String KOT_TableNo, String KotNo, String text, String costCenterCode, HashMap<String, String> mapVoidedItem)
//    {
//        HashMap hm = new HashMap();
//        List<List<clsBillDtl>> listData = new ArrayList<>();
//
//        String imagePath = System.getProperty("user.dir");
//        imagePath = imagePath + "\\ReportImage";
//
//        try
//        {
//
//            hm.put("imagePath", imagePath);
//            hm.put("KOTorNC", "Void KOT");
//            hm.put("KOTTitle", "KOT");
//
//            //item will pickup from tblvoidkot
//            String sqlVOIDKOT_Items = "select a.dblItemQuantity,a.strItemName"
//                    + ",c.strCostCenterCode,c.strPrinterPort,a.strItemCode,c.strSecondaryPrinterPort "
//                    + "from tblvoidkot a,tblmenuitempricingdtl b,tblcostcentermaster c "
//                    + "where left(a.strItemCode,7)=b.strItemCode and b.strCostCenterCode=c.strCostCenterCode "
//                    + "and a.strKOTNo='" + KotNo + "' ";
//            if (!text.equals("Reprint"))
//            {
//                sqlVOIDKOT_Items += " and a.strPrintKOT='N' ";
//            }
//            sqlVOIDKOT_Items += " and b.strCostCenterCode='" + costCenterCode + "' group by a.strItemName";
//
//            ResultSet rs_VOIDKOT_Items = clsGlobalVarClass.dbMysql.executeResultSet(sqlVOIDKOT_Items);
//            String primaryPrinterName = "", secondaryPrinterName = "";
//
//            hm.put("KOT", KotNo);
//            hm.put("tableNo", KOT_TableNo);
//
//            String waiterNo = "select strWaiterNo from tblvoidkot where strKOTNo='" + KotNo + "'";
//            ResultSet rsWaiterNo = clsGlobalVarClass.dbMysql.executeResultSet(waiterNo);
//            if (rsWaiterNo.next())
//            {
//                if (!"null".equalsIgnoreCase(rsWaiterNo.getString(1)) && rsWaiterNo.getString(1).trim().length() > 0)
//                {
//                    String sqlVOIDKOT_waiterName = "select strWShortName from tblwaitermaster where strWaiterNo='" + rsWaiterNo.getString(1) + "'";
//                    ResultSet rs_waiterName = clsGlobalVarClass.dbMysql.executeResultSet(sqlVOIDKOT_waiterName);
//                    if (rs_waiterName.next())
//                    {
//                        hm.put("waiterName", rs_waiterName.getString(1));
//                    }
//                    rs_waiterName.close();
//                }
//            }
//            rsWaiterNo.close();
//
//            //Added by Jaichandra
//            String sqlVOIDKOT_waiterName = "select date(dteDateCreated),time(dteDateCreated) from tblvoidkot where strKOTNo='" + KotNo + "'";
//            ResultSet rs_Date = clsGlobalVarClass.dbMysql.executeResultSet(sqlVOIDKOT_waiterName);
//            if (rs_Date.next())
//            {
//                hm.put("DATE_TIME", rs_Date.getString(1) + " " + rs_Date.getString(2));
//            }
//            rs_Date.close();
//
//            String sqlVOIDKOT_reasonName = "select b.strReasonName "
//                    + "from tblvoidkot a,tblreasonmaster b "
//                    + "where a.strReasonCode=b.strReasonCode "
//                    + "and a.strKOTNo='" + KotNo + "' "
//                    + "group by a.strKOTNo";
//            rs_Date = clsGlobalVarClass.dbMysql.executeResultSet(sqlVOIDKOT_reasonName);
//            if (rs_Date.next())
//            {
//                hm.put("reason", rs_Date.getString(1));
//            }
//            rs_Date.close();
//
//            List<clsBillDtl> listOfKOTDetail = new ArrayList<>();
//            while (rs_VOIDKOT_Items.next())
//            {
//
//                primaryPrinterName = rs_VOIDKOT_Items.getString(4);
//                secondaryPrinterName = rs_VOIDKOT_Items.getString(6);
//
//                clsBillDtl objBillDtl = new clsBillDtl();
//                objBillDtl.setDblQuantity(Double.parseDouble(rs_VOIDKOT_Items.getString(1)));
//                objBillDtl.setStrItemName(rs_VOIDKOT_Items.getString(2).toUpperCase());
//                listOfKOTDetail.add(objBillDtl);
//            }
//            rs_VOIDKOT_Items.close();
//
//            hm.put("listOfItemDtl", listOfKOTDetail);
//            listData.add(listOfKOTDetail);
//            String reportName = "com/POSGlobal/reports/rptGenrateVoidKOTJasperReport.jasper";
//            JRBeanCollectionDataSource beanColDataSource = new JRBeanCollectionDataSource(listData);
//            InputStream is = this.getClass().getClassLoader().getResourceAsStream(reportName);
//
//            JasperPrint print = JasperFillManager.fillReport(is, hm, beanColDataSource);
//            JRViewer viewer = new JRViewer(print);
//            JFrame jf = new JFrame();
//            jf.getContentPane().add(viewer);
//            jf.validate();
//            if (clsGlobalVarClass.gShowBill)
//            {
//                jf.setVisible(true);
//                jf.setSize(new Dimension(850, 750));
//                jf.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
//            }
//            JRPrintServiceExporter exporter = new JRPrintServiceExporter();
//
//            //--- Set print properties
//            PrintRequestAttributeSet printRequestAttributeSet = new HashPrintRequestAttributeSet();
//            printRequestAttributeSet.add(MediaSizeName.ISO_A4);
//            if (clsGlobalVarClass.gMultipleKOTPrint)
//            {
//                printRequestAttributeSet.add(new Copies(2));
//            }
//
//            //----------------------------------------------------     
//            //printRequestAttributeSet.add(new Destination(new java.net.URI("file:d:/output/report.ps")));
//            //----------------------------------------------------     
//            PrintServiceAttributeSet printServiceAttributeSet = new HashPrintServiceAttributeSet();
//
//            String kotPrinterName = primaryPrinterName;
//            kotPrinterName = kotPrinterName.replaceAll("#", "\\\\");
//            printServiceAttributeSet.add(new PrinterName(kotPrinterName, null));
//
//            //--- Set print parameters      
//            exporter.setParameter(JRExporterParameter.JASPER_PRINT, print);
//            exporter.setParameter(JRPrintServiceExporterParameter.PRINT_REQUEST_ATTRIBUTE_SET, printRequestAttributeSet);
//            exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE_ATTRIBUTE_SET, printServiceAttributeSet);
//            exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PAGE_DIALOG, Boolean.FALSE);
//            exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PRINT_DIALOG, Boolean.FALSE);
//
//            //--- Print the document
//            try
//            {
//                exporter.exportReport();
//            }
//            catch (JRException e)
//            {
//                e.printStackTrace();
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void fun_AdvancedOrder_Text_Generator_ForFormat2(String advBookNo, String receiptNo, String posCode, String Reprint, String custName, String orderDate, String waiterName)
//    {
//        try
//        {
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter advOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(Reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", advOut);
//                advOut.write("[DUPLICATE]");
//                advOut.newLine();
//            }
//            funPrintBlankSpace("ADVANCE RECEIPT", advOut);
//            advOut.write("ADVANCE RECEIPT");
//            advOut.newLine();
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", advOut);
//                advOut.write("SSPL");
//                advOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, advOut);
//                advOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                advOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, advOut);
//            advOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            advOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, advOut);
//                advOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                advOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, advOut);
//                advOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                advOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, advOut);
//                advOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                advOut.newLine();
//            }
//
//            advOut.write("  TEL NO.   :" + " ");
//            advOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            advOut.newLine();
//            advOut.write("  EMAIL ID  :" + " ");
//            advOut.write(clsGlobalVarClass.gClientEmail);
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//            //
//
//            advOut.write("  ADV ORD NO  :" + advBookNo);
//            advOut.newLine();
//            advOut.write("  ORDER FOR   :" + orderDate);
//            advOut.newLine();
//            if (waiterName.trim().length() > 0)
//            {
//                advOut.write("  ORDER BY  :" + waiterName.toUpperCase());
//                advOut.newLine();
//            }
//            advOut.write("  CUST NAME   :" + custName.toUpperCase());
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String sql_advOrder_SuTtotal = "select a.dblSubTotal,a.dblTaxAmt,b.dblAdvDeposite"
//                    + ",a.strMessage,a.strShape,a.strNote,a.dblHomeDelCharges "
//                    + "from tbladvbookbillhd a ,tbladvancereceipthd b "
//                    + "where a.strAdvBookingNo=b.strAdvBookingNo and a.strAdvBookingNo=?";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//            pst.setString(1, advBookNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            rs_advOrder_Tot.next();
//            funPrintBlankSpace("ORDER DETAIL", advOut);
//            advOut.write("ORDER DETAIL");
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//            String msg = rs_advOrder_Tot.getString(4).toUpperCase();
//            String shape = rs_advOrder_Tot.getString(5).toUpperCase();
//            String note = rs_advOrder_Tot.getString(6).toUpperCase();
//
//            int strlenMsg = msg.length();
//            if (strlenMsg > 0)
//            {
//                String msg1 = "";
//                if (strlenMsg < 27)
//                {
//                    msg1 = msg.substring(0, strlenMsg);
//                    advOut.write("  MESSAGE     :" + msg1);
//                    advOut.newLine();
//                }
//                else
//                {
//                    msg1 = msg.substring(0, 27);
//                    advOut.write("  MESSAGE     :" + msg1);;
//                    advOut.newLine();
//                }
//                for (int i = 27; i <= strlenMsg; i++)
//                {
//                    int endmsg = 0;
//                    endmsg = i + 27;
//                    if (strlenMsg > endmsg)
//                    {
//                        msg1 = msg.substring(i, endmsg);
//                        i = endmsg;
//                        advOut.write("               " + msg1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(i, strlenMsg);
//                        advOut.write("               " + msg1);
//                        advOut.newLine();
//                        i = strlenMsg + 1;
//                    }
//                }
//            }
//            //////////////////////////////////////////////////
//
//            int strlenShape = shape.length();
//            if (strlenShape > 0)
//            {
//
//                String shape1 = "";
//                if (strlenShape < 27)
//                {
//                    shape1 = shape.substring(0, strlenShape);
//                    advOut.write("  SHAPE       :" + shape1);
//                    advOut.newLine();
//                }
//                else
//                {
//                    shape1 = shape.substring(0, 27);
//                    advOut.write("  SHAPE       :" + shape1);;
//                    advOut.newLine();
//                }
//                for (int j = 27; j <= strlenShape; j++)
//                {
//                    int endShape = 0;
//                    endShape = j + 27;
//                    if (strlenShape > endShape)
//                    {
//                        shape1 = shape.substring(j, endShape);
//                        j = endShape;
//                        advOut.write("               " + shape1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(j, strlenShape);
//                        advOut.write("               " + shape1);
//                        advOut.newLine();
//                        j = strlenShape + 1;
//                    }
//                }
//            }//////////////////////////////////////////////
//
//            int strlenNote = note.length();
//            if (strlenNote > 0)
//            {
//
//                String note1 = "";
//                if (strlenNote < 27)
//                {
//                    note1 = note.substring(0, strlenNote);
//                    advOut.write("  NOTE        :" + note1);
//                    advOut.newLine();
//                }
//                else
//                {
//                    note1 = note.substring(0, 27);
//                    advOut.write("  NOTE        :" + note1);;
//                    advOut.newLine();
//                }
//                for (int i = 27; i <= strlenNote; i++)
//                {
//                    int endNote = 0;
//                    endNote = i + 27;
//                    if (strlenNote > endNote)
//                    {
//                        note1 = note.substring(i, endNote);
//                        i = endNote;
//                        advOut.write("               " + note1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(i, strlenNote);
//                        advOut.write("               " + note1);
//                        advOut.newLine();
//                        i = strlenNote + 1;
//                    }
//                }
//            }
//
//            //
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//            advOut.write("     QTY      ITEM NAME            AMT");
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String SQL_AdvOrderDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount),strItemCode from tbladvbookbilldtl where strAdvBookingNo=? group by strItemCode ;";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_AdvOrderDtl);
//            pst.setString(1, advBookNo);
//            ResultSet rs_AdvOrderDtl = pst.executeQuery();
//            while (rs_AdvOrderDtl.next())
//            {
//                funWriteToText(advOut, rs_AdvOrderDtl.getString(1), rs_AdvOrderDtl.getString(2).toUpperCase(), rs_AdvOrderDtl.getString(3), "Format1");
//                advOut.newLine();
//                String SQL_ModifierDtl_count = "select Count(*) from tbladvordermodifierdtl where strAdvOrderNo=? and strItemCode=? and  dblAmount !=0.00 ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl_count);
//                pst.setString(1, advBookNo);
//                pst.setString(2, rs_AdvOrderDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    String SQL_ModifierDtl = "select strModifierName,dblQuantity,dblAmount from tbladvordermodifierdtl where strAdvOrderNo=? and strItemCode=? and dblAmount !=0.00 ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl);
//                    pst.setString(1, advBookNo);
//                    pst.setString(2, rs_AdvOrderDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(advOut, rs_modifierRecord.getString(2), rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format1");
//                        advOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//                }
//            }
//            rs_AdvOrderDtl.close();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String subTotal = rs_advOrder_Tot.getString(1);
//            String tax = rs_advOrder_Tot.getString(2);
//            String advAmt = rs_advOrder_Tot.getString(3);
//            String delCharges = rs_advOrder_Tot.getString(7);
//            double bal = (Double.parseDouble(subTotal) + Double.parseDouble(tax) + Double.parseDouble(delCharges)) - Double.parseDouble(advAmt);
//
//            funWriteTotal("SUB TOTAL", subTotal, advOut, "Format1");
//            advOut.newLine();
//            funWriteTotal("TAX", tax, advOut, "Format1");
//            double subTotalWithDelCharges = Double.parseDouble(subTotal) + Double.parseDouble(delCharges);
//            if (subTotalWithDelCharges < Double.parseDouble(advAmt))
//            {
//                advAmt = subTotal;
//            }
//            advOut.newLine();
//
//            if (Double.parseDouble(delCharges) > 0)
//            {
//                funWriteTotal("DEL CHARGES", delCharges, advOut, "Format1");
//                advOut.newLine();
//            }
//            funWriteTotal("ADVANCE AMOUNT", advAmt, advOut, "Format1");
//            advOut.newLine();
//
//            advOut.write(Line);
//            advOut.newLine();
//            //Settlement bkp part
//            String sql_settle = "select a.dblAdvDeposite,b.strSettlementCode,date(b.dteInstallment),b.dblAdvDepositesettleAmt,"
//                    + "(d.dblSubTotal+d.dblTaxAmt) from tbladvancereceipthd a,tbladvancereceiptdtl b,tblsettelmenthd c,"
//                    + "tbladvbookbillhd d where a.strReceiptNo=b.strReceiptNo and b.strSettlementCode=c.strSettelmentCode "
//                    + "and a.strAdvBookingNo=? and d.strAdvBookingNo=a.strAdvBookingNo ";
//            //+ "group by b.strSettlementCode";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_settle);
//            pst.setString(1, advBookNo);
//
//            ResultSet rs_advOrder_settel = pst.executeQuery();
//            while (rs_advOrder_settel.next())
//            {
//                double depositeAmt = Double.parseDouble(advAmt);
//                if (Double.parseDouble(rs_advOrder_settel.getString(4)) > Double.parseDouble(advAmt))
//                {
//                    funWriteTotal(rs_advOrder_settel.getString(3), String.valueOf(depositeAmt), advOut, "Format1");
//                    advOut.newLine();
//                }
//                else
//                {
//                    funWriteTotal(rs_advOrder_settel.getString(3), rs_advOrder_settel.getString(4), advOut, "Format1");
//                    advOut.newLine();
//                }
//            }
//            rs_advOrder_settel.close();
//            advOut.write(Line);
//            advOut.newLine();
//            if (bal <= 0)
//            {
//                bal = 0.00;
//            }
//
//            funWriteTotal("BALANCE", String.valueOf(bal).concat("0"), advOut, "Format1");
//            advOut.newLine();
//
//            //footer part
//            advOut.write(Line);
//            advOut.newLine();
//            advOut.write("    " + clsGlobalVarClass.gBillFooter);
//
//            advOut.newLine();
//
//            advOut.newLine();
//            advOut.newLine();
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                advOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//
//                    advOut.write("V");
//                }
//                else
//                {
//
//                    advOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//
//            advOut.close();
//            fstream_bill.close();
//            pst.close();
//            if (clsGlobalVarClass.gShowBill)
//            {
//                funShowTextFile(Text_Bill, "", "");
//            }
//            String printerName = clsGlobalVarClass.gAdvReceiptPrinterPort;
//            int advCount = Integer.parseInt(clsGlobalVarClass.gAdvRecPrintCount);
//            for (int i = 0; i < advCount; i++)
//            {
//                funPrintToPrinter(printerName, "", "Adv Receipt", "N", isReprint);
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void fun_AdvancedOrder_Text_GeneratorForFormat3(String advBookNo, String receiptNo, String posCode, String Reprint, String custName, String orderDate, String waiterName)
//    {
//        try
//        {
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter advOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(Reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", advOut);
//                advOut.write("[DUPLICATE]");
//                advOut.newLine();
//            }
//            funPrintBlankSpace("ADVANCE RECEIPT", advOut);
//            advOut.write("ADVANCE RECEIPT");
//            advOut.newLine();
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", advOut);
//                advOut.write("SSPL");
//                advOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, advOut);
//                advOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                advOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, advOut);
//            advOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            advOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, advOut);
//                advOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                advOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, advOut);
//                advOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                advOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, advOut);
//                advOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                advOut.newLine();
//            }
//
//            advOut.write("  TEL NO.   :" + " ");
//            advOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            advOut.newLine();
//            advOut.write("  EMAIL ID  :" + " ");
//            advOut.write(clsGlobalVarClass.gClientEmail);
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//            //
//
//            advOut.write("  ADV ORD NO  :" + advBookNo);
//            advOut.newLine();
//            advOut.write("  ORDER FOR   :" + orderDate);
//            advOut.newLine();
//            if (waiterName.trim().length() > 0)
//            {
//                advOut.write("  ORDER BY  :" + waiterName.toUpperCase());
//                advOut.newLine();
//            }
//            advOut.write("  CUST NAME   :" + custName.toUpperCase());
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String sql_advOrder_SuTtotal = "select a.dblSubTotal,a.dblTaxAmt,b.dblAdvDeposite"
//                    + ",a.strMessage,a.strShape,a.strNote,a.dblHomeDelCharges "
//                    + "from tbladvbookbillhd a ,tbladvancereceipthd b "
//                    + "where a.strAdvBookingNo=b.strAdvBookingNo and a.strAdvBookingNo=?";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//            pst.setString(1, advBookNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            rs_advOrder_Tot.next();
//            funPrintBlankSpace("ORDER DETAIL", advOut);
//            advOut.write("ORDER DETAIL");
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//            String msg = rs_advOrder_Tot.getString(4).toUpperCase();
//            String shape = rs_advOrder_Tot.getString(5).toUpperCase();
//            String note = rs_advOrder_Tot.getString(6).toUpperCase();
//
//            int strlenMsg = msg.length();
//            if (strlenMsg > 0)
//            {
//                String msg1 = "";
//                if (strlenMsg < 27)
//                {
//                    msg1 = msg.substring(0, strlenMsg);
//                    advOut.write("  MESSAGE     :" + msg1);
//                    advOut.newLine();
//                }
//                else
//                {
//                    msg1 = msg.substring(0, 27);
//                    advOut.write("  MESSAGE     :" + msg1);;
//                    advOut.newLine();
//                }
//                for (int i = 27; i <= strlenMsg; i++)
//                {
//                    int endmsg = 0;
//                    endmsg = i + 27;
//                    if (strlenMsg > endmsg)
//                    {
//                        msg1 = msg.substring(i, endmsg);
//                        i = endmsg;
//                        advOut.write("               " + msg1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(i, strlenMsg);
//                        advOut.write("               " + msg1);
//                        advOut.newLine();
//                        i = strlenMsg + 1;
//                    }
//                }
//            }
//            //////////////////////////////////////////////////
//
//            int strlenShape = shape.length();
//            if (strlenShape > 0)
//            {
//
//                String shape1 = "";
//                if (strlenShape < 27)
//                {
//                    shape1 = shape.substring(0, strlenShape);
//                    advOut.write("  SHAPE       :" + shape1);
//                    advOut.newLine();
//                }
//                else
//                {
//                    shape1 = shape.substring(0, 27);
//                    advOut.write("  SHAPE       :" + shape1);;
//                    advOut.newLine();
//                }
//                for (int j = 27; j <= strlenShape; j++)
//                {
//                    int endShape = 0;
//                    endShape = j + 27;
//                    if (strlenShape > endShape)
//                    {
//                        shape1 = shape.substring(j, endShape);
//                        j = endShape;
//                        advOut.write("               " + shape1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(j, strlenShape);
//                        advOut.write("               " + shape1);
//                        advOut.newLine();
//                        j = strlenShape + 1;
//                    }
//                }
//            }//////////////////////////////////////////////
//
//            int strlenNote = note.length();
//            if (strlenNote > 0)
//            {
//
//                String note1 = "";
//                if (strlenNote < 27)
//                {
//                    note1 = note.substring(0, strlenNote);
//                    advOut.write("  NOTE        :" + note1);
//                    advOut.newLine();
//                }
//                else
//                {
//                    note1 = note.substring(0, 27);
//                    advOut.write("  NOTE        :" + note1);;
//                    advOut.newLine();
//                }
//                for (int i = 27; i <= strlenNote; i++)
//                {
//                    int endNote = 0;
//                    endNote = i + 27;
//                    if (strlenNote > endNote)
//                    {
//                        note1 = note.substring(i, endNote);
//                        i = endNote;
//                        advOut.write("               " + note1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(i, strlenNote);
//                        advOut.write("               " + note1);
//                        advOut.newLine();
//                        i = strlenNote + 1;
//                    }
//                }
//            }
//
//            //
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//            advOut.write("     QTY      ITEM NAME            AMT");
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String SQL_AdvOrderDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount),strItemCode from tbladvbookbilldtl where strAdvBookingNo=? group by strItemCode ;";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_AdvOrderDtl);
//            pst.setString(1, advBookNo);
//            ResultSet rs_AdvOrderDtl = pst.executeQuery();
//            while (rs_AdvOrderDtl.next())
//            {
//                funWriteToText(advOut, rs_AdvOrderDtl.getString(1), rs_AdvOrderDtl.getString(2).toUpperCase(), rs_AdvOrderDtl.getString(3), "Format1");
//                advOut.newLine();
//                String SQL_ModifierDtl_count = "select Count(*) from tbladvordermodifierdtl where strAdvOrderNo=? and strItemCode=? and  dblAmount !=0.00 ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl_count);
//                pst.setString(1, advBookNo);
//                pst.setString(2, rs_AdvOrderDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    String SQL_ModifierDtl = "select strModifierName,dblQuantity,dblAmount from tbladvordermodifierdtl where strAdvOrderNo=? and strItemCode=? and dblAmount !=0.00 ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl);
//                    pst.setString(1, advBookNo);
//                    pst.setString(2, rs_AdvOrderDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(advOut, rs_modifierRecord.getString(2), rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format1");
//                        advOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//
//                }
//            }
//            rs_AdvOrderDtl.close();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String subTotal = rs_advOrder_Tot.getString(1);
//            String tax = rs_advOrder_Tot.getString(2);
//            String advAmt = rs_advOrder_Tot.getString(3);
//            String delCharges = rs_advOrder_Tot.getString(7);
//            double bal = (Double.parseDouble(subTotal) + Double.parseDouble(tax) + Double.parseDouble(delCharges)) - Double.parseDouble(advAmt);
//
//            funWriteTotal("SUB TOTAL", subTotal, advOut, "Format1");
//            advOut.newLine();
//            funWriteTotal("TAX", tax, advOut, "Format1");
//            double subTotalWithDelCharges = Double.parseDouble(subTotal) + Double.parseDouble(delCharges);
//            if (subTotalWithDelCharges < Double.parseDouble(advAmt))
//            {
//                advAmt = subTotal;
//            }
//            advOut.newLine();
//
//            if (Double.parseDouble(delCharges) > 0)
//            {
//                funWriteTotal("DEL CHARGES", delCharges, advOut, "Format1");
//                advOut.newLine();
//            }
//            funWriteTotal("ADVANCE AMOUNT", advAmt, advOut, "Format1");
//            advOut.newLine();
//
//            advOut.write(Line);
//            advOut.newLine();
//            //Settlement bkp part
//            String sql_settle = "select a.dblAdvDeposite,b.strSettlementCode,date(b.dteInstallment),b.dblAdvDepositesettleAmt,"
//                    + "(d.dblSubTotal+d.dblTaxAmt) from tbladvancereceipthd a,tbladvancereceiptdtl b,tblsettelmenthd c,"
//                    + "tbladvbookbillhd d where a.strReceiptNo=b.strReceiptNo and b.strSettlementCode=c.strSettelmentCode "
//                    + "and a.strAdvBookingNo=? and d.strAdvBookingNo=a.strAdvBookingNo ";
//            //+ "group by b.strSettlementCode";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_settle);
//            pst.setString(1, advBookNo);
//
//            ResultSet rs_advOrder_settel = pst.executeQuery();
//            while (rs_advOrder_settel.next())
//            {
//                double depositeAmt = Double.parseDouble(advAmt);
//                if (Double.parseDouble(rs_advOrder_settel.getString(4)) > Double.parseDouble(advAmt))
//                {
//                    funWriteTotal(rs_advOrder_settel.getString(3), String.valueOf(depositeAmt), advOut, "Format1");
//                    advOut.newLine();
//                }
//                else
//                {
//                    funWriteTotal(rs_advOrder_settel.getString(3), rs_advOrder_settel.getString(4), advOut, "Format1");
//                    advOut.newLine();
//                }
//            }
//            rs_advOrder_settel.close();
//            advOut.write(Line);
//            advOut.newLine();
//            if (bal <= 0)
//            {
//                bal = 0.00;
//            }
//
//            funWriteTotal("BALANCE", String.valueOf(bal).concat("0"), advOut, "Format1");
//            advOut.newLine();
//
//            //footer part
//            advOut.write(Line);
//            advOut.newLine();
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", advOut);
//                advOut.write("(INCLUSIVE OF ALL TAXES)");
//                advOut.newLine();
//            }
//            advOut.write("    " + clsGlobalVarClass.gBillFooter);
//
//            advOut.newLine();
//
//            advOut.newLine();
//            advOut.newLine();
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                advOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//
//                    advOut.write("V");
//                }
//                else
//                {
//
//                    advOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//
//            advOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (clsGlobalVarClass.gShowBill)
//            {
//                funShowTextFile(Text_Bill, "", "");
//            }
//            String printerName = clsGlobalVarClass.gAdvReceiptPrinterPort;
//            int advCount = Integer.parseInt(clsGlobalVarClass.gAdvRecPrintCount);
//            for (int i = 0; i < advCount; i++)
//            {
//                funPrintToPrinter(printerName, "", "Adv Receipt", "N", isReprint);
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void fun_AdvancedOrder_Text_GeneratorForFormat4(String advBookNo, String receiptNo, String posCode, String Reprint, String custName, String orderDate, String waiterName)
//    {
//        try
//        {
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter advOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(Reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", advOut);
//                advOut.write("[DUPLICATE]");
//                advOut.newLine();
//            }
//            funPrintBlankSpace("ADVANCE RECEIPT", advOut);
//            advOut.write("ADVANCE RECEIPT");
//            advOut.newLine();
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", advOut);
//                advOut.write("SSPL");
//                advOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, advOut);
//                advOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                advOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, advOut);
//            advOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            advOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, advOut);
//                advOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                advOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, advOut);
//                advOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                advOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, advOut);
//                advOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                advOut.newLine();
//            }
//
//            advOut.write("  TEL NO.   :" + " ");
//            advOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            advOut.newLine();
//            advOut.write("  EMAIL ID  :" + " ");
//            advOut.write(clsGlobalVarClass.gClientEmail);
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//            String sql_advOrder_SuTtotal = "select a.dblSubTotal,a.dblTaxAmt,b.dblAdvDeposite"
//                    + ",a.strMessage,a.strShape,a.strNote,a.dblHomeDelCharges,a.strManualAdvOrderNo "
//                    + "from tbladvbookbillhd a ,tbladvancereceipthd b "
//                    + "where a.strAdvBookingNo=b.strAdvBookingNo and a.strAdvBookingNo=?";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//            pst.setString(1, advBookNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            rs_advOrder_Tot.next();
//
//            advOut.write("  ADV ORD NO  :" + advBookNo);
//            advOut.newLine();
//
//            if (rs_advOrder_Tot.getString(8).trim().length() > 0)
//            {
//                advOut.write("  MANUAL NO  :" + rs_advOrder_Tot.getString(8));
//                advOut.newLine();
//            }
//            advOut.write("  ORDER FOR   :" + orderDate);
//            advOut.newLine();
//            if (waiterName.trim().length() > 0)
//            {
//                advOut.write("  ORDER BY  :" + waiterName.toUpperCase());
//                advOut.newLine();
//            }
//            advOut.write("  CUST NAME   :" + custName.toUpperCase());
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//
//            funPrintBlankSpace("ORDER DETAIL", advOut);
//            advOut.write("ORDER DETAIL");
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//            String msg = rs_advOrder_Tot.getString(4).toUpperCase();
//            String shape = rs_advOrder_Tot.getString(5).toUpperCase();
//            String note = rs_advOrder_Tot.getString(6).toUpperCase();
//
//            int strlenMsg = msg.length();
//            if (strlenMsg > 0)
//            {
//                String msg1 = "";
//                if (strlenMsg < 27)
//                {
//                    msg1 = msg.substring(0, strlenMsg);
//                    advOut.write("  MESSAGE     :" + msg1);
//                    advOut.newLine();
//                }
//                else
//                {
//                    msg1 = msg.substring(0, 27);
//                    advOut.write("  MESSAGE     :" + msg1);;
//                    advOut.newLine();
//                }
//                for (int i = 27; i <= strlenMsg; i++)
//                {
//                    int endmsg = 0;
//                    endmsg = i + 27;
//                    if (strlenMsg > endmsg)
//                    {
//                        msg1 = msg.substring(i, endmsg);
//                        i = endmsg;
//                        advOut.write("               " + msg1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(i, strlenMsg);
//                        advOut.write("               " + msg1);
//                        advOut.newLine();
//                        i = strlenMsg + 1;
//                    }
//                }
//            }
//            //////////////////////////////////////////////////
//
//            int strlenShape = shape.length();
//            if (strlenShape > 0)
//            {
//
//                String shape1 = "";
//                if (strlenShape < 27)
//                {
//                    shape1 = shape.substring(0, strlenShape);
//                    advOut.write("  SHAPE       :" + shape1);
//                    advOut.newLine();
//                }
//                else
//                {
//                    shape1 = shape.substring(0, 27);
//                    advOut.write("  SHAPE       :" + shape1);;
//                    advOut.newLine();
//                }
//                for (int j = 27; j <= strlenShape; j++)
//                {
//                    int endShape = 0;
//                    endShape = j + 27;
//                    if (strlenShape > endShape)
//                    {
//                        shape1 = shape.substring(j, endShape);
//                        j = endShape;
//                        advOut.write("               " + shape1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(j, strlenShape);
//                        advOut.write("               " + shape1);
//                        advOut.newLine();
//                        j = strlenShape + 1;
//                    }
//                }
//            }//////////////////////////////////////////////
//
//            int strlenNote = note.length();
//            if (strlenNote > 0)
//            {
//
//                String note1 = "";
//                if (strlenNote < 27)
//                {
//                    note1 = note.substring(0, strlenNote);
//                    advOut.write("  NOTE        :" + note1);
//                    advOut.newLine();
//                }
//                else
//                {
//                    note1 = note.substring(0, 27);
//                    advOut.write("  NOTE        :" + note1);;
//                    advOut.newLine();
//                }
//                for (int i = 27; i <= strlenNote; i++)
//                {
//                    int endNote = 0;
//                    endNote = i + 27;
//                    if (strlenNote > endNote)
//                    {
//                        note1 = note.substring(i, endNote);
//                        i = endNote;
//                        advOut.write("               " + note1);
//                        advOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(i, strlenNote);
//                        advOut.write("               " + note1);
//                        advOut.newLine();
//                        i = strlenNote + 1;
//                    }
//                }
//            }
//
//            //
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//
//            advOut.write("       QTY           RATE            AMT");
//            advOut.newLine();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String SQL_AdvOrderDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount),strItemCode,dblRate from tbladvbookbilldtl where strAdvBookingNo=? group by strItemCode ;";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_AdvOrderDtl);
//            pst.setString(1, advBookNo);
//            ResultSet rs_AdvOrderDtl = pst.executeQuery();
//            while (rs_AdvOrderDtl.next())
//            {
//
//                advOut.newLine();
//                advOut.write("   " + rs_AdvOrderDtl.getString(2));
//                //funPrintItemDetails(rs_AdvOrderDtl.getString(1), rs_AdvOrderDtl.getString(6), rs_AdvOrderDtl.getString(3), advOut, "Format4");
//                String SQL_ModifierDtl_count = "select Count(*) from tbladvordermodifierdtl where strAdvOrderNo=? and strItemCode=? and  dblAmount !=0.00 ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl_count);
//                pst.setString(1, advBookNo);
//                pst.setString(2, rs_AdvOrderDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    String SQL_ModifierDtl = "select strModifierName,dblQuantity,dblAmount from tbladvordermodifierdtl where strAdvOrderNo=? and strItemCode=? and dblAmount !=0.00 ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl);
//                    pst.setString(1, advBookNo);
//                    pst.setString(2, rs_AdvOrderDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(advOut, rs_modifierRecord.getString(2), rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format1");
//                        advOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//
//                }
//            }
//            rs_AdvOrderDtl.close();
//            advOut.write(Line);
//            advOut.newLine();
//
//            String subTotal = rs_advOrder_Tot.getString(1);
//            String tax = rs_advOrder_Tot.getString(2);
//            String advAmt = rs_advOrder_Tot.getString(3);
//            String delCharges = rs_advOrder_Tot.getString(7);
//            double bal = (Double.parseDouble(subTotal) + Double.parseDouble(tax) + Double.parseDouble(delCharges)) - Double.parseDouble(advAmt);
//
//            funWriteTotal("SUB TOTAL", subTotal, advOut, "Format1");
//            advOut.newLine();
//            funWriteTotal("TAX", tax, advOut, "Format1");
//            double subTotalWithDelCharges = Double.parseDouble(subTotal) + Double.parseDouble(delCharges);
//            if (subTotalWithDelCharges < Double.parseDouble(advAmt))
//            {
//                advAmt = subTotal;
//            }
//            advOut.newLine();
//
//            if (Double.parseDouble(delCharges) > 0)
//            {
//                funWriteTotal("DEL CHARGES", delCharges, advOut, "Format1");
//                advOut.newLine();
//            }
//            funWriteTotal("ADVANCE AMOUNT", advAmt, advOut, "Format1");
//            advOut.newLine();
//
//            advOut.write(Line);
//            advOut.newLine();
//            //Settlement bkp part
//            String sql_settle = "select a.dblAdvDeposite,b.strSettlementCode,date(b.dteInstallment),b.dblAdvDepositesettleAmt,"
//                    + "(d.dblSubTotal+d.dblTaxAmt) from tbladvancereceipthd a,tbladvancereceiptdtl b,tblsettelmenthd c,"
//                    + "tbladvbookbillhd d where a.strReceiptNo=b.strReceiptNo and b.strSettlementCode=c.strSettelmentCode "
//                    + "and a.strAdvBookingNo=? and d.strAdvBookingNo=a.strAdvBookingNo ";
//            //+ "group by b.strSettlementCode";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_settle);
//            pst.setString(1, advBookNo);
//
//            ResultSet rs_advOrder_settel = pst.executeQuery();
//            while (rs_advOrder_settel.next())
//            {
//                double depositeAmt = Double.parseDouble(advAmt);
//                if (Double.parseDouble(rs_advOrder_settel.getString(4)) > Double.parseDouble(advAmt))
//                {
//                    funWriteTotal(rs_advOrder_settel.getString(3), String.valueOf(depositeAmt), advOut, "Format1");
//                    advOut.newLine();
//                }
//                else
//                {
//                    funWriteTotal(rs_advOrder_settel.getString(3), rs_advOrder_settel.getString(4), advOut, "Format1");
//                    advOut.newLine();
//                }
//            }
//            rs_advOrder_settel.close();
//            advOut.write(Line);
//            advOut.newLine();
//            if (bal <= 0)
//            {
//                bal = 0.00;
//            }
//
//            funWriteTotal("BALANCE", String.valueOf(bal).concat("0"), advOut, "Format1");
//            advOut.newLine();
//
//            //footer part
//            advOut.write(Line);
//            advOut.newLine();
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", advOut);
//                advOut.write("(INCLUSIVE OF ALL TAXES)");
//                advOut.newLine();
//            }
//            advOut.write("    " + clsGlobalVarClass.gBillFooter);
//
//            advOut.newLine();
//
//            advOut.newLine();
//            advOut.newLine();
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                advOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//
//                    advOut.write("V");
//                }
//                else
//                {
//
//                    advOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//
//            advOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (clsGlobalVarClass.gShowBill)
//            {
//                funShowTextFile(Text_Bill, "", "");
//            }
//            String printerName = clsGlobalVarClass.gAdvReceiptPrinterPort;
//            int advCount = Integer.parseInt(clsGlobalVarClass.gAdvRecPrintCount);
//            for (int i = 0; i < advCount; i++)
//            {
//                funPrintToPrinter(printerName, "", "Adv Receipt", "N", isReprint);
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funShowKOTUsingTextFile(String tableNo, String KOTNo, String billNo, String type, String reprint)
//    {
//
//        try
//        {
//
//            String sql = "";
//            PreparedStatement pst = null;
//            switch (type)
//            {
//                case "Dina":
//
//                    String AreaCodeForAll = "";
//                    String sql_AreaCode = "select strAreaCode from tblareamaster where strAreaName='All';";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_AreaCode);
//                    ResultSet rs_AreaCode = pst.executeQuery();
//                    if (rs_AreafunGenerateTextFileForMoveKOTItemsToTableCode.next())
//                    {
//                        AreaCodeForAll = rs_AreaCode.getString(1);
//                    }
//                    rs_AreaCode.close();
//                    sql = "select a.strItemName,d.strCostCenterCode,d.strPrinterPort,d.strSecondaryPrinterPort"
//                            + ",d.strCostCenterName,a.strNCKotYN "
//                            + " from tblitemrtemp a left outer join tblmenuitempricingdtl c on a.strItemCode = c.strItemCode "
//                            + " left outer join tblcostcentermaster d on c.strCostCenterCode=d.strCostCenterCode "
//                            + " where a.strKOTNo=? and a.strTableNo=? and c.strPosCode=? "
//                            + " and (c.strAreaCode IN (SELECT strAreaCode FROM tbltablemaster where strTableNo=? ) "
//                            + " OR c.strAreaCode =?) "
//                            + " group by d.strCostCenterCode";
//                    //System.out.println(sql);
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql);
//                    pst.setString(1, KOTNo);
//                    pst.setString(2, tableNo);
//                    pst.setString(3, clsGlobalVarClass.gPOSCode);
//                    pst.setString(4, tableNo);
//                    pst.setString(5, AreaCodeForAll);
//                    ResultSet rsPrint = pst.executeQuery();
//                    while (rsPrint.next())
//                    {
//                        funGenerateTextFileForKOTPreview("Dina", tableNo, rsPrint.getString(2), AreaCodeForAll,
//                                KOTNo, rsPrint.getString(5), rsPrint.getString(6), reprint);
//                    }
//                    rsPrint.close();
//                    pst.close();
//                    break;
//
////                case "DirectBiller":
////
////                    sql = "select a.strItemName,c.strCostCenterCode,c.strPrinterPort"
////                        + ",c.strSecondaryPrinterPort,c.strCostCenterName "
////                        + " from tblbilldtl  a,tblmenuitempricingdtl b,tblcostcentermaster c "
////                        + " where a.strBillNo=? and  a.strItemCode=b.strItemCode "
////                        + " and b.strCostCenterCode=c.strCostCenterCode and b.strPosCode=? "
////                        + " group by c.strCostCenterCode;";
////
////                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql);
////                    pst.setString(1, billNo);
////                    pst.setString(2, clsGlobalVarClass.gPOSCode);
////                    ResultSet rsPrintDirect = pst.executeQuery();
////                    while (rsPrintDirect.next()) {
////                        fun_GenerateTextFile_forKOT_DirectBiller(rsPrintDirect.getString(2), "", clsGlobalVarClass.gDirectAreaCode, billNo, reprint, rsPrintDirect.getString(3), rsPrintDirect.getString(4), rsPrintDirect.getString(5));
////                        //fun_textFilePrintingKOT("KOT", "Dina", tableNo, rsPrintDirect.getString(2), "", AreaCode, KOTNo, rsPrintDirect.getString(3), rsPrintDirect.getString(4), reprint);
////                    }
////                    rsPrintDirect.close();
////                    pst.close();
////                    break;
//            }
//
//        }
//        catch (Exception e)
//        {
//
//            e.printStackTrace();
//        }
//
//    }
//
//    private void funGenerateTextFileForKOTPreview(String billingType, String tableNo,
//            String CostCenterCode, String AreaCode, String KOTNO, String CostCenterName, String ncKOTYN, String reprint)
//    {
//        try
//        {
//            PreparedStatement pst = null;
////            ShowKOT = "true";
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_KOT = new File(filePath + "/Temp/Temp_KOT.txt");
//            FileWriter fstream = new FileWriter(Text_KOT);
//            //BufferedWriter KotOut = new BufferedWriter(fstream);
//            BufferedWriter KotOut = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(Text_KOT), "UTF8"));
//            boolean isReprint = false;
//            if ("Reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", KotOut);
//                KotOut.write("[DUPLICATE]");
//                KotOut.newLine();
//            }
//            funPrintBlankSpace("KOT", KotOut);
//            KotOut.write("KOT");
//            KotOut.newLine();
//            funPrintBlankSpace(CostCenterName, KotOut);
//            KotOut.write(CostCenterName);
//            KotOut.newLine();
//
//            //item will pickup from tblitemrtemp
//            String tableName = "";
//            int pax = 0;
//            String SQL_KOT_Dina_tableName = "select strTableName,intPaxNo from tbltablemaster "
//                    + "where strTableNo=? and strOperational='Y'";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_KOT_Dina_tableName);
//            pst.setString(1, tableNo);
//            ResultSet rs_Dina_Table = pst.executeQuery();
//            while (rs_Dina_Table.next())
//            {
//                tableName = rs_Dina_Table.getString(1);
//                pax = rs_Dina_Table.getInt(2);
//            }
//            rs_Dina_Table.close();
//
//            String sql_KOT_Items = "";
//
//            if (clsGlobalVarClass.gAreaWisePricing.equals("Y"))
//            {
//                sql_KOT_Items = "select LEFT(a.strItemCode,7),b.strItemName,a.dblItemQuantity,a.strKOTNo,a.strSerialNo,d.strShortName "
//                        + " from tblitemrtemp a,tblmenuitempricingdtl b,tblcostcentermaster c,tblitemmaster d "
//                        + " where a.strTableNo=? and a.strKOTNo=? and b.strCostCenterCode=c.strCostCenterCode "
//                        + " and b.strCostCenterCode=? and a.strItemCode=d.strItemCode "
//                        + " and b.strPOSCode=? "
//                        + " and (b.strAreaCode IN (SELECT strAreaCode FROM tbltablemaster where strTableNo=? )) "
//                        //+ " OR b.strAreaCode ='" + clsGlobalVarClass.gAreaCodeForTrans + "') "
//                        + " and LEFT(a.strItemCode,7)=b.strItemCode "
//                        + " order by a.strSerialNo ";
//            }
//            else
//            {
//                sql_KOT_Items = "select LEFT(a.strItemCode,7),b.strItemName,a.dblItemQuantity,a.strKOTNo,a.strSerialNo,d.strShortName "
//                        + " from tblitemrtemp a,tblmenuitempricingdtl b,tblcostcentermaster c,tblitemmaster d "
//                        + " where a.strTableNo=? and a.strKOTNo=? and b.strCostCenterCode=c.strCostCenterCode "
//                        + " and b.strCostCenterCode=? and a.strItemCode=d.strItemCode "
//                        + " and b.strPOSCode=? "
//                        + " and (b.strAreaCode IN (SELECT strAreaCode FROM tbltablemaster where strTableNo=? ) "
//                        + " OR b.strAreaCode ='" + AreaCode + "') "
//                        + " and LEFT(a.strItemCode,7)=b.strItemCode "
//                        + " order by a.strSerialNo ";
//            }
//            PreparedStatement pst_KOT_Items = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_KOT_Items);
//            pst_KOT_Items.setString(1, tableNo);
//            pst_KOT_Items.setString(2, KOTNO);
//            pst_KOT_Items.setString(3, CostCenterCode);
//            pst_KOT_Items.setString(4, clsGlobalVarClass.gPOSCode);
//            pst_KOT_Items.setString(5, tableNo);
//            //pst_KOT_Items.setString(5, AreaCode);
//
//            KOTType = "DINE";
//            if (null != clsGlobalVarClass.hmTakeAway.get(tableNo))
//            {
//                KOTType = "Take Away";
//            }
//            funPrintBlankSpace(KOTType, KotOut);
//            KotOut.write(KOTType);
//            KotOut.newLine();
//
//            if (clsGlobalVarClass.gCounterWise.equals("Yes"))
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCounterName, KotOut);
//                KotOut.write(clsGlobalVarClass.gCounterName);
//                KotOut.newLine();
//            }
//
//            KotOut.write(Line);
//            KotOut.newLine();
//
//            if (ncKOTYN.equals("Y"))
//            {
//                String sqlNCKOTReason = "select b.strReasonName "
//                        + " from tblnonchargablekot a,tblreasonmaster b "
//                        + " where a.strReasonCode=b.strReasonCode "
//                        + " and a.strKOTNo='" + KOTNO + "' ";
//
//                ResultSet rsNCKOTReason = clsGlobalVarClass.dbMysql.executeResultSet(sqlNCKOTReason);
//                if (rsNCKOTReason.next())
//                {
//                    KotOut.write("  Reason     :");
//                    KotOut.write(rsNCKOTReason.getString(1) + "  ");
//                    KotOut.newLine();
//                }
//                rsNCKOTReason.close();
//            }
//
//            KotOut.write("  KOT NO     :");
//            KotOut.write(KOTNO + "  ");
//            KotOut.newLine();
//            KotOut.write("  TABLE NAME :");
//            KotOut.write(tableName + "  ");
//            KotOut.write(" PAX   :");
//            KotOut.write(String.valueOf(pax));
//            KotOut.newLine();
//            String sql_WaiterDtl = "select strWaiterNo from tblitemrtemp where strKOTNo=?  and strTableNo=? group by strKOTNo ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_WaiterDtl);
//            pst.setString(1, KOTNO);
//            pst.setString(2, tableNo);
//            ResultSet rs_WaiterDtl = pst.executeQuery();
//            if (rs_WaiterDtl.next())
//            {
//                if (!"null".equalsIgnoreCase(rs_WaiterDtl.getString(1)) && rs_WaiterDtl.getString(1).trim().length() > 0)
//                {
//                    sql_WaiterDtl = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_WaiterDtl);
//                    pst.setString(1, rs_WaiterDtl.getString(1));
//                    ResultSet rs = pst.executeQuery();
//                    rs.next();
//                    KotOut.write("  WAITER NAME:" + "   " + rs.getString(1));
//                    KotOut.newLine();
//                    rs.close();
//                }
//            }
//            rs_WaiterDtl.close();
//            String sql_KOTDate = "select date(dteDateCreated),time(dteDateCreated) from tblitemrtemp where strKOTNo=?  and strTableNo=? group by strKOTNo ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_KOTDate);
//            pst.setString(1, KOTNO);
//            pst.setString(2, tableNo);
//            ResultSet rs_KOTDate = pst.executeQuery();
//            rs_KOTDate.next();
//            //Date changes
//            KotOut.write("  DATE & TIME:" + rs_KOTDate.getString(1) + " " + rs_KOTDate.getString(2));
//            rs_KOTDate.close();
//            KotOut.newLine();
//            KotOut.write(Line);
//            KotOut.newLine();
//            KotOut.write("  QTY         ITEM NAME  ");
//            KotOut.newLine();
//            KotOut.write(Line);
//            ResultSet rs_KOT_Items = pst_KOT_Items.executeQuery();
//            while (rs_KOT_Items.next())
//            {
//
//                String itemName = rs_KOT_Items.getString(2);
//
//                if (clsGlobalVarClass.gPrintShortNameOnKOT && !rs_KOT_Items.getString(6).trim().isEmpty())
//                {
//                    itemName = rs_KOT_Items.getString(6);
//                }
//
//                KotOut.newLine();
//                String itemqty = rs_KOT_Items.getString(3);
//                if (itemqty.length() == 5)
//                {
//                    KotOut.write(" " + rs_KOT_Items.getString(3) + "       " + itemName);
//                }
//                else if (itemqty.length() == 4)
//                {
//                    KotOut.write("  " + rs_KOT_Items.getString(3) + "       " + itemName);
//                }
//                else if (itemqty.length() == 6)
//                {
//                    KotOut.write("" + rs_KOT_Items.getString(3) + "       " + itemName);
//                }
//
//                String sql_Modifier = "select a.strItemName,sum(a.dblItemQuantity) from tblitemrtemp a "
//                        + " where a.strItemCode like'" + rs_KOT_Items.getString(1) + "M%' and a.strKOTNo='" + KOTNO + "' "
//                        + " and strSerialNo like'" + rs_KOT_Items.getString(5) + ".%' "
//                        + " group by a.strItemCode,a.strItemName ";
//                //System.out.println(sql_Modifier);
//                ResultSet rsModifierItems = clsGlobalVarClass.dbMysql.executeResultSet(sql_Modifier);
//                while (rsModifierItems.next())
//                {
//                    String modQty = rsModifierItems.getString(2);
//                    String modifierName = rsModifierItems.getString(1);
//                    if (modifierName.startsWith("-->"))
//                    {
//                        KotOut.newLine();
//                        if (clsGlobalVarClass.gPrintModQtyOnKOT)
//                        {
//                            if (modQty.length() == 5)
//                            {
//                                KotOut.write(" " + rsModifierItems.getString(2) + "       " + rsModifierItems.getString(1));
//                            }
//                            else if (modQty.length() == 4)
//                            {
//                                KotOut.write("  " + rsModifierItems.getString(2) + "       " + rsModifierItems.getString(1));
//                            }
//                            else if (modQty.length() == 6)
//                            {
//                                KotOut.write("" + rsModifierItems.getString(2) + "       " + rsModifierItems.getString(1));
//                            }
//                        }
//                        else
//                        {
//                            if (modQty.length() == 5)
//                            {
//                                KotOut.write("               " + rsModifierItems.getString(1));
//                            }
//                            else if (modQty.length() == 4)
//                            {
//                                KotOut.write("                " + rsModifierItems.getString(1));
//                            }
//                            else if (modQty.length() == 6)
//                            {
//                                KotOut.write("              " + rsModifierItems.getString(1));
//                            }
//                        }
//                    }
//                }
//            }
//            rs_KOT_Items.close();
//            pst_KOT_Items.close();
//            KotOut.newLine();
//            KotOut.write(Line);
//            for (int cntLines = 0; cntLines < Integer.parseInt(clsGlobalVarClass.gNoOfLinesInKOTPrint); cntLines++)
//            {
//                KotOut.newLine();
//            }
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                KotOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    KotOut.write("V");
//                }
//                else
//                {
//                    KotOut.write("m");//windows
//                }
//            }
//            KotOut.close();
//            fstream.close();
//            pst.close();
//
//            if (clsGlobalVarClass.gShowBill)
//            {
//                funShowTextFile(Text_KOT, "", "");
//            }
////            if(printYN.equals("Y"))
////            {
////                funPrintToPrinter(primaryPrinterName,secondaryPrinterName, "kot");
////            }
//
//        }
//        catch (Exception e)
//        {
//            JOptionPane.showMessageDialog(null, "KOT Printing Error:" + e.getMessage());
//            e.printStackTrace();
//        }
//    }
//
//    //Bill Format For M/S Kaveri(SB)caterers
//    public void funGenerateTextFileBillPrintingForFormat8(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//
//        String Linefor8 = "  --------------------------------------";
//        try
//        {
//
//            String user = "";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billPromoDtl;
//            String billDscFrom;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String discount = "";
//            String tax = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            boolean flag_DirectBiller = false;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime,strCustAddressLine1 "
//                    + "from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "";
//
//                if (rs_HomeDelivery.getString(5).equals("Home"))
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName,a.strStreetName"
//                            + " ,a.strLandmark,a.strArea,a.strCity,a.intPinCode,a.longMobileNo "
//                            + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                            + " on a.strBuldingCode=b.strBuildingCode "
//                            + " where a.strCustomerCode=? ;";
//                }
//                else
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strOfficeBuildingName,a.strOfficeStreetName"
//                            + ",a.strOfficeLandmark,a.strOfficeArea,a.strOfficeCity,a.strOfficePinCode,a.longMobileNo "
//                            + " from tblcustomermaster a "
//                            + " where a.strCustomerCode=? ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//
//                    // Building Name    
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS1   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS1   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    // Street Name    
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    // Landmark Name    
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Area Name    
//                    if (rs_CustomerDtl.getString(5).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // City Name    
//                    if (rs_CustomerDtl.getString(6).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Pin Code    
//                    if (rs_CustomerDtl.getString(7).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(7).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Mobile No    
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(8));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    pst.setString(1, rs_HomeDelivery.getString(3));
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    if (rs_DeliveryBoyDtl.next())
//                    {
//                        BillOut.write("  DELV BOY  :" + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                    }
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                /*
//                 * BillOut.write(" DELV TIME :" +
//                 * rs_HomeDelivery.getString(4).toUpperCase());
//                 * BillOut.newLine();
//                 */
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//            rs_HomeDelivery.close();
//
//            funPrintTakeAway(billhd, billNo, BillOut, 4);
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("TAX INVOICE", BillOut);
//                BillOut.write("TAX INVOICE");
//                BillOut.newLine();
//            }
//            if (clsGlobalVarClass.gClientCode.equals("074.001"))
//            {
//                if (clsGlobalVarClass.gPOSCode.equals("P18") || clsGlobalVarClass.gPOSCode.equals("P19") || clsGlobalVarClass.gPOSCode.equals("P20") || clsGlobalVarClass.gPOSCode.equals("P21") || clsGlobalVarClass.gPOSCode.equals("P22") || clsGlobalVarClass.gPOSCode.equals("P23"))
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gPOSName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gPOSName);
//                    BillOut.newLine();
//                    BillOut.write(Linefor8);
//                }
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//                BillOut.newLine();
//
//                if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                    BillOut.newLine();
//                }
//
//                if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                    BillOut.newLine();
//                }
//
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//                BillOut.newLine();
//
//                if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                    BillOut.newLine();
//                }
//
//                if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                    BillOut.newLine();
//                }
//
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                    BillOut.newLine();
//                }
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer,c.strPOSName "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tblposmaster c on a.strPOSCode=c.strPOSCode "
//                        + "where a.strBillNo=?  ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer,d.strPOSName,a.intPaxNo "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "left outer join tblposmaster d on a.strPOSCode=d.strPOSCode "
//                        + "where a.strBillNo=?  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//                tabNo = rs_BillHD.getString(1);
//
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    rsQuery.next();
//                    waiterName = rsQuery.getString(1);
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                rsTblName.next();
//                tblName = rsTblName.getString(1);
//                rsTblName.close();
//                pst.close();
//            }
//           //funPrintTakeAway(billhd, billNo, BillOut);
//
//            // Code to Print KOT No Series.            
//            String KOTNoSeries = "";
//            ResultSet rsKOTNo = clsGlobalVarClass.dbMysql.executeResultSet("select distinct(strKOTNo) from " + billdtl + " where strBillNo='" + billNo + "'");
//            if (rsKOTNo.next())
//            {
//                KOTNoSeries += "," + rsKOTNo.getString(1);
//            }
//            rsKOTNo.close();
//            if (!KOTNoSeries.isEmpty())
//            {
//                KOTNoSeries = KOTNoSeries.substring(1, KOTNoSeries.length());
//                BillOut.write(Linefor8);
//                BillOut.newLine();
//            }
//
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(Linefor8);
//                BillOut.newLine();
//                BillOut.write("  POS         : ");
//                BillOut.write(rs_BillHD.getString(14));
//                BillOut.newLine();
//
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.newLine();
//
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(1)));
//                BillOut.newLine();
//
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(4);
//                discount = rs_BillHD.getString(3);
//                tax = rs_BillHD.getString(7);
//                grandTotal = rs_BillHD.getString(6);
//                user = rs_BillHD.getString(10);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//                BillOut.write(Linefor8);
//
//                BillOut.newLine();
//                BillOut.write("  POS         : ");
//                BillOut.write(rs_BillHD.getString(16));
//                BillOut.newLine();
//
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.newLine();
//
//                BillOut.write("  PAX NO.     : ");
//                BillOut.write(rs_BillHD.getString(17));
//                BillOut.newLine();
//
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//                BillOut.write(Linefor8);
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(6);
//                discount = rs_BillHD.getString(5);
//                tax = rs_BillHD.getString(9);
//                grandTotal = rs_BillHD.getString(8);
//                user = rs_BillHD.getString(12);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//            //print card available balance
//            String isSttled = "select strBillNo from " + billSettlementdtl + " where strBillNo='" + billNo + "';  ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//            if (transType.equals("Void"))
//            {
//                String reasonName = "select a.strReasonName "
//                        + "from tblvoidbillhd a "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//
//            ////////////////////////llllllllll/////////////////////////////
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage"
//                    + ",a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b "
//                    + " where a.strAdvBookingNo=b.strAdvBookingNo "
//                    + "and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(Linefor8);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//                int strlenMsg = msg.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = msg.substring(0, strlenMsg);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(0, 27);
//                        BillOut.write("  MESSAGE     :" + msg1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = msg.substring(i, endmsg);
//                            i = endmsg;
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(i, strlenMsg);
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//                //////////////////////////////////////////////////
//
//                int strlenShape = shape.length();
//                if (strlenShape > 0)
//                {
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = shape.substring(0, strlenShape);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(0, 27);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = shape.substring(j, endShape);
//                            j = endShape;
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(j, strlenShape);
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//
//                BillOut.write(Linefor8);
//            }
//            /////////////////////////lllllllll////////////////////////////
//
//            BillOut.newLine();
//            BillOut.write("     QTY ITEM NAME                  AMT");
//            BillOut.newLine();
//            BillOut.write(Linefor8);
//            BillOut.newLine();
//            String SQL_BillDtl = "select SUM(dblQuantity),left(strItemName,22) as ItemLine1"
//                    + " ,MID(strItemName,23,LENGTH(strItemName)) as ItemLine2"
//                    + " ,sum(dblAmount),strItemCode,strKOTNo "
//                    + " from " + billdtl + " where strBillNo=? and tdhYN='N' "
//                    + " group by strItemCode ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                funPrintContentWithSpace("Right", rs_BillDtl.getString(1), 8, BillOut);//Qty Print
//                BillOut.write(" ");
//                funPrintContentWithSpace("Left", rs_BillDtl.getString(2), 22, BillOut);//Amount                
//                funPrintContentWithSpace("Right", rs_BillDtl.getString(4), 9, BillOut);//Amount
//
//                BillOut.newLine();
//                if (rs_BillDtl.getString(3).trim().length() > 0)
//                {
//                    BillOut.write("         " + rs_BillDtl.getString(3));
//                    BillOut.newLine();
//                }
//
//                String sqlModifier = "select count(*) "
//                        + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    sqlModifier += " and  dblAmount !=0.00 ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                System.out.println("Item Code=" + rs_BillDtl.getString(5));
//                pst.setString(1, billNo);
//                pst.setString(2, rs_BillDtl.getString(5));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(5));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToTextformat5(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format5");
//                        BillOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//                }
//            }
//            rs_BillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, BillOut,4);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(Linefor8);
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sql_CRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format5");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//            funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format5");
//            BillOut.newLine();
//
//            if (discount.trim().length() > 0 && !"0.00".equalsIgnoreCase(discount))
//            {
//                funWriteTotal("DISCOUNT  " + discPer + "%", discount, BillOut, "Format5");
//                BillOut.newLine();
//            }
//
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format5");
//                BillOut.newLine();
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format5");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format5");
//                BillOut.newLine();
//            }
//
//            BillOut.write(Linefor8);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format5");
//            BillOut.newLine();
//            BillOut.write(Linefor8);
//            BillOut.newLine();
//            //settlement breakup part
//            String SQL_Settlement_Breakup = "select a.dblSettlementAmt ,b.strSettelmentDesc "
//                    + " from " + billSettlementdtl + " a ,tblsettelmenthd b "
//                    + "where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_Settlement_Breakup);
//
//            pst.setString(1, billNo);
//            boolean flgSettlement = false;
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format5");
//                BillOut.newLine();
//                flgSettlement = true;
//            }
//            rs_Bill_Settlement.close();
//            if (flgSettlement)
//            {
//                BillOut.write(Linefor8);
//            }
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(Linefor8);
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//
//            BillOut.write("Location : ");
//            BillOut.write(clsGlobalVarClass.gClientName);
//            BillOut.newLine();
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            BillOut.write(Linefor8);
//            BillOut.newLine();
//
//            String cashCard = "N";
//            sql = "select a.dblGrandTotal,b.strCustomerCode,d.strCashCard,c.strCardNo,c.dblRedeemAmt "
//                    + "from tblbillhd a,tblcustomermaster b,tbldebitcardmaster c,tbldebitcardtype d  "
//                    + "where a.strCustomerCode=b.strCustomerCode "
//                    + "and b.strCustomerCode=c.strCustomerCode "
//                    + "and c.strCardTypeCode=d.strCardTypeCode "
//                    + "and a.strBillNo='" + billhd + "'";
//            ResultSet rsCashCard = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            if (rsCashCard.next())
//            {
//                cashCard = rsCashCard.getString(3);
//                if (cashCard.equals("Y"))
//                {
//                    BillOut.write("Debit Card No: ");
//                    BillOut.write(rsCashCard.getString(4));
//                    BillOut.newLine();
//
//                    BillOut.write("Holder Name: ");
//                    BillOut.write(rsCashCard.getString(2));
//                    BillOut.newLine();
//
//                    BillOut.write("Opening Bal: ");
//                    BillOut.write(rsCashCard.getString(5));
//                    BillOut.newLine();
//
//                    double cardBal = rsCashCard.getDouble(5) - rsCashCard.getDouble(1);
//                    BillOut.write("Card Bal: ");
//                    BillOut.write(cardBal + "");
//                    BillOut.newLine();
//                }
//            }
//            rsCashCard.close();
//
//            if (cashCard.equals("N"))
//            {
//                if (clsGlobalVarClass.gCMSIntegrationYN)
//                {
//                    sql = "select b.strCustomerCode,b.strCustomerName "
//                            + " from " + billhd + " a,tblcustomermaster b "
//                            + " where a.strCustomerCode=b.strCustomerCode "
//                            + " and a.strBillNo='" + billNo + "'";
//                    rsBillPrint = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                    if (rsBillPrint.next())
//                    {
//                        BillOut.write("  Member Code : ");
//                        BillOut.write(rsBillPrint.getString(1));
//                        BillOut.newLine();
//                        BillOut.write("  Member Name : ");
//                        funWriteToTextMemberNameForFormat5(BillOut, rsBillPrint.getString(2), "Format5");
//                        BillOut.newLine();
//                    }
//                    rsBillPrint.close();
//                }
//            }
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//            BillOut.newLine();
//
//            funPrintBlankSpace(user, BillOut);
//            BillOut.write(user);
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateTextFileBillPreview(String billNo, String reprint, String formName, String transType, String billDate)
//    {
//        try
//        {
//            String user = "";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdl;
//            if ("sales report".equalsIgnoreCase(formName))
//            {
//                billhd = "tblbillhd";
//                billdtl = "tblbilldtl";
//                billModifierdtl = "tblbillmodifierdtl";
//                billSettlementdtl = "tblbillsettlementdtl";
//                billtaxdl = "tblbilltaxdtl";
//
//                long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                if (dateDiff > 0)
//                {
//                    billhd = "tblqbillhd";
//                    billdtl = "tblqbilldtl";
//                    billModifierdtl = "tblqbillmodifierdtl";
//                    billSettlementdtl = "tblqbillsettlementdtl";
//                    billtaxdl = "tblqbilltaxdtl";
//                }
//            }
//            else
//            {
//                billhd = "tblbillhd";
//                billdtl = "tblbilldtl";
//                billModifierdtl = "tblbillmodifierdtl";
//                billSettlementdtl = "tblbillsettlementdtl";
//                billtaxdl = "tblbilltaxdtl";
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String discount = "";
//            String tax = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            boolean flag_DirectBiller = false;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName,a.strStreetName,a.strLandmark,a.strArea,a.strCity,a.longMobileNo,b.strAddress "
//                        + "from tblcustomermaster a ,tblbuildingmaster b where strCustomerCode=? and a.strBuldingCode=b.strBuildingCode ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//                    if (rs_CustomerDtl.getString(8).trim().length() > 0)
//                    {
//                        BillOut.write("  ADDRESS1   :" + rs_CustomerDtl.getString(8).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//
//                    }
//                    //add1=add.substring(len,56);
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(5).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(7));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    pst.setString(1, rs_HomeDelivery.getString(3));
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    if (rs_DeliveryBoyDtl.next())
//                    {
//                        BillOut.write("  DELV BOY  :" + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                    }
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                /*
//                 * BillOut.write(" DELV TIME :" +
//                 * rs_HomeDelivery.getString(4).toUpperCase());
//                 * BillOut.newLine();
//                 */
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//            rs_HomeDelivery.close();
//
//            funPrintTakeAway(billhd, billNo, BillOut, 4);
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("TAX INVOICE", BillOut);
//                BillOut.write("TAX INVOICE");
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//            BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                BillOut.newLine();
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "where a.strBillNo=? ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=? ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//                tabNo = rs_BillHD.getString(1);
//
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    rsQuery.next();
//                    waiterName = rsQuery.getString(1);
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                rsTblName.next();
//                tblName = rsTblName.getString(1);
//                rsTblName.close();
//                pst.close();
//            }
//
//            // funPrintTakeAway(billhd, billNo, BillOut);
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(Line);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                //BillOut.write("  ");
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(1)));
//                BillOut.newLine();
//
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(4);
//                discount = rs_BillHD.getString(3);
//                tax = rs_BillHD.getString(7);
//                grandTotal = rs_BillHD.getString(6);
//                user = rs_BillHD.getString(10);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//
//                BillOut.write(Line);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(6);
//                discount = rs_BillHD.getString(5);
//                tax = rs_BillHD.getString(9);
//                grandTotal = rs_BillHD.getString(8);
//                user = rs_BillHD.getString(12);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//
//            if (clsGlobalVarClass.gCMSIntegrationYN)
//            {
//                sql = "select b.strCustomerCode,b.strCustomerName from " + billhd + " a,tblcustomermaster b "
//                        + " where a.strCustomerCode=b.strCustomerCode and a.strBillNo='" + billNo + "'";
//                rsBillPrint = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsBillPrint.next())
//                {
//                    BillOut.write("  Member Code : ");
//                    BillOut.write(rsBillPrint.getString(1));
//                    BillOut.newLine();
//                    BillOut.write("  Member Name : ");
//                    BillOut.write(rsBillPrint.getString(2));
//                    BillOut.newLine();
//                }
//                rsBillPrint.close();
//            }
//
//            BillOut.write(Line);
//            ////////////////////////llllllllll/////////////////////////////
//
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage,a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b where a.strAdvBookingNo=b.strAdvBookingNo "
//                    + "and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(Line);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//                int strlenMsg = msg.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = msg.substring(0, strlenMsg);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(0, 27);
//                        BillOut.write("  MESSAGE     :" + msg1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = msg.substring(i, endmsg);
//                            i = endmsg;
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(i, strlenMsg);
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//                //////////////////////////////////////////////////
//
//                int strlenShape = shape.length();
//                if (strlenShape > 0)
//                {
//
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = shape.substring(0, strlenShape);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(0, 27);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = shape.substring(j, endShape);
//                            j = endShape;
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(j, strlenShape);
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                BillOut.newLine();
//                BillOut.write(Line);
//            }
//            /////////////////////////lllllllll////////////////////////////
//
//            BillOut.newLine();
//            BillOut.write("      QTY  ITEM NAME                  AMT");
//            BillOut.newLine();
//            BillOut.write(Line);
//            BillOut.newLine();
//
//            String SQL_BillDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount),strItemCode,strKOTNo "
//                    + "from " + billdtl + " where strBillNo=? and tdhYN='N' group by strItemCode ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                funWriteToText(BillOut, rs_BillDtl.getString(1), rs_BillDtl.getString(2).toUpperCase(), rs_BillDtl.getString(3), "Format1");
//                BillOut.newLine();
//                String sqlModifier = "select count(*) "
//                        + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    sqlModifier += " and  dblAmount !=0.00 ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                pst.setString(1, billNo);
//                pst.setString(2, rs_BillDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format1");
//                        BillOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//
//                }
//            }
//            rs_BillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, BillOut,4);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(Line);
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sql_CRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format1");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) from tblbilltaxdtl a,tbltaxhd b "
//                    + "where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//
//            funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format1");
//            BillOut.newLine();
//
//            if (discount.trim().length() > 0 && !"0.00".equalsIgnoreCase(discount))
//            {
//                funWriteTotal("DISCOUNT  " + discPer + "%", discount, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            /*
//             * if (tax.trim().length() > 0 && !"0.00".equalsIgnoreCase(tax)) {
//             * funWriteTotal("TAX", tax, BillOut); BillOut.newLine(); }
//             */
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format1");
//                BillOut.newLine();
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            BillOut.write(Line);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format1");
//            BillOut.newLine();
//            BillOut.write(Line);
//            BillOut.newLine();
//            //settlement breakup part
//            String SQL_Settlement_Breakup = "select a.dblSettlementAmt ,b.strSettelmentDesc from " + billSettlementdtl + " a ,"
//                    + "tblsettelmenthd b where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_Settlement_Breakup);
//
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format1");
//
//                BillOut.newLine();
//            }
//            rs_Bill_Settlement.close();
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(Line);
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//            //footer part
//            BillOut.write(Line);
//            BillOut.newLine();
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                BillOut.newLine();
//            }
//            BillOut.newLine();
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdl);
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//            BillOut.newLine();
//
//            funPrintBlankSpace(user, BillOut);
//            BillOut.write(user);
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
////            if(!formName.equalsIgnoreCase("sales report"))
////            {
////                if(transType.equalsIgnoreCase("void"))
////                {
////                    if(clsGlobalVarClass.gPrintOnVoidBill)
////                        funPrintToPrinter("POS","", "bill");
////                }
////                else
////                {
////                    funPrintToPrinter("POS","", "bill");
////                }
////            }
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateTextFileBillPrintingForFormat7(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        try
//        {
//            String user = "";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billPromoDtl;
//            String billDscFrom;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String discount = "";
//            String tax = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            boolean flag_DirectBiller = false;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName"
//                        + " ,a.strStreetName,a.strLandmark,a.strArea,a.strCity,a.longMobileNo,b.strAddress "
//                        + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                        + " on a.strBuldingCode=b.strBuildingCode "
//                        + " where a.strCustomerCode=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//                    if (rs_CustomerDtl.getString(8).trim().length() > 0)
//                    {
//                        BillOut.write("  ADDRESS1   :" + rs_CustomerDtl.getString(8).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//
//                    }
//                    //add1=add.substring(len,56);
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(5).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(7));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    pst.setString(1, rs_HomeDelivery.getString(3));
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    if (rs_DeliveryBoyDtl.next())
//                    {
//                        BillOut.write("  DELV BOY  :" + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                    }
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                /*
//                 * BillOut.write(" DELV TIME :" +
//                 * rs_HomeDelivery.getString(4).toUpperCase());
//                 * BillOut.newLine();
//                 */
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//            rs_HomeDelivery.close();
//
//            funPrintTakeAway(billhd, billNo, BillOut, 4);
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("TAX INVOICE", BillOut);
//                BillOut.write("TAX INVOICE");
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//            BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                BillOut.newLine();
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated "
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer ,c.strCustomerName,c.longMobileNo"
//                        + ",strTakeAwayRemarks "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tblcustomermaster c on c.strCustomerCode=a.strCustomerCode "
//                        + "where a.strBillNo=?  ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated "
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=?  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//                tabNo = rs_BillHD.getString(1);
//
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    rsQuery.next();
//                    waiterName = rsQuery.getString(1);
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                rsTblName.next();
//                tblName = rsTblName.getString(1);
//                rsTblName.close();
//                pst.close();
//            }
//
//            // funPrintTakeAway(billhd, billNo, BillOut);
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(Line);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                //BillOut.write("  ");
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(1)));
//                BillOut.newLine();
//                if (clsGlobalVarClass.gRemarksOnTakeAway)
//                {
//                    if (!rs_BillHD.getObject(16).equals(""))
//                    {
//                        BillOut.write("  Cust Name   : ");
//                        BillOut.write(rs_BillHD.getString(16));
//                        BillOut.newLine();
//                    }
//                }
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(4);
//                discount = rs_BillHD.getString(3);
//                tax = rs_BillHD.getString(7);
//                grandTotal = rs_BillHD.getString(6);
//                user = rs_BillHD.getString(10);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//
//                BillOut.write(Line);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//
//                subTotal = rs_BillHD.getString(6);
//                discount = rs_BillHD.getString(5);
//                tax = rs_BillHD.getString(9);
//                grandTotal = rs_BillHD.getString(8);
//                user = rs_BillHD.getString(12);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//            //print card available balance
//            String isSttled = "select strBillNo from " + billSettlementdtl + " where strBillNo='" + billNo + "';  ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//            if (transType.equals("Void"))
//            {
//                String reasonName = "select a.strReasonName "
//                        + "from tblvoidbillhd a "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//
//            if (clsGlobalVarClass.gCMSIntegrationYN)
//            {
//                sql = "select b.strCustomerCode,b.strCustomerName from " + billhd + " a,tblcustomermaster b "
//                        + " where a.strCustomerCode=b.strCustomerCode and a.strBillNo='" + billNo + "'";
//                rsBillPrint = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsBillPrint.next())
//                {
//                    BillOut.write("  Member Code : ");
//                    BillOut.write(rsBillPrint.getString(1));
//                    BillOut.newLine();
//                    BillOut.write("  Member Name : ");
//                    BillOut.write(rsBillPrint.getString(2));
//                    BillOut.newLine();
//                }
//                rsBillPrint.close();
//            }
//
//            BillOut.write(Line);
//            ////////////////////////llllllllll/////////////////////////////
//
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage,a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b where a.strAdvBookingNo=b.strAdvBookingNo "
//                    + "and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(Line);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//                int strlenMsg = msg.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = msg.substring(0, strlenMsg);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(0, 27);
//                        BillOut.write("  MESSAGE     :" + msg1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = msg.substring(i, endmsg);
//                            i = endmsg;
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(i, strlenMsg);
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//                //////////////////////////////////////////////////
//
//                int strlenShape = shape.length();
//                if (strlenShape > 0)
//                {
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = shape.substring(0, strlenShape);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(0, 27);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = shape.substring(j, endShape);
//                            j = endShape;
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(j, strlenShape);
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                BillOut.newLine();
//                BillOut.write(Line);
//            }
//            /////////////////////////lllllllll////////////////////////////
//
//            BillOut.newLine();
//            BillOut.write("      QTY  ITEM NAME                  AMT");
//            BillOut.newLine();
//            BillOut.write(Line);
//            BillOut.newLine();
//
//            String SQL_BillDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount),strItemCode,strKOTNo "
//                    + " from " + billdtl + " where strBillNo=? and tdhYN='N' "
//                    + " group by strItemCode ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                double amount = Double.parseDouble(rs_BillDtl.getString(3));
//                amount = Double.parseDouble(objFormat.format(amount));
//                if (rs_BillDtl.getDouble(1) > 0)
//                {
//                    funWriteToText(BillOut, rs_BillDtl.getString(1), rs_BillDtl.getString(2).toUpperCase(), String.valueOf(amount), "Format1");
//                    BillOut.newLine();
//                }
//
//                String sqlModifier = "select count(*) "
//                        + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    sqlModifier += " and  dblAmount !=0.00 ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                pst.setString(1, billNo);
//                pst.setString(2, rs_BillDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format1");
//                        BillOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//                }
//            }
//            rs_BillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, BillOut,4);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(Line);
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sql_CRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format1");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " and b.strTaxCalculation='Forward' "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//
//            if (clsGlobalVarClass.gAllowToCalculateItemWeight.equalsIgnoreCase("Y"))
//            {
//                Map<String, String> map = clsGlobalVarClass.gMapWeightPerBox;
//                Iterator it = map.keySet().iterator();
//                while (it.hasNext())
//                {
//                    BillOut.newLine();
//
//                    String itemCode = it.next().toString();
//                    String data = map.get(itemCode);
//
//                    String noOfBoxes = data.split("!")[0];
//                    double wpb = Double.parseDouble(data.split("!")[1]);
//                    String itemName = data.split("!")[2];
//                    String itemPrice = data.split("!")[3];
//                    String totalQty = data.split("!")[4];
//
////                    String weightPerBox=String.format("%.3f", wpb);
////                    wpb=Double.parseDouble(weightPerBox);             
////                    weightPerBox=String.format("%.3f", wpb);
//                    String weightPerBox = String.valueOf(wpb);
//
//                    double dblPrice = Double.parseDouble(itemPrice);
//                    double dblNoOfBoxex = Double.parseDouble(noOfBoxes);
//                    double dblTotalPrice = dblPrice;
//                    double dblQty = Double.parseDouble(totalQty);
//                    dblTotalPrice = dblTotalPrice * dblQty;
//                    String totalPrice = String.format("%.2f", dblTotalPrice);
//                    String toBePrinted = "  " + noOfBoxes + " Boxes Of " + itemName + " With " + weightPerBox + " gram/box.  ";
//
//                    if (toBePrinted.length() <= 41)
//                    {
//                        BillOut.write(toBePrinted);
//                    }
//                    else
//                    {
//                        BillOut.write("  " + noOfBoxes + " Boxes Of " + itemName);
//                        BillOut.newLine();
//                        BillOut.write("  With " + weightPerBox + " gm/box.");
//                    }
//                    BillOut.newLine();
//                }
//
//                clsGlobalVarClass.gMapWeightPerBox.clear();
//            }
//
//            funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format1");
//            BillOut.newLine();
//
//            if (discount.trim().length() > 0 && !"0.00".equalsIgnoreCase(discount))
//            {
//                funWriteTotal("DISCOUNT  " + discPer + "%", discount, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            /*
//             * if (tax.trim().length() > 0 && !"0.00".equalsIgnoreCase(tax)) {
//             * funWriteTotal("TAX", tax, BillOut); BillOut.newLine(); }
//             */
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format1");
//                BillOut.newLine();
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            BillOut.write(Line);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format1");
//            BillOut.newLine();
//            BillOut.write(Line);
//            BillOut.newLine();
//            //settlement breakup part
//            String SQL_Settlement_Breakup = "select a.dblSettlementAmt ,b.strSettelmentDesc from " + billSettlementdtl + " a ,"
//                    + "tblsettelmenthd b where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_Settlement_Breakup);
//
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format1");
//
//                BillOut.newLine();
//            }
//            rs_Bill_Settlement.close();
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(Line);
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//            //footer part
//
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                BillOut.newLine();
//            }
//            BillOut.newLine();
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//            BillOut.newLine();
//
//            funPrintBlankSpace(user, BillOut);
//            BillOut.write(user);
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//// Discount % Changes for Flying Saucers    
//    public void funGenerateTextFileBillPrintingForFormat9(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        try
//        {
//            String user = "";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billPromoDtl;
//            String billDscFrom = "tblbilldiscdtl";
//
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String discount = "";
//            String tax = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            boolean flag_DirectBiller = false;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName"
//                        + " ,a.strStreetName,a.strLandmark,a.strArea,a.strCity,a.longMobileNo,ifnull(b.strAddress,'') "
//                        + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                        + " on a.strBuldingCode=b.strBuildingCode "
//                        + " where a.strCustomerCode=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//                    if (rs_CustomerDtl.getString(8).trim().length() > 0)
//                    {
//                        BillOut.write("  ADDRESS1   :" + rs_CustomerDtl.getString(8).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//
//                    }
//                    //add1=add.substring(len,56);
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(5).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(7));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    pst.setString(1, rs_HomeDelivery.getString(3));
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    if (rs_DeliveryBoyDtl.next())
//                    {
//                        BillOut.write("  DELV BOY  :" + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                    }
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                /*
//                 * BillOut.write(" DELV TIME :" +
//                 * rs_HomeDelivery.getString(4).toUpperCase());
//                 * BillOut.newLine();
//                 */
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//            rs_HomeDelivery.close();
//
//            funPrintTakeAway(billhd, billNo, BillOut, 4);
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("TAX INVOICE", BillOut);
//                BillOut.write("TAX INVOICE");
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//            BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                BillOut.newLine();
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated "
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer ,c.strCustomerName,c.longMobileNo"
//                        + ",strTakeAwayRemarks "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tblcustomermaster c on c.strCustomerCode=a.strCustomerCode "
//                        + "where a.strBillNo=?  ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated "
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=? and b.strOperational='Y'  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//                tabNo = rs_BillHD.getString(1);
//
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    rsQuery.next();
//                    waiterName = rsQuery.getString(1);
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                rsTblName.next();
//                tblName = rsTblName.getString(1);
//                rsTblName.close();
//                pst.close();
//            }
//
//            // funPrintTakeAway(billhd, billNo, BillOut);
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(Line);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                //BillOut.write("  ");
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(1)));
//                BillOut.newLine();
//                if (clsGlobalVarClass.gRemarksOnTakeAway)
//                {
//                    if (!rs_BillHD.getObject(16).equals(""))
//                    {
//                        BillOut.write("  Cust Name   : ");
//                        BillOut.write(rs_BillHD.getString(16));
//                        BillOut.newLine();
//                    }
//                }
//
//                subTotal = rs_BillHD.getString(4);
//                discount = rs_BillHD.getString(3);
//                tax = rs_BillHD.getString(7);
//                grandTotal = rs_BillHD.getString(6);
//                user = rs_BillHD.getString(10);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//
//                BillOut.write(Line);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//
//                subTotal = rs_BillHD.getString(6);
//                discount = rs_BillHD.getString(5);
//                tax = rs_BillHD.getString(9);
//                grandTotal = rs_BillHD.getString(8);
//                user = rs_BillHD.getString(12);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//            //print card available balance
//            String isSttled = "select strBillNo from " + billSettlementdtl + " where strBillNo='" + billNo + "';  ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//            if (transType.equals("Void"))
//            {
//                String reasonName = "select a.strReasonName "
//                        + "from tblvoidbillhd a "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//
//            if (clsGlobalVarClass.gCMSIntegrationYN)
//            {
//                sql = "select b.strCustomerCode,b.strCustomerName from " + billhd + " a,tblcustomermaster b "
//                        + " where a.strCustomerCode=b.strCustomerCode and a.strBillNo='" + billNo + "'";
//                rsBillPrint = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsBillPrint.next())
//                {
//                    BillOut.write("  Member Code : ");
//                    BillOut.write(rsBillPrint.getString(1));
//                    BillOut.newLine();
//                    BillOut.write("  Member Name : ");
//                    BillOut.write(rsBillPrint.getString(2));
//                    BillOut.newLine();
//                }
//                rsBillPrint.close();
//            }
//
//            BillOut.write(Line);
//            ////////////////////////llllllllll/////////////////////////////
//
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage,a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b where a.strAdvBookingNo=b.strAdvBookingNo "
//                    + "and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(Line);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//                int strlenMsg = msg.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = msg.substring(0, strlenMsg);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(0, 27);
//                        BillOut.write("  MESSAGE     :" + msg1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = msg.substring(i, endmsg);
//                            i = endmsg;
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(i, strlenMsg);
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//                //////////////////////////////////////////////////
//
//                int strlenShape = shape.length();
//                if (strlenShape > 0)
//                {
//
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = shape.substring(0, strlenShape);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(0, 27);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = shape.substring(j, endShape);
//                            j = endShape;
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(j, strlenShape);
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                BillOut.newLine();
//                BillOut.write(Line);
//            }
//            /////////////////////////lllllllll////////////////////////////
//
//            BillOut.newLine();
//            BillOut.write("      QTY  ITEM NAME                  AMT");
//            BillOut.newLine();
//            BillOut.write(Line);
//            BillOut.newLine();
//
//            String SQL_BillDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount),strItemCode,strKOTNo "
//                    + "from " + billdtl + " where strBillNo=? and tdhYN='N' group by strItemCode ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//
//                double amount = Double.parseDouble(rs_BillDtl.getString(3));
//                amount = Double.parseDouble(objFormat.format(amount));
//                funWriteToText(BillOut, rs_BillDtl.getString(1), rs_BillDtl.getString(2).toUpperCase(), String.valueOf(amount), "Format1");
//                BillOut.newLine();
//                String sqlModifier = "select count(*) "
//                        + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    sqlModifier += " and  dblAmount !=0.00 ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                pst.setString(1, billNo);
//                pst.setString(2, rs_BillDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format1");
//                        BillOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//
//                }
//            }
//            rs_BillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, BillOut,4);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(Line);
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sql_CRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format1");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " and b.strTaxCalculation='Forward' "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//
//            funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format1");
//            BillOut.newLine();
//
//            sql = "select a.dblDiscPer,a.dblDiscAmt,a.strDiscOnType,a.strDiscOnValue "
//                    + "from " + billDscFrom + " a "
//                    + "where a.strBillNo='" + billNo + "' ";
//
//            ResultSet rsDisc = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            boolean flag = true;
//            while (rsDisc.next())
//            {
//                if (flag)
//                {
//                    flag = false;
//                    BillOut.write("  DISCOUNT");
//                    BillOut.newLine();
//                }
//                double dbl = Double.parseDouble(rsDisc.getString("dblDiscPer"));
//                String discText = String.format("%.1f", dbl) + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                if (discText.length() > 31)
//                {
//                    discText = discText.substring(0, 31);
//                }
//                else
//                {
//                    discText = String.format("%-31s", discText);
//                }
//                BillOut.write("  " + discText);
//                String discountOnItem = objUtility.funPrintTextWithAlignment(rsDisc.getString("dblDiscAmt"), 8, "Right");
//                BillOut.write(discountOnItem);
//                BillOut.newLine();
//            }
//
//            /*
//             * if (tax.trim().length() > 0 && !"0.00".equalsIgnoreCase(tax)) {
//             * funWriteTotal("TAX", tax, BillOut); BillOut.newLine(); }
//             */
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format1");
//                BillOut.newLine();
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            BillOut.write(Line);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format1");
//            BillOut.newLine();
//            BillOut.write(Line);
//            BillOut.newLine();
//            //settlement breakup part
//            String SQL_Settlement_Breakup = "select a.dblSettlementAmt ,b.strSettelmentDesc from " + billSettlementdtl + " a ,"
//                    + "tblsettelmenthd b where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_Settlement_Breakup);
//
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format1");
//
//                BillOut.newLine();
//            }
//            rs_Bill_Settlement.close();
//
//            String sqlCardDtl = "select a.strCardNo,b.dblTransactionAmt,a.dblRedeemAmt "
//                    + " from tbldebitcardmaster a ,tbldebitcardbilldetails b "
//                    + " where a.strCardNo=b.strCardNo and b.strBillNo='" + billNo + "' ";
//            ResultSet rsCardDtl = clsGlobalVarClass.dbMysql.executeResultSet(sqlCardDtl);
//            if (rsCardDtl.next())
//            {
//                BillOut.write(Line);
//                BillOut.newLine();
//                BillOut.write("Card No     : " + rsCardDtl.getString(1));
//                BillOut.newLine();
//                BillOut.write("Balance Amt : " + rsCardDtl.getString(3));
//                BillOut.newLine();
//            }
//            rsCardDtl.close();
//
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(Line);
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//            //footer part
//
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                BillOut.newLine();
//            }
//
//            BillOut.newLine();
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//            BillOut.newLine();
//
//            funPrintBlankSpace(user, BillOut);
//            BillOut.write(user);
//
//            for (int i = 0; i < 5; i++)
//            {
//                BillOut.newLine();
//            }
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else if ("Star".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write(" P ");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateTextFileBillPrintingForFormat10(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        try
//        {
//            String user = "";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billDscFrom = "tblbilldiscdtl";
//            String billPromoDtl;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String discount = "";
//            String tax = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            boolean flag_DirectBiller = false;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName"
//                        + " ,a.strStreetName,a.strLandmark,a.strArea,a.strCity,a.longMobileNo,b.strAddress "
//                        + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                        + " on a.strBuldingCode=b.strBuildingCode "
//                        + " where a.strCustomerCode=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//                    if (null != rs_CustomerDtl.getString(8) && rs_CustomerDtl.getString(8).trim().length() > 0)
//                    {
//                        BillOut.write("  ADDRESS1   :" + rs_CustomerDtl.getString(8).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS2   :" + add1.toUpperCase());
//                        BillOut.newLine();
//
//                    }
//                    //add1=add.substring(len,56);
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(5).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(7));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    pst.setString(1, rs_HomeDelivery.getString(3));
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    if (rs_DeliveryBoyDtl.next())
//                    {
//                        BillOut.write("  DELV BOY  :" + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                    }
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                /*
//                 * BillOut.write(" DELV TIME :" +
//                 * rs_HomeDelivery.getString(4).toUpperCase());
//                 * BillOut.newLine();
//                 */
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//            rs_HomeDelivery.close();
//            funPrintTakeAway(billhd, billNo, BillOut, 4);
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("TAX INVOICE", BillOut);
//                BillOut.write("TAX INVOICE");
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//            BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                BillOut.newLine();
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated "
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer ,c.strCustomerName,c.longMobileNo"
//                        + ",strTakeAwayRemarks "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tblcustomermaster c on c.strCustomerCode=a.strCustomerCode "
//                        + "where a.strBillNo=?  ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated "
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=? and b.strOperational='Y'  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//                tabNo = rs_BillHD.getString(1);
//
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    rsQuery.next();
//                    waiterName = rsQuery.getString(1);
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                rsTblName.next();
//                tblName = rsTblName.getString(1);
//                rsTblName.close();
//                pst.close();
//            }
//
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(Line);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                //BillOut.write("  ");
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(1)));
//                BillOut.newLine();
//                if (clsGlobalVarClass.gRemarksOnTakeAway)
//                {
//                    if (!rs_BillHD.getObject(16).equals(""))
//                    {
//                        BillOut.write("  Cust Name   : ");
//                        BillOut.write(rs_BillHD.getString(16));
//                        BillOut.newLine();
//                    }
//                }
//
//                subTotal = rs_BillHD.getString(4);
//                discount = rs_BillHD.getString(3);
//                tax = rs_BillHD.getString(7);
//                grandTotal = rs_BillHD.getString(6);
//                user = rs_BillHD.getString(10);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//
//                BillOut.write(Line);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//
//                subTotal = rs_BillHD.getString(6);
//                discount = rs_BillHD.getString(5);
//                tax = rs_BillHD.getString(9);
//                grandTotal = rs_BillHD.getString(8);
//                user = rs_BillHD.getString(12);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//            //print card available balance
//            String isSttled = "select strBillNo from " + billSettlementdtl + " where strBillNo='" + billNo + "';  ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//            if (transType.equals("Void"))
//            {
//                String reasonName = "select a.strReasonName "
//                        + "from tblvoidbillhd a "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//
//            if (clsGlobalVarClass.gCMSIntegrationYN)
//            {
//                sql = "select b.strCustomerCode,b.strCustomerName from " + billhd + " a,tblcustomermaster b "
//                        + " where a.strCustomerCode=b.strCustomerCode and a.strBillNo='" + billNo + "'";
//                rsBillPrint = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsBillPrint.next())
//                {
//                    BillOut.write("  Member Code : ");
//                    BillOut.write(rsBillPrint.getString(1));
//                    BillOut.newLine();
//                    BillOut.write("  Member Name : ");
//                    BillOut.write(rsBillPrint.getString(2));
//                    BillOut.newLine();
//                }
//                rsBillPrint.close();
//            }
//
//            BillOut.write(Line);
//            ////////////////////////llllllllll/////////////////////////////
//
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage,a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b where a.strAdvBookingNo=b.strAdvBookingNo "
//                    + "and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(Line);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//                int strlenMsg = msg.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = msg.substring(0, strlenMsg);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(0, 27);
//                        BillOut.write("  MESSAGE     :" + msg1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = msg.substring(i, endmsg);
//                            i = endmsg;
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(i, strlenMsg);
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//                //////////////////////////////////////////////////
//
//                int strlenShape = shape.length();
//                if (strlenShape > 0)
//                {
//
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = shape.substring(0, strlenShape);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(0, 27);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = shape.substring(j, endShape);
//                            j = endShape;
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(j, strlenShape);
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                BillOut.newLine();
//                BillOut.write(Line);
//            }
//            /////////////////////////lllllllll////////////////////////////
//
//            BillOut.newLine();
//            BillOut.write("      QTY  ITEM NAME                  AMT");
//            BillOut.newLine();
//            BillOut.write(Line);
//            BillOut.newLine();
//
//            String sqlGroupName = "select b.strItemType "
//                    + " from " + billdtl + " a\n"
//                    + " left outer join tblitemmaster b on a.strItemCode=b.strItemCode\n"
//                    + " where a.strBillNo=? and a.tdhYN='N' \n"
//                    + " group by b.strItemType,a.strItemCode \n"
//                    + " order by b.strItemType,a.strItemCode ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlGroupName);
//            pst.setString(1, billNo);
//            ResultSet rsItemType = pst.executeQuery();
//            String itemType = "";
//            if (rsItemType.next())
//            {
//                itemType = rsItemType.getString(1);
//            }
//            String SQL_BillDtl = "select SUM(a.dblQuantity),a.strItemName,SUM(a.dblAmount),a.strItemCode,a.strKOTNo "
//                    + ",ifnull(b.strItemType,'')\n"
//                    + " from " + billdtl + " a\n"
//                    + " left outer join tblitemmaster b on a.strItemCode=b.strItemCode\n"
//                    + " where a.strBillNo=? and a.tdhYN='N' \n"
//                    + " group by b.strItemType,a.strItemCode \n"
//                    + " order by b.strItemType,a.strItemCode ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//
//            itemType = "";
//            String itemTypeHeadingPrefix = "  ---------------";
//            String itemtypeHeadingSuffix = "-----------------------";
//            double itemTypeTotal = 0.00;
//            int f = 0;
//            while (rs_BillDtl.next())
//            {
//                if (!rs_BillDtl.getString(6).equalsIgnoreCase(itemType))
//                {
//                    if (f > 0)
//                    {
//                        BillOut.write(Line);
//                        BillOut.newLine();
//                        funWriteTotal(itemType + " TOTAL", String.valueOf(itemTypeTotal), BillOut, "Format1");
//                        BillOut.newLine();
//                        itemTypeTotal = 0;
//                    }
//                    itemType = rs_BillDtl.getString(6);
//                    int itemTypeLength = itemType.length();
//                    BillOut.write(itemTypeHeadingPrefix + itemType + itemtypeHeadingSuffix.substring(itemTypeLength));
//                    BillOut.newLine();
//                    f = 1;
//                }
//
//                double amount = Double.parseDouble(rs_BillDtl.getString(3));
//                itemTypeTotal = itemTypeTotal + amount;
//                amount = Double.parseDouble(objFormat.format(amount));
//                funWriteToText(BillOut, rs_BillDtl.getString(1), rs_BillDtl.getString(2).toUpperCase(), String.valueOf(amount), "Format1");
//                BillOut.newLine();
//                String sqlModifier = "select count(*) "
//                        + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    sqlModifier += " and  dblAmount !=0.00 ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                pst.setString(1, billNo);
//                pst.setString(2, rs_BillDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    String SQL_ModifierDtl = " SELECT b.strModifierName,b.dblQuantity,b.dblAmount,a.strDefaultModifier,b.strDefaultModifierDeselectedYN  "
//                            + " FROM " + billModifierdtl + " b,tblitemmodofier a "
//                            + " WHERE "
//                            + " a.strItemCode=left(b.strItemCode,7) "
//                            + " and a.strModifierCode=b.strModifierCode "
//                            + " and b.strBillNo=? AND LEFT(b.strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        SQL_ModifierDtl += " and b.dblAmount !=0.00 ;";
//                    }
//
//                    SQL_ModifierDtl = "select strModifierName,dblQuantity,dblAmount "
//                            + " from " + billModifierdtl + " "
//                            + " where strBillNo=? and left(strItemCode,7)=? "
//                            + " and strModifierCode='M99' ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        SQL_ModifierDtl += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format6");
//                        BillOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//                }
//            }
//            BillOut.write(Line);
//            BillOut.newLine();
//            funWriteTotal(itemType + " TOTAL", String.valueOf(itemTypeTotal), BillOut, "Format1");
//            BillOut.newLine();
//
//            rs_BillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, BillOut,4);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(Line);
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sql_CRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format1");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " and b.strTaxCalculation='Forward' "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//
//            funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format1");
//            BillOut.newLine();
//
//            sql = "select a.dblDiscPer,a.dblDiscAmt,a.strDiscOnType,a.strDiscOnValue "
//                    + "from " + billDscFrom + " a "
//                    + "where a.strBillNo='" + billNo + "' ";
//            System.out.println(sql);
//
//            ResultSet rsDisc = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            boolean flag = true;
//            while (rsDisc.next())
//            {
//                if (flag)
//                {
//                    flag = false;
//                    BillOut.write("  DISCOUNT");
//                    BillOut.newLine();
//                }
//                double dbl = Double.parseDouble(rsDisc.getString("dblDiscPer"));
//                String discText = String.format("%.1f", dbl) + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                if (discText.length() > 31)
//                {
//                    discText = discText.substring(0, 31);
//                }
//                else
//                {
//                    discText = String.format("%-31s", discText);
//                }
//                BillOut.write("  " + discText);
//                String discountOnItem = objUtility.funPrintTextWithAlignment(rsDisc.getString("dblDiscAmt"), 8, "Right");
//                BillOut.write(discountOnItem);
//                BillOut.newLine();
//            }
//
//            /*
//             * if (tax.trim().length() > 0 && !"0.00".equalsIgnoreCase(tax)) {
//             * funWriteTotal("TAX", tax, BillOut); BillOut.newLine(); }
//             */
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format1");
//                BillOut.newLine();
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format1");
//                BillOut.newLine();
//            }
//
//            BillOut.write(Line);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format1");
//            BillOut.newLine();
//            BillOut.write(Line);
//            BillOut.newLine();
//            //settlement breakup part
//            String SQL_Settlement_Breakup = "select a.dblSettlementAmt ,b.strSettelmentDesc "
//                    + " from " + billSettlementdtl + " a ,"
//                    + "tblsettelmenthd b where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_Settlement_Breakup);
//
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format1");
//                BillOut.newLine();
//            }
//            rs_Bill_Settlement.close();
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(Line);
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//            //footer part
//
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                BillOut.newLine();
//            }
//            BillOut.newLine();
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//            BillOut.newLine();
//
//            funPrintBlankSpace(user, BillOut);
//            BillOut.write(user);
//
//            for (int i = 0; i < 5; i++)
//            {
//                BillOut.newLine();
//            }
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else if ("Star".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write(" P ");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateTextFileBillPrintingForFormat11(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        clsUtility objUtility = new clsUtility();
//        String lineFor2Inch = "--------------------";
//        try
//        {
//            String user = "";
//            String customerCode = "";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billDscFrom = "tblbilldiscdtl";
//            String billPromoDtl;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File fileName = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            FileWriter objFileWriter = new FileWriter(fileName);
//            BufferedWriter objBillOut = new BufferedWriter(objFileWriter);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                //funPrintBlankSpace("[DUPLICATE]", objBillOut);
//                //objBillOut.write("[DUPLICATE]");
//                isReprint = true;
//                objBillOut.write(objUtility.funPrintTextWithAlignment("[DUPLICATE]", 20, "Center"));
//                objBillOut.newLine();
//            }
//
//            if (transType.equals("Void"))
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment("VOIDED BILL", 20, "Center"));
//                objBillOut.newLine();
//            }
//
//            boolean flgHomeDeliveryBill = false;
//            String sqlHomeDel = "select strBillNo,strCustomerCode,strDPCode,tmeTime "
//                    + "from tblhomedelivery where strBillNo='" + billNo + "' ;";
//            ResultSet rsHomeDelivery = clsGlobalVarClass.dbMysql.executeResultSet(sqlHomeDel);
//            if (rsHomeDelivery.next())
//            {
//                flgHomeDeliveryBill = true;
//                customerCode = rsHomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment("HOME DELIVERY", 20, "Center"));
//                    objBillOut.newLine();
//                }
//
//                String sqlCustDtl = "select a.strCustomerName,a.strBuildingName"
//                        + " ,a.strStreetName,a.strLandmark,a.strArea,a.strCity,a.longMobileNo,b.strAddress "
//                        + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                        + " on a.strBuldingCode=b.strBuildingCode "
//                        + " where a.strCustomerCode='" + customerCode + "' ;";
//                ResultSet rsCustomerDtl = clsGlobalVarClass.dbMysql.executeResultSet(sqlCustDtl);
//                while (rsCustomerDtl.next())
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment("NAME : ", 7, "Left"));
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(rsCustomerDtl.getString(1).toUpperCase(), 13, "Left"));
//                    objBillOut.newLine();
//
//                    if (null != rsCustomerDtl.getString(8) && rsCustomerDtl.getString(8).trim().length() > 0)
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment("CUSTOMER ADDRESS", 20, "Center"));
//                        objBillOut.newLine();
//
//                        if (rsCustomerDtl.getString(8).length() > 20)
//                        {
//                            List listTextToPrint = funGetTextWithSpecifiedSize(rsCustomerDtl.getString(8), 2);
//                            for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                            {
//                                objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Center"));
//                                objBillOut.newLine();
//                            }
//                        }
//                        else
//                        {
//                            objBillOut.write(objUtility.funPrintTextWithAlignment(rsCustomerDtl.getString(8), 20, "Center"));
//                            objBillOut.newLine();
//                        }
//                    }
//
//                    if (rsCustomerDtl.getString(2).length() > 20)
//                    {
//                        List listTextToPrint = funGetTextWithSpecifiedSize(rsCustomerDtl.getString(2), 2);
//                        for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                        {
//                            objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Center"));
//                            objBillOut.newLine();
//                        }
//                    }
//                    else
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment(rsCustomerDtl.getString(2), 20, "Center"));
//                        objBillOut.newLine();
//                    }
//
//                    if (rsCustomerDtl.getString(3).length() > 20)
//                    {
//                        List listTextToPrint = funGetTextWithSpecifiedSize(rsCustomerDtl.getString(3), 2);
//                        for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                        {
//                            objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Center"));
//                            objBillOut.newLine();
//                        }
//                    }
//                    else
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment(rsCustomerDtl.getString(3), 20, "Center"));
//                        objBillOut.newLine();
//                    }
//
//                    if (rsCustomerDtl.getString(4).length() > 20)
//                    {
//                        List listTextToPrint = funGetTextWithSpecifiedSize(rsCustomerDtl.getString(4), 2);
//                        for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                        {
//                            objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Center"));
//                            objBillOut.newLine();
//                        }
//                    }
//                    else
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment(rsCustomerDtl.getString(4), 20, "Center"));
//                        objBillOut.newLine();
//                    }
//
//                    if (rsCustomerDtl.getString(6).length() > 20)
//                    {
//                        List listTextToPrint = funGetTextWithSpecifiedSize(rsCustomerDtl.getString(6), 2);
//                        for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                        {
//                            objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Center"));
//                            objBillOut.newLine();
//                        }
//                    }
//                    else
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment(rsCustomerDtl.getString(6), 20, "Center"));
//                        objBillOut.newLine();
//                    }
//
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(rsCustomerDtl.getString(7), 20, "Center"));
//                    objBillOut.newLine();
//                }
//                rsCustomerDtl.close();
//
//                if (null != rsHomeDelivery.getString(3) && rsHomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String sqlHomeDelBoy = "select strDPName from tbldeliverypersonmaster "
//                            + "where strDPCode='" + rsHomeDelivery.getString(3) + "' ;";
//                    ResultSet rsDeliveryBoyDtl = clsGlobalVarClass.dbMysql.executeResultSet(sqlHomeDelBoy);
//                    if (rsDeliveryBoyDtl.next())
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment("DELV BOY :", 10, "Left"));
//                        objBillOut.write(objUtility.funPrintTextWithAlignment(rsDeliveryBoyDtl.getString(1), 10, "Left"));
//                    }
//                    objBillOut.newLine();
//                    rsDeliveryBoyDtl.close();
//                }
//
//                objBillOut.write(lineFor2Inch);
//                objBillOut.newLine();
//            }
//            rsHomeDelivery.close();
//
//            funPrintTakeAway(billhd, billNo, objBillOut, 2);
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment("TAX INVOICE", 20, "Center"));
//                objBillOut.newLine();
//            }
//
//            objBillOut.write(objUtility.funPrintTextWithAlignment(clsGlobalVarClass.gClientName, 20, "Center"));
//            objBillOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress1.length() > 20)
//            {
//                List listTextToPrint = funGetTextWithSpecifiedSize(clsGlobalVarClass.gClientAddress1, 2);
//                for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Center"));
//                    objBillOut.newLine();
//                }
//            }
//            else
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment(clsGlobalVarClass.gClientAddress1, 20, "Center"));
//                objBillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                if (clsGlobalVarClass.gClientAddress1.length() > 20)
//                {
//                    List listTextToPrint = funGetTextWithSpecifiedSize(clsGlobalVarClass.gClientAddress2, 2);
//                    for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Center"));
//                        objBillOut.newLine();
//                    }
//                }
//                else
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(clsGlobalVarClass.gClientAddress2, 20, "Center"));
//                    objBillOut.newLine();
//                }
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                if (clsGlobalVarClass.gClientAddress1.length() > 20)
//                {
//                    List listTextToPrint = funGetTextWithSpecifiedSize(clsGlobalVarClass.gClientAddress3, 2);
//                    for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Center"));
//                        objBillOut.newLine();
//                    }
//                }
//                else
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(clsGlobalVarClass.gClientAddress3, 20, "Center"));
//                    objBillOut.newLine();
//                }
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment(clsGlobalVarClass.gCityName, 20, "Center"));
//                objBillOut.newLine();
//            }
//
//            //objBillOut.write(objUtility.funPrintTextWithAlignment("TEL NO. : ", 10, "Left"));
//            if (clsGlobalVarClass.gClientTelNo.contains(","))
//            {
//                String[] arrTelNo = clsGlobalVarClass.gClientTelNo.split(",");
//                for (int cnt = 0; cnt < arrTelNo.length; cnt++)
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(arrTelNo[cnt], 20, "Left"));
//                    objBillOut.newLine();
//                }
//            }
//            else if (clsGlobalVarClass.gClientTelNo.contains("/"))
//            {
//                String[] arrTelNo = clsGlobalVarClass.gClientTelNo.split("/");
//                for (int cnt = 0; cnt < arrTelNo.length; cnt++)
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(arrTelNo[cnt], 20, "Left"));
//                    objBillOut.newLine();
//                }
//            }
//            else
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment(String.valueOf(clsGlobalVarClass.gClientTelNo), 20, "Left"));
//                objBillOut.newLine();
//            }
//
//            //objBillOut.write(objUtility.funPrintTextWithAlignment("EMAIL   : ", 10, "Left"));
//            objBillOut.write(objUtility.funPrintTextWithAlignment(String.valueOf(clsGlobalVarClass.gClientEmail), 20, "Left"));
//            objBillOut.newLine();
//
//            String query = "";
//            String sqlBillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsBillHd = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            double discPer = 0;
//            double discAmt = 0;
//            boolean flgDirectBillerBill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flgDirectBillerBill = true;
//                sqlBillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated "
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer ,c.strCustomerName,c.longMobileNo"
//                        + ",strTakeAwayRemarks "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tblcustomermaster c on c.strCustomerCode=a.strCustomerCode "
//                        + "where a.strBillNo='" + billNo + "'  ";
//                flgDirectBillerBill = true;
//                rsBillHd = clsGlobalVarClass.dbMysql.executeResultSet(sqlBillHD);
//                rsBillHd.next();
//                discAmt = rsBillHd.getDouble(3);
//                discPer = rsBillHd.getDouble(13);;
//            }
//            else
//            {
//                sqlBillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated "
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo='" + billNo + "' and b.strOperational='Y'  ";
//                rsBillHd = clsGlobalVarClass.dbMysql.executeResultSet(sqlBillHD);
//                rsBillHd.next();
//                tabNo = rsBillHd.getString(1);
//                discAmt = rsBillHd.getDouble(5);
//                discPer = rsBillHd.getDouble(15);;
//                if (rsBillHd.getString(2).equalsIgnoreCase("null") || rsBillHd.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rsBillHd.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo= '" + waiterNo + "';";
//                    ResultSet rsWaiter = clsGlobalVarClass.dbMysql.executeResultSet(query);
//                    if (rsWaiter.next())
//                    {
//                        waiterName = rsWaiter.getString(1);
//                    }
//                    rsWaiter.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo='" + tabNo + "' ;";
//                rsTblName = clsGlobalVarClass.dbMysql.executeResultSet(sqlTblName);
//                if (rsTblName.next())
//                {
//                    tblName = rsTblName.getString(1);
//                }
//                rsTblName.close();
//            }
//
//            if (flgDirectBillerBill)
//            {
//                objBillOut.write(lineFor2Inch);
//                objBillOut.newLine();
//
//                objBillOut.write(objUtility.funPrintTextWithAlignment("BILL NO : ", 10, "Left"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment(billNo, 10, "Left"));
//                objBillOut.newLine();
//
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                String date = ft.format(rsBillHd.getObject(1));
//                objBillOut.write(objUtility.funPrintTextWithAlignment("DATE    : ", 10, "Left"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment(date, 10, "Left"));
//                objBillOut.newLine();
//
//                if (clsGlobalVarClass.gRemarksOnTakeAway)
//                {
//                    if (!rsBillHd.getObject(16).equals(""))
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment("CUSTOMER: ", 10, "Left"));
//                        objBillOut.write(objUtility.funPrintTextWithAlignment(rsBillHd.getString(16).toUpperCase(), 10, "Left"));
//                        objBillOut.newLine();
//                    }
//                }
//                objBillOut.newLine();
//
//                subTotal = rsBillHd.getString(4);
//                user = rsBillHd.getString(10);
//                deliveryCharge = rsBillHd.getString(11);
//                advAmount = rsBillHd.getString(12);
//            }
//            else
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment("TABLE   : ", 10, "Left"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment(tblName, 10, "Left"));
//                objBillOut.newLine();
//
//                if (waiterName.trim().length() > 0)
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment("STEWARD : ", 10, "Left"));
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(waiterName, 10, "Left"));
//                    objBillOut.newLine();
//                }
//
//                objBillOut.write(lineFor2Inch);
//                objBillOut.newLine();
//
//                objBillOut.write(objUtility.funPrintTextWithAlignment("BILL NO : ", 10, "Left"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment(billNo, 10, "Left"));
//                objBillOut.newLine();
//
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                String date = ft.format(rsBillHd.getObject(3));
//                objBillOut.write(objUtility.funPrintTextWithAlignment("DATE    : ", 10, "Left"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment(date, 10, "Left"));
//                objBillOut.newLine();
//
//                subTotal = rsBillHd.getString(6);
//                grandTotal = rsBillHd.getString(8);
//                user = rsBillHd.getString(12);
//                deliveryCharge = rsBillHd.getString(13);
//                advAmount = rsBillHd.getString(14);
//            }
//
//            /*
//             * if (clsGlobalVarClass.gCMSIntegrationYN) { sql = "select
//             * b.strCustomerCode,b.strCustomerName from " + billhd + "
//             * a,tblcustomermaster b " + " where
//             * a.strCustomerCode=b.strCustomerCode and a.strBillNo='" + billNo +
//             * "'"; rsBillPrint =
//             * clsGlobalVarClass.dbMysql.executeResultSet(sql); if
//             * (rsBillPrint.next()) { BillOut.write(" Member Code : ");
//             * BillOut.write(rsBillPrint.getString(1)); BillOut.newLine();
//             * BillOut.write(" Member Name : ");
//             * BillOut.write(rsBillPrint.getString(2)); BillOut.newLine(); }
//             * rsBillPrint.close(); } BillOut.write(Line);
//             */
//
//            /*
//             * String sqlAdvOrder = "select
//             * a.strAdvBookingNo,a.strMessage,a.strShape,a.strNote" + " from
//             * tbladvbookbillhd a, " + billhd + " b where
//             * a.strAdvBookingNo=b.strAdvBookingNo " + "and
//             * b.strBillNo='"+billNo+"' "; ResultSet rsAdvOrder =
//             * clsGlobalVarClass.dbMysql.executeResultSet(sqlAdvOrder); if
//             * (rsAdvOrder.next()) {
//             * objBillOut.write(objUtility.funPrintTextWithAlignment("ORDER
//             * DETAIL", 20, "Left")); objBillOut.newLine();
//             *
//             * objBillOut.write(Line); objBillOut.newLine();
//             *
//             * String msg = rsAdvOrder.getString(2).toUpperCase(); String shape
//             * = rsAdvOrder.getString(3).toUpperCase(); String note =
//             * rsAdvOrder.getString(4).toUpperCase(); int strlenMsg =
//             * msg.length(); if (strlenMsg > 0) { String msg1 = ""; if
//             * (strlenMsg < 27) { msg1 = msg.substring(0, strlenMsg);
//             * objBillOut.write(objUtility.funPrintTextWithAlignment("MESSAGE :
//             * ", 10, "Left"));
//             * objBillOut.write(objUtility.funPrintTextWithAlignment(msg1, 10,
//             * "Left")); objBillOut.newLine(); } else { msg1 = msg.substring(0,
//             * 27);
//             * objBillOut.write(objUtility.funPrintTextWithAlignment("MESSAGE :
//             * ", 10, "Left"));
//             * objBillOut.write(objUtility.funPrintTextWithAlignment(msg1, 10,
//             * "Left")); objBillOut.newLine(); BillOut.write(" MESSAGE :" +
//             * msg1); BillOut.newLine(); } for (int i = 27; i <= strlenMsg; i++)
//             * { int endmsg = 0; endmsg = i + 27; if (strlenMsg > endmsg) { msg1
//             * = msg.substring(i, endmsg); i = endmsg; BillOut.write(" " +
//             * msg1); BillOut.newLine(); } else { msg1 = msg.substring(i,
//             * strlenMsg); BillOut.write(" " + msg1); BillOut.newLine(); i =
//             * strlenMsg + 1; } } }
//             *
//             * int strlenShape = shape.length(); if (strlenShape > 0) {
//             *
//             * String shape1 = ""; if (strlenShape < 27) { shape1 =
//             * shape.substring(0, strlenShape); BillOut.write(" SHAPE :" +
//             * shape1); BillOut.newLine(); } else { shape1 = shape.substring(0,
//             * 27); BillOut.write(" SHAPE :" + shape1); BillOut.newLine(); } for
//             * (int j = 27; j <= strlenShape; j++) { int endShape = 0; endShape
//             * = j + 27; if (strlenShape > endShape) { shape1 =
//             * shape.substring(j, endShape); j = endShape; BillOut.write(" " +
//             * shape1); BillOut.newLine(); } else { shape1 = shape.substring(j,
//             * strlenShape); BillOut.write(" " + shape1); BillOut.newLine(); j =
//             * strlenShape + 1; } } } int strlenNote = note.length(); if
//             * (strlenNote > 0) {
//             *
//             * String note1 = ""; if (strlenNote < 27) { note1 =
//             * note.substring(0, strlenNote); BillOut.write(" NOTE :" + note1);
//             * BillOut.newLine(); } else { note1 = note.substring(0, 27);
//             * BillOut.write(" NOTE :" + note1); BillOut.newLine(); } for (int i
//             * = 27; i <= strlenNote; i++) { int endNote = 0; endNote = i + 27;
//             * if (strlenNote > endNote) { note1 = note.substring(i, endNote); i
//             * = endNote; BillOut.write(" " + note1); BillOut.newLine(); } else
//             * { note1 = note.substring(i, strlenNote); BillOut.write(" " +
//             * note1); BillOut.newLine(); i = strlenNote + 1; } } }
//             * BillOut.newLine(); BillOut.write(Line); }
//             */
//            objBillOut.write(lineFor2Inch);
//            objBillOut.newLine();
//            objBillOut.write(objUtility.funPrintTextWithAlignment("ITEM NAME", 20, "Left"));
//            objBillOut.newLine();
//            objBillOut.write(objUtility.funPrintTextWithAlignment(" QTY   RATE   AMOUNT", 20, "Left"));
//            objBillOut.newLine();
//            objBillOut.write(lineFor2Inch);
//            objBillOut.newLine();
//
//            String sqlGroupName = "select b.strItemType "
//                    + " from " + billdtl + " a "
//                    + " left outer join tblitemmaster b on a.strItemCode=b.strItemCode "
//                    + " where a.strBillNo='" + billNo + "' and a.tdhYN='N' "
//                    + " group by b.strItemType,a.strItemCode "
//                    + " order by b.strItemType,a.strItemCode ";
//            ResultSet rsItemType = clsGlobalVarClass.dbMysql.executeResultSet(sqlGroupName);
//            String itemType = "";
//            if (rsItemType.next())
//            {
//                itemType = rsItemType.getString(1);
//            }
//            String sqlBillDtl = "select SUM(a.dblQuantity),a.strItemName,SUM(a.dblAmount),a.strItemCode,a.strKOTNo "
//                    + " ,b.strItemType,a.dblRate "
//                    + " from " + billdtl + " a "
//                    + " left outer join tblitemmaster b on a.strItemCode=b.strItemCode "
//                    + " where a.strBillNo='" + billNo + "' and a.tdhYN='N' "
//                    + " group by b.strItemType,a.strItemCode "
//                    + " order by b.strItemType,a.strItemCode ";
//            ResultSet rsBillDtl = clsGlobalVarClass.dbMysql.executeResultSet(sqlBillDtl);
//            itemType = "";
//            while (rsBillDtl.next())
//            {
//                double amount = rsBillDtl.getDouble(3);
//                amount = Double.parseDouble(objFormat.format(amount));
//
//                if (rsBillDtl.getString(2).toUpperCase().length() > 20)
//                {
//                    List listTextToPrint = funGetTextWithSpecifiedSize(rsBillDtl.getString(2).toUpperCase(), 2);
//                    for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                    {
//                        objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Left"));
//                        objBillOut.newLine();
//                    }
//                }
//                else
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(rsBillDtl.getString(2).toUpperCase(), 20, "Left"));
//                    objBillOut.newLine();
//                }
//
//                objBillOut.write(objUtility.funPrintTextWithAlignment(rsBillDtl.getString(1), 6, "Right"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment(rsBillDtl.getString(7), 7, "Right"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment(String.valueOf(amount), 7, "Right"));
//                objBillOut.newLine();
//
//                String sqlModifier = "select count(*) "
//                        + " from " + billModifierdtl + " "
//                        + " where strBillNo='" + billNo + "' and left(strItemCode,7)='" + rsBillDtl.getString(4) + "' ";
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    sqlModifier += " and  dblAmount !=0.00 ";
//                }
//                ResultSet rsModCount = clsGlobalVarClass.dbMysql.executeResultSet(sqlModifier);
//                rsModCount.next();
//                int cntRecord = rsModCount.getInt(1);
//                rsModCount.close();
//                if (cntRecord > 0)
//                {
//
//                    /*
//                     * String sqlModifierDtl = " SELECT
//                     * b.strModifierName,b.dblQuantity,b.dblAmount,a.strDefaultModifier"
//                     * + ",b.strDefaultModifierDeselectedYN,b.dblRate " + " FROM
//                     * " + billModifierdtl + " b,tblitemmodofier a " + " WHERE
//                     * a.strItemCode=left(b.strItemCode,7) and
//                     * a.strModifierCode=b.strModifierCode " + " and
//                     * b.strBillNo='" + billNo + "' AND LEFT(b.strItemCode,7)='"
//                     * + rsBillDtl.getString(4) + "' "; if
//                     * (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill) {
//                     * sqlModifierDtl += " and b.dblAmount !=0.00 ;"; }
//                     */
//                    String SQL_ModifierDtl = "select strModifierName,dblQuantity,dblAmount "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        SQL_ModifierDtl += " and  dblAmount !=0.00 ";
//                    }
//
//                    ResultSet rsModifierDtl = clsGlobalVarClass.dbMysql.executeResultSet(SQL_ModifierDtl);
//                    while (rsModifierDtl.next())
//                    {
//                        if (rsModifierDtl.getString(4).equalsIgnoreCase("N"))
//                        {
//                            if (rsModifierDtl.getString(1).toUpperCase().length() > 20)
//                            {
//                                List listTextToPrint = funGetTextWithSpecifiedSize(rsModifierDtl.getString(1).toUpperCase(), 2);
//                                for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                                {
//                                    objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Left"));
//                                    objBillOut.newLine();
//                                }
//                            }
//                            else
//                            {
//                                objBillOut.write(objUtility.funPrintTextWithAlignment(rsModifierDtl.getString(1).toUpperCase(), 20, "Left"));
//                                objBillOut.newLine();
//                            }
//
//                            objBillOut.write(objUtility.funPrintTextWithAlignment(rsModifierDtl.getString(2), 6, "Right"));
//                            objBillOut.write(objUtility.funPrintTextWithAlignment(rsModifierDtl.getString(6), 7, "Right"));
//                            objBillOut.write(objUtility.funPrintTextWithAlignment(rsModifierDtl.getString(3), 7, "Right"));
//                            objBillOut.newLine();
//                        }
//                    }
//                    rsModifierDtl.close();
//                }
//            }
//
//            rsBillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, objBillOut,2);  // Print Promotion Items in Bill for this billno.
//            objBillOut.write(lineFor2Inch);
//            objBillOut.newLine();
//
//            /*
//             * if (clsGlobalVarClass.gPointsOnBillPrint) { String sql_CRMPoints
//             * = "select b.dblPoints from tblbillhd a, tblcrmpoints b " + "where
//             * a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//             * ResultSet rsCRMPoints =
//             * clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints); if
//             * (rsCRMPoints.next()) { funWriteTotal("POINTS ",
//             * rsCRMPoints.getString(1), BillOut, "Format1"); }
//             * rsCRMPoints.close(); BillOut.newLine(); }
//             */
//            if (discAmt > 0)
//            {
//                //funWriteTotal("DISCOUNT  " + discPer + "%",String.valueOf(discAmt), objBillOut, "Format11");
//                objBillOut.write(String.format("%-12s", "DISC " + discPer + "%") + String.format("%8s", String.valueOf(discAmt)));
//                objBillOut.newLine();
//
//            }
//
//            objBillOut.write(objUtility.funPrintTextWithAlignment("SUB TOTAL", 10, "Left"));
//            objBillOut.write(objUtility.funPrintTextWithAlignment(subTotal, 10, "Right"));
//            objBillOut.newLine();
//
//            String sqlBillTaxDtl = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " and b.strTaxCalculation='Forward' "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sqlBillTaxDtl);
//            while (rsTax.next())
//            {
//                String taxDesc = rsTax.getString(1);
//                if (taxDesc.trim().length() > 10)
//                {
//                    taxDesc = taxDesc.trim().substring(0, 10);
//                }
//                objBillOut.write(objUtility.funPrintTextWithAlignment(taxDesc, 20, "Left"));
//                objBillOut.newLine();
//                objBillOut.write(objUtility.funPrintTextWithAlignment(rsTax.getString(2), 20, "Right"));
//                objBillOut.newLine();
//            }
//
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment("DEL CHARGE", 10, "Left"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment(deliveryCharge, 10, "Right"));
//                objBillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment("ADVANCE   ", 10, "Left"));
//                objBillOut.write(objUtility.funPrintTextWithAlignment(advAmount, 10, "Right"));
//                objBillOut.newLine();
//            }
//
//            objBillOut.write(lineFor2Inch);
//            objBillOut.newLine();
//
//            objBillOut.write(objUtility.funPrintTextWithAlignment("TOTAL     ", 10, "Left"));
//            objBillOut.write(objUtility.funPrintTextWithAlignment(grandTotal, 10, "Right"));
//            objBillOut.newLine();
//
//            objBillOut.write(lineFor2Inch);
//            objBillOut.newLine();
//
//            //settlement breakup part
//            String sqlBillSettlement = "select a.dblSettlementAmt ,b.strSettelmentDesc "
//                    + " from " + billSettlementdtl + " a ,tblsettelmenthd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strSettlementCode=b.strSettelmentCode";
//            ResultSet rsBillSettlementDtl = clsGlobalVarClass.dbMysql.executeResultSet(sqlBillSettlement);
//            while (rsBillSettlementDtl.next())
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment(rsBillSettlementDtl.getString(2), 20, "Left"));
//                objBillOut.newLine();
//                objBillOut.write(objUtility.funPrintTextWithAlignment(rsBillSettlementDtl.getString(1), 20, "Right"));
//                objBillOut.newLine();
//            }
//            rsBillSettlementDtl.close();
//
//            if (flgHomeDeliveryBill)
//            {
//                objBillOut.write(lineFor2Inch);
//                objBillOut.newLine();
//                String sqlHomeDelCount = "select count(*) from tblhomedelivery where strCustomerCode='" + customerCode + "'";
//                ResultSet rsCount = clsGlobalVarClass.dbMysql.executeResultSet(sqlHomeDelCount);
//                if (rsCount.next())
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment("CUST COUNT : ", 13, "Left"));
//                    objBillOut.newLine();
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(rsCount.getString(1), 7, "Right"));
//                    objBillOut.newLine();
//                    rsCount.close();
//                }
//            }
//
//            //footer part
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment("(INC. OF ALL TAXES)", 20, "Center"));
//                objBillOut.newLine();
//            }
//            objBillOut.newLine();
//
//            funPrintServiceVatNo(objBillOut, 4, billNo, billDate, billtaxdtl);
//
//            if (clsGlobalVarClass.gBillFooter.trim().length() > 20)
//            {
//                List listTextToPrint = funGetTextWithSpecifiedSize(clsGlobalVarClass.gBillFooter.trim(), 2);
//                for (int cnt = 0; cnt < listTextToPrint.size(); cnt++)
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment(listTextToPrint.get(cnt).toString(), 20, "Left"));
//                    objBillOut.newLine();
//                }
//            }
//            else
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment(clsGlobalVarClass.gBillFooter.trim(), 20, "Left"));
//                objBillOut.newLine();
//            }
//            /*
//             * int num = clsGlobalVarClass.gBillFooter.trim().length() / 20; int
//             * num1 = clsGlobalVarClass.gBillFooter.trim().length() % 20; int
//             * cnt1 = 0; for (int cnt = 0; cnt < num; cnt++) { String footer =
//             * clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 +
//             * 20));
//             * objBillOut.write(objUtility.funPrintTextWithAlignment(footer.trim(),
//             * 20, "Left")); objBillOut.newLine(); cnt1 += 10; }
//             * objBillOut.write(objUtility.funPrintTextWithAlignment(clsGlobalVarClass.gBillFooter.trim().substring(cnt1,
//             * (cnt1 + num1)).trim(), 20, "Left")); objBillOut.newLine();
//             */
//
//            objBillOut.write(objUtility.funPrintTextWithAlignment(user, 20, "Left"));
//            for (int i = 0; i < 5; i++)
//            {
//                objBillOut.newLine();
//            }
//
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                objBillOut.write(objUtility.funPrintTextWithAlignment("V", 20, "Left"));
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment("V", 20, "Left"));
//                }
//                else if ("Star".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment("P", 20, "Left"));
//                }
//                else
//                {
//                    objBillOut.write(objUtility.funPrintTextWithAlignment("m", 20, "Left"));
//                }
//            }
//            // BillOut.write("V");//Linux
//            rsBillHd.close();
//            objBillOut.close();
//            objFileWriter.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(fileName, formName, "");
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(fileName, formName, "");
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateTextFileBillPrintingForFormat12(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        String Linefor5 = "  --------------------------------------";
//        try
//        {
//
//            String user = "";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billDscFrom = "tblbilldiscdtl";
//            String billPromoDtl = "tblbillpromotiondtl";
//
//            billDate = billDate.split(" ")[0];
//
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String discount = "";
//            String tax = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            boolean flag_DirectBiller = false;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime,strCustAddressLine1 "
//                    + "from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "";
//
//                if (rs_HomeDelivery.getString(5).equals("Home"))
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName,a.strStreetName"
//                            + " ,a.strLandmark,a.strArea,a.strCity,a.intPinCode,a.longMobileNo "
//                            + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                            + " on a.strBuldingCode=b.strBuildingCode "
//                            + " where a.strCustomerCode=? ;";
//                }
//                else
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strOfficeBuildingName,a.strOfficeStreetName"
//                            + ",a.strOfficeLandmark,a.strOfficeArea,a.strOfficeCity,a.strOfficePinCode,a.longMobileNo "
//                            + " from tblcustomermaster a "
//                            + " where a.strCustomerCode=? ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//
//                    // Building Name    
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS1   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS1   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    // Street Name    
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    // Landmark Name    
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Area Name    
//                    if (rs_CustomerDtl.getString(5).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // City Name    
//                    if (rs_CustomerDtl.getString(6).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Pin Code    
//                    if (rs_CustomerDtl.getString(7).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(7).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Mobile No    
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(8));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String[] delBoys = rs_HomeDelivery.getString(3).split(",");
//                    StringBuilder strIN = new StringBuilder("(");
//                    for (int i = 0; i < delBoys.length; i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append("'" + delBoys[i] + "'");
//                        }
//                        else
//                        {
//                            strIN.append(",'" + delBoys[i] + "'");
//                        }
//                    }
//                    strIN.append(")");
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode IN " + strIN + " ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    strIN.setLength(0);
//                    for (int i = 0; rs_DeliveryBoyDtl.next(); i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append(rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                        else
//                        {
//                            strIN.append("," + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                    }
//                    BillOut.write("  DELV BOY  :" + strIN);
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//            else
//            {
//                sql = "select a.strCustomerName from tblcustomermaster a," + billhd + " b "
//                        + "where a.strCustomerCode=b.strCustomerCode and b.strBillNo='" + billNo + "' ";
//                ResultSet rsCustInfo = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsCustInfo.next())
//                {
//                    BillOut.write("  NAME      :" + rsCustInfo.getString(1).toUpperCase());
//                    BillOut.newLine();
//                }
//                rsCustInfo.close();
//            }
//            rs_HomeDelivery.close();
//
//            funPrintTakeAway(billhd, billNo, BillOut, 4);
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("TAX INVOICE", BillOut);
//                BillOut.write("TAX INVOICE");
//                BillOut.newLine();
//            }
//            if (clsGlobalVarClass.gClientCode.equals("047.001") && clsGlobalVarClass.gPOSCode.equals("P03"))
//            {
//                funPrintBlankSpace("SHRI SHAM CATERERS", BillOut);
//                BillOut.write("SHRI SHAM CATERERS");
//                BillOut.newLine();
//
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                funPrintBlankSpace(cAddr1, BillOut);
//                BillOut.write(cAddr1.toUpperCase());
//                BillOut.newLine();
//
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                funPrintBlankSpace(cAddr2, BillOut);
//                BillOut.write(cAddr2.toUpperCase());
//                BillOut.newLine();
//
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                funPrintBlankSpace(cAddr3, BillOut);
//                BillOut.write(cAddr3.toUpperCase());
//                BillOut.newLine();
//
//                String cAddr4 = "Approved Caterers of";
//                funPrintBlankSpace(cAddr4, BillOut);
//                BillOut.write(cAddr4.toUpperCase());
//                BillOut.newLine();
//
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                funPrintBlankSpace(cAddr5, BillOut);
//                BillOut.write(cAddr5.toUpperCase());
//                BillOut.newLine();
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("047.001") && clsGlobalVarClass.gPOSCode.equals("P02"))
//            {
//                funPrintBlankSpace("SHRI SHAM CATERERS", BillOut);
//                BillOut.write("SHRI SHAM CATERERS");
//                BillOut.newLine();
//
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                funPrintBlankSpace(cAddr1, BillOut);
//                BillOut.write(cAddr1.toUpperCase());
//                BillOut.newLine();
//
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                funPrintBlankSpace(cAddr2, BillOut);
//                BillOut.write(cAddr2.toUpperCase());
//                BillOut.newLine();
//
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                funPrintBlankSpace(cAddr3, BillOut);
//                BillOut.write(cAddr3.toUpperCase());
//                BillOut.newLine();
//
//                String cAddr4 = "Approved Caterers of";
//                funPrintBlankSpace(cAddr4, BillOut);
//                BillOut.write(cAddr4.toUpperCase());
//                BillOut.newLine();
//
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                funPrintBlankSpace(cAddr5, BillOut);
//                BillOut.write(cAddr5.toUpperCase());
//                BillOut.newLine();
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//                BillOut.newLine();
//
//                if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                    BillOut.newLine();
//                }
//
//                if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                    BillOut.newLine();
//                }
//
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//                BillOut.newLine();
//
//                if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                    BillOut.newLine();
//                }
//
//                if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                    BillOut.newLine();
//                }
//
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                    BillOut.newLine();
//                }
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer,c.strPOSName "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tblposmaster c on a.strPOSCode=c.strPOSCode "
//                        + "where a.strBillNo=?  ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer,d.strPOSName,a.intPaxNo "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "left outer join tblposmaster d on a.strPOSCode=d.strPOSCode "
//                        + "where a.strBillNo=? and b.strOperational='Y'  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//                tabNo = rs_BillHD.getString(1);
//
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    rsQuery.next();
//                    waiterName = rsQuery.getString(1);
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                rsTblName.next();
//                tblName = rsTblName.getString(1);
//                rsTblName.close();
//                pst.close();
//            }
//
//            // funPrintTakeAway(billhd, billNo, BillOut);
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(Linefor5);
//                BillOut.newLine();
//                BillOut.write("  POS         : ");
//                BillOut.write(rs_BillHD.getString(14));
//                BillOut.newLine();
//
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.newLine();
//
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(1)));
//                BillOut.newLine();
//
//                subTotal = rs_BillHD.getString(4);
//                discount = rs_BillHD.getString(3);
//                tax = rs_BillHD.getString(7);
//                grandTotal = rs_BillHD.getString(6);
//                user = rs_BillHD.getString(10);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//                BillOut.write(Linefor5);
//
//                BillOut.newLine();
//                BillOut.write("  POS         : ");
//                BillOut.write(rs_BillHD.getString(16));
//                BillOut.newLine();
//
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.newLine();
//
//                BillOut.write("  PAX NO.     : ");
//                BillOut.write(rs_BillHD.getString(17));
//                BillOut.newLine();
//
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//
//                subTotal = rs_BillHD.getString(6);
//                discount = rs_BillHD.getString(5);
//                tax = rs_BillHD.getString(9);
//                grandTotal = rs_BillHD.getString(8);
//                user = rs_BillHD.getString(12);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//            //print card available balance
//            String isSttled = "select strBillNo from " + billSettlementdtl + " where strBillNo='" + billNo + "';  ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//            if (transType.equals("Void"))
//            {
//                String reasonName = "select a.strReasonName "
//                        + "from tblvoidbillhd a "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//
//            if (clsGlobalVarClass.gCMSIntegrationYN)
//            {
//                sql = "select b.strCustomerCode,b.strCustomerName "
//                        + " from " + billhd + " a,tblcustomermaster b "
//                        + " where a.strCustomerCode=b.strCustomerCode "
//                        + " and a.strBillNo='" + billNo + "'";
//                rsBillPrint = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsBillPrint.next())
//                {
//                    BillOut.write("  Member Code : ");
//                    BillOut.write(rsBillPrint.getString(1));
//                    BillOut.newLine();
//                    BillOut.write("  Member Name : ");
//                    funWriteToTextMemberNameForFormat5(BillOut, rsBillPrint.getString(2), "Format5");
//                    BillOut.newLine();
//                }
//                rsBillPrint.close();
//            }
//            BillOut.write(Linefor5);
//            ////////////////////////llllllllll/////////////////////////////
//
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage"
//                    + ",a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b "
//                    + " where a.strAdvBookingNo=b.strAdvBookingNo "
//                    + "and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(Linefor5);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//                int strlenMsg = msg.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = msg.substring(0, strlenMsg);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = msg.substring(0, 27);
//                        BillOut.write("  MESSAGE     :" + msg1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = msg.substring(i, endmsg);
//                            i = endmsg;
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(i, strlenMsg);
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//                //////////////////////////////////////////////////
//
//                int strlenShape = shape.length();
//                if (strlenShape > 0)
//                {
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = shape.substring(0, strlenShape);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = shape.substring(0, 27);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = shape.substring(j, endShape);
//                            j = endShape;
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(j, strlenShape);
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                BillOut.newLine();
//                BillOut.write(Linefor5);
//            }
//            /////////////////////////lllllllll////////////////////////////
//
//            BillOut.newLine();
//            BillOut.write("     QTY ITEM NAME                  AMT");
//            BillOut.newLine();
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            String SQL_BillDtl = "select sum(a.dblQuantity),left(a.strItemName,22) as ItemLine1"
//                    + " ,MID(a.strItemName,23,LENGTH(a.strItemName)) as ItemLine2"
//                    + " ,sum(a.dblAmount),a.strItemCode,a.strKOTNo "
//                    + " from " + billdtl + " a "
//                    + " where a.strBillNo=? and a.tdhYN='N' "
//                    + " group by a.strItemCode ;";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//            pst.setString(1, billNo);
//
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                double saleQty = rs_BillDtl.getDouble(1);
//                String sqlPromoBills = "select dblQuantity from " + billPromoDtl + " "
//                        + " where strBillNo='" + billNo + "' and strItemCode='" + rs_BillDtl.getString(5) + "'";
//                ResultSet rsPromoItems = clsGlobalVarClass.dbMysql.executeResultSet(sqlPromoBills);
//                if (rsPromoItems.next())
//                {
//                    saleQty -= rsPromoItems.getDouble(1);
//                }
//                rsPromoItems.close();
//
//                //funPrintContentWithSpace("Right", rs_BillDtl.getString(1), 8, BillOut);//Qty Print
//                if (saleQty > 0)
//                {
//                    funPrintContentWithSpace("Right", String.valueOf(saleQty), 8, BillOut);//Qty Print
//                    BillOut.write(" ");
//                    funPrintContentWithSpace("Left", rs_BillDtl.getString(2), 22, BillOut);//Item Name
//                    funPrintContentWithSpace("Right", rs_BillDtl.getString(4), 9, BillOut);//Amount
//
//                    BillOut.newLine();
//                    if (rs_BillDtl.getString(3).trim().length() > 0)
//                    {
//                        BillOut.write("         " + rs_BillDtl.getString(3));
//                        BillOut.newLine();
//                    }
//
//                    String sqlModifier = "select count(*) "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(5));
//                    ResultSet rs_count = pst.executeQuery();
//                    rs_count.next();
//                    int cntRecord = rs_count.getInt(1);
//                    rs_count.close();
//                    if (cntRecord > 0)
//                    {
//                        sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                                + " from " + billModifierdtl + " "
//                                + " where strBillNo=? and left(strItemCode,7)=? ";
//                        if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                        {
//                            sqlModifier += " and  dblAmount !=0.00 ";
//                        }
//                        pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                        pst.setString(1, billNo);
//                        pst.setString(2, rs_BillDtl.getString(5));
//                        ResultSet rs_modifierRecord = pst.executeQuery();
//                        while (rs_modifierRecord.next())
//                        {
//                            funWriteToTextformat5(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format5");
//                            BillOut.newLine();
//                        }
//                        rs_modifierRecord.close();
//                    }
//                }
//            }
//            rs_BillDtl.close();
//
//            funPrintPromoItemsInBill(billNo, BillOut, 4, billPromoDtl);  // Print Promotion Items in Bill for this billno.
//
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sqlCRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sqlCRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format5");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//            funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format5");
//            BillOut.newLine();
//
//            sql = "select a.dblDiscPer,a.dblDiscAmt,a.strDiscOnType,a.strDiscOnValue "
//                    + "from " + billDscFrom + " a "
//                    + "where a.strBillNo='" + billNo + "' ";
//
//            ResultSet rsDisc = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            boolean flag = true;
//            while (rsDisc.next())
//            {
//                if (flag)
//                {
//                    flag = false;
//                    BillOut.write("  DISCOUNT");
//                    BillOut.newLine();
//                }
//                double dbl = Double.parseDouble(rsDisc.getString("dblDiscPer"));
//                String discText = String.format("%.1f", dbl) + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                if (discText.length() > 30)
//                {
//                    discText = discText.substring(0, 30);
//                }
//                else
//                {
//                    discText = String.format("%-30s", discText);
//                }
//                BillOut.write("  " + discText);
//                String discountOnItem = objUtility.funPrintTextWithAlignment(rsDisc.getString("dblDiscAmt"), 8, "Right");
//                BillOut.write(discountOnItem);
//                BillOut.newLine();
//            }
//
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format5");
//                BillOut.newLine();
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format5");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format5");
//                BillOut.newLine();
//            }
//
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format5");
//            BillOut.newLine();
//            //funPrintAmtInWords(Double.parseDouble(grandTotal), BillOut);
//
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//
//            //settlement breakup part
//            String sqlSettlementBreakup = "select a.dblSettlementAmt ,b.strSettelmentDesc "
//                    + " from " + billSettlementdtl + " a ,tblsettelmenthd b "
//                    + "where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlSettlementBreakup);
//
//            pst.setString(1, billNo);
//            boolean flgSettlement = false;
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format5");
//                BillOut.newLine();
//                flgSettlement = true;
//            }
//            rs_Bill_Settlement.close();
//            if (flgSettlement)
//            {
//                BillOut.write(Linefor5);
//            }
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(Linefor5);
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//
//            /**
//             * print Tax Nos
//             */
//            BillOut.newLine();
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//            BillOut.newLine();
//
//            funPrintBlankSpace(user, BillOut);
//            BillOut.write(user);
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    //Format 10 jasper report   
//    public void funGenerateBillForJasperFormat3(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//
//        HashMap hm = new HashMap();
//
//        clsUtility objUtility = new clsUtility();
//        String Linefor5 = "  --------------------------------------";
//        try
//        {
//
//            String user = "";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billDscFrom = "tblbilldiscdtl";
//            String billPromoDtl = "tblbillpromotiondtl";
//            String billType = " ";
//
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//
//                    String sql = "select count(strBillNo) from tblbillhd where strBillNo='" + billNo + "' ";
//                    ResultSet rsBillTable = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                    rsBillTable.next();
//                    int billCnt = rsBillTable.getInt(1);
//                    if (billCnt == 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            String subTotal = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            boolean flag_DirectBiller = false;
//
//            if (clsGlobalVarClass.gClientCode.equals("117.001"))
//            {
//                if (clsGlobalVarClass.gPOSCode.equals("P01"))
//                {
//                    hm.put("posWiseHeading", "THE PREM'S HOTEL");
//                }
//                else if (clsGlobalVarClass.gPOSCode.equals("P02"))
//                {
//                    hm.put("posWiseHeading", "SWIG");
//                }
//            }
//
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                hm.put("duplicate", "[DUPLICATE]");
//            }
//            if (transType.equals("Void"))
//            {
//                hm.put("voidedBill", "VOIDED BILL");
//            }
//
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime,strCustAddressLine1 "
//                    + "from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            List<clsBillDtl> listOfHomeDeliveryDtl = new ArrayList<>();
//            clsBillDtl objBillDtl = new clsBillDtl();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    billType = "HOME DELIVERY";
//                }
//                String SQL_CustomerDtl = "";
//
//                if (rs_HomeDelivery.getString(5).equals("Home"))
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName,a.strStreetName"
//                            + " ,a.strLandmark,a.strArea,a.strCity,a.intPinCode,a.longMobileNo "
//                            + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                            + " on a.strBuldingCode=b.strBuildingCode "
//                            + " where a.strCustomerCode=? ;";
//                }
//                else
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strOfficeBuildingName,a.strOfficeStreetName"
//                            + ",a.strOfficeLandmark,a.strOfficeArea,a.strOfficeCity,a.strOfficePinCode,a.longMobileNo "
//                            + " from tblcustomermaster a "
//                            + " where a.strCustomerCode=? ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    hm.put("NAME", rs_CustomerDtl.getString(1));
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("Name         : " + rs_CustomerDtl.getString(1).toUpperCase());
//                    listOfHomeDeliveryDtl.add(objBillDtl);
//                    // Building Name 
//                    String fulAddress = "";
//                    String fulAddress1 = "";
//                    String fullAddress = "";
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        if (!add1.isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + add1;
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + add1;
//                            }
//                        }
//                        fulAddress += "ADDRESS    :" + add1.toUpperCase();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        if (!add1.isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + add1;
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + add1;
//                            }
//                        }
//                        fulAddress += "ADDRESS    :" + add1.toUpperCase();
//                        //objBillDtl.setStrItemName("ADDRESS    :"+add1.toUpperCase());
//                        // listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//
//                    // Street Name    
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            if (!street1.isEmpty())
//                            {
//                                if (fullAddress.isEmpty())
//                                {
//                                    fullAddress += " " + street1;
//                                }
//                                else
//                                {
//                                    fullAddress += "," + " " + street1;
//                                }
//
//                            }
//                            fulAddress += "Street    :" + street1.toUpperCase();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            if (!street1.isEmpty())
//                            {
//                                if (fullAddress.isEmpty())
//                                {
//                                    fullAddress += " " + street1;
//                                }
//                                else
//                                {
//                                    fullAddress += "," + " " + street1;
//                                }
//
//                                fulAddress += "Street    :" + street1.toUpperCase();
//                                i = streetlen + 1;
//                            }
//                        }
//                    }
//                    // Landmark Name    
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(4).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(4);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(4);
//                            }
//
//                        }
//                        fulAddress += "Landmark    :" + rs_CustomerDtl.getString(4).toUpperCase();
//                    }
//
//                    // Area Name    
//                    if (rs_CustomerDtl.getString(5).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(4).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(4);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(4);
//                            }
//                        }
//                    }
//
//                    // City Name    
//                    if (rs_CustomerDtl.getString(6).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(6).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(6);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(6);
//                            }
//                        }
//                        fulAddress1 += "City    :" + rs_CustomerDtl.getString(6).toUpperCase();
//                    }
//
//                    // Pin Code    
//                    if (rs_CustomerDtl.getString(7).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(7).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(7);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(7);
//                            }
//                        }
//                        fulAddress1 += "Pin    :" + rs_CustomerDtl.getString(7).toUpperCase();
//                    }
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("Address      : " + fullAddress);
//                    listOfHomeDeliveryDtl.add(objBillDtl);
//
//                    hm.put("FullAddress", fullAddress);
//                    if (rs_CustomerDtl.getString(8).isEmpty())
//                    {
//                        hm.put("MOBILE_NO", "");
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("MOBILE_NO  :" + " ");
//                        listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//                    else
//                    {
//                        hm.put("MOBILE_NO", rs_CustomerDtl.getString(8));
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("Mobile No    : " + rs_CustomerDtl.getString(8));
//                        listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//                }
//                rs_CustomerDtl.close();
//
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String[] delBoys = rs_HomeDelivery.getString(3).split(",");
//                    StringBuilder strIN = new StringBuilder("(");
//                    for (int i = 0; i < delBoys.length; i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append("'" + delBoys[i] + "'");
//                        }
//                        else
//                        {
//                            strIN.append(",'" + delBoys[i] + "'");
//                        }
//                    }
//                    strIN.append(")");
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode IN " + strIN + " ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    strIN.setLength(0);
//                    for (int i = 0; rs_DeliveryBoyDtl.next(); i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append(rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                        else
//                        {
//                            strIN.append("," + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                    }
//
//                    if (strIN.toString().isEmpty())
//                    {
//                        hm.put("DELV BOY", "");
//                    }
//                    else
//                    {
//                        hm.put("DELV BOY", "Delivery Boy : " + strIN);
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("Delivery Boy : " + strIN);
//                        listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//                    rs_DeliveryBoyDtl.close();
//                }
//                else
//                {
//                    hm.put("DELV BOY", "");
//                }
//            }
//            rs_HomeDelivery.close();
//            int result = funPrintTakeAwayForJasper(billhd, billNo);
//            if (result == 1)
//            {
//                billType = "Take Away";
//            }
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                hm.put("TAX_INVOICE", "TAX INVOICE");
//            }
//            if (clsGlobalVarClass.gClientCode.equals("047.001") && clsGlobalVarClass.gPOSCode.equals("P03"))
//            {
//                hm.put("ClientName", "SHRI SHAM CATERERS");
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                String cAddr4 = "Approved Caterers of";
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                hm.put("ClientAddress1", cAddr1 + cAddr2);
//                hm.put("ClientAddress2", cAddr3 + cAddr4);
//                hm.put("ClientAddress3", cAddr5);
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("047.001") && clsGlobalVarClass.gPOSCode.equals("P02"))
//            {
//                hm.put("ClientName", "SHRI SHAM CATERERS");
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                String cAddr4 = "Approved Caterers of";
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                hm.put("ClientAddress1", cAddr1 + cAddr2);
//                hm.put("ClientAddress2", cAddr3 + cAddr4);
//                hm.put("ClientAddress3", cAddr5);
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                hm.put("ClientName", "SSPL");
//                hm.put("ClientAddress1", clsGlobalVarClass.gClientAddress1);
//                hm.put("ClientAddress2", clsGlobalVarClass.gClientAddress2);
//                hm.put("ClientAddress3", clsGlobalVarClass.gClientAddress3);
//
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    hm.put("ClientCity", clsGlobalVarClass.gCityName);
//                }
//            }
//            else
//            {
//                hm.put("ClientName", clsGlobalVarClass.gClientName);
//                hm.put("ClientAddress1", clsGlobalVarClass.gClientAddress1);
//                hm.put("ClientAddress2", clsGlobalVarClass.gClientAddress2);
//                hm.put("ClientAddress3", clsGlobalVarClass.gClientAddress3);
//
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    hm.put("ClientCity", clsGlobalVarClass.gCityName);
//                }
//            }
//
//            hm.put("TEL NO", String.valueOf(clsGlobalVarClass.gClientTelNo));
//            hm.put("EMAIL ID", clsGlobalVarClass.gClientEmail);
//            hm.put("Line", Linefor5);
//
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            boolean flgComplimentaryBill = false;
//            String sql = "select b.strSettelmentType from " + billSettlementdtl + " a,tblsettelmenthd b "
//                    + " where a.strSettlementCode=b.strSettelmentCode and a.strBillNo='" + billNo + "' and b.strSettelmentType='Complementary' ";
//            ResultSet rsSettlementType = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            if (rsSettlementType.next())
//            {
//                flgComplimentaryBill = true;
//            }
//            rsSettlementType.close();
//
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer,c.strPOSName "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tblposmaster c on a.strPOSCode=c.strPOSCode "
//                        + "where a.strBillNo=?  ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer,d.strPOSName,a.intPaxNo "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "left outer join tblposmaster d on a.strPOSCode=d.strPOSCode "
//                        + "where a.strBillNo=? and b.strOperational='Y' ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                if (rs_BillHD.next())
//                {
//                    tabNo = rs_BillHD.getString(1);
//                    if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                    {
//                        waiterNo = "";
//                    }
//                    else
//                    {
//                        waiterNo = rs_BillHD.getString(2);
//                        query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                        pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                        pst.setString(1, waiterNo);
//                        rsQuery = pst.executeQuery();
//                        if (rsQuery.next())
//                        {
//                            waiterName = rsQuery.getString(1);
//                        }
//                        rsQuery.close();
//                        pst.close();
//                    }
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                if (rsTblName.next())
//                {
//                    tblName = rsTblName.getString(1);
//                }
//                rsTblName.close();
//                pst.close();
//            }
//
//            // funPrintTakeAway(billhd, billNo, BillOut);
//            List<clsBillDtl> listSubTotal = new ArrayList<>();
//
//            if (flag_DirectBillerBlill)
//            {
//                hm.put("POS", rs_BillHD.getString(14));
//                hm.put("BillNo", billNo);
//
//                if (clsGlobalVarClass.gPrintTimeOnBillYN)
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(1)));
//                }
//                else
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(1)));
//                }
//
//                subTotal = rs_BillHD.getString(4);
//
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setDblAmount(rs_BillHD.getDouble(4));;
//                listSubTotal.add(objBillDtl);
//
//                grandTotal = rs_BillHD.getString(6);
//                user = rs_BillHD.getString(10);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//            }
//            else
//            {
//                hm.put("TABLE NAME", tblName);
//
//                if (waiterName.trim().length() > 0)
//                {
//                    hm.put("waiterName", waiterName);
//                }
//                hm.put("POS", rs_BillHD.getString(16));
//                hm.put("BillNo", billNo);
//                hm.put("PaxNo", rs_BillHD.getString(17));
//
//                if (clsGlobalVarClass.gPrintTimeOnBillYN)
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(3)));
//                }
//                else
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(3)));
//                }
//
//                subTotal = rs_BillHD.getString(6);
//
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setDblAmount(rs_BillHD.getDouble(6));;
//                listSubTotal.add(objBillDtl);
//
//                grandTotal = rs_BillHD.getString(8);
//                user = rs_BillHD.getString(12);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//            }
//
//            List<clsBillDtl> listOfFoodBillDetail = new ArrayList<>();
//            List<clsBillDtl> listOfLiqourBillDetail = new ArrayList<>();
//            List<clsBillDtl> listGeneralBillDtl = new ArrayList<>();
//            String SQL_BillDtl = "select sum(a.dblQuantity),a.strItemName as ItemLine1"
//                    + " ,MID(a.strItemName,23,LENGTH(a.strItemName)) as ItemLine2"
//                    + " ,sum(a.dblAmount),a.strItemCode,a.strKOTNo,b.strItemType  "
//                    + " from " + billdtl + " a,tblitemmaster b  "
//                    + " where a.strBillNo=? "
//                    + " and a.strItemCode=b.strItemCode "
//                    + " and a.tdhYN='N' ";
//            if (!clsGlobalVarClass.gPrintOpenItemsOnBill)
//            {
//                SQL_BillDtl += "and a.dblAmount>0 ";
//            }
//            SQL_BillDtl += " group by a.strItemCode ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                String itemType = rs_BillDtl.getString(7);
//                if (itemType.equalsIgnoreCase("Food"))
//                {
//                    listGeneralBillDtl = listOfFoodBillDetail;
//                }
//                else
//                {
//                    listGeneralBillDtl = listOfLiqourBillDetail;
//                }
//
//                double saleQty = rs_BillDtl.getDouble(1);
//                String sqlPromoBills = "select dblQuantity from " + billPromoDtl + " "
//                        + " where strBillNo='" + billNo + "' and strItemCode='" + rs_BillDtl.getString(5) + "'";
//                ResultSet rsPromoItems = clsGlobalVarClass.dbMysql.executeResultSet(sqlPromoBills);
//                if (rsPromoItems.next())
//                {
//                    saleQty -= rsPromoItems.getDouble(1);
//                }
//                rsPromoItems.close();
//                if (saleQty > 0)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setDblQuantity(saleQty);
//                    objBillDtl.setDblAmount(rs_BillDtl.getDouble(4));
//                    objBillDtl.setStrItemName(rs_BillDtl.getString(2));
//                    listGeneralBillDtl.add(objBillDtl);
//
//                    String sqlModifier = "select count(*) "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(5));
//                    ResultSet rs_count = pst.executeQuery();
//                    rs_count.next();
//                    int cntRecord = rs_count.getInt(1);
//                    rs_count.close();
//                    if (cntRecord > 0)
//                    {
//                        sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                                + " from " + billModifierdtl + " "
//                                + " where strBillNo=? and left(strItemCode,7)=? ";
//                        if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                        {
//                            sqlModifier += " and  dblAmount !=0.00 ";
//                        }
//                        pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                        pst.setString(1, billNo);
//                        pst.setString(2, rs_BillDtl.getString(5));
//                        ResultSet rs_modifierRecord = pst.executeQuery();
//                        while (rs_modifierRecord.next())
//                        {
//                            if (flgComplimentaryBill)
//                            {
//                                objBillDtl = new clsBillDtl();
//                                objBillDtl.setDblQuantity(rs_modifierRecord.getDouble(2));
//                                objBillDtl.setDblAmount(0);
//                                objBillDtl.setStrItemName(rs_modifierRecord.getString(1).toUpperCase());
//                                listGeneralBillDtl.add(objBillDtl);
//                            }
//                            else
//                            {
//                                objBillDtl = new clsBillDtl();
//                                objBillDtl.setDblQuantity(rs_modifierRecord.getDouble(2));
//                                objBillDtl.setDblAmount(rs_modifierRecord.getDouble(3));
//                                objBillDtl.setStrItemName(rs_modifierRecord.getString(1).toUpperCase());
//                                listGeneralBillDtl.add(objBillDtl);
//                            }
//                        }
//                        rs_modifierRecord.close();
//                    }
//                }
//            }
//            rs_BillDtl.close();
//
//            funPrintPromoItemsInBill(billNo, 4, listGeneralBillDtl);  // Print Promotion Items in Bill for this billno.
//
//            List<clsBillDtl> listOfDiscountDtl = new ArrayList<>();
//            sql = "select a.dblDiscPer,a.dblDiscAmt,a.strDiscOnType,a.strDiscOnValue,b.strReasonName,a.strDiscRemarks "
//                    + "from " + billDscFrom + " a ,tblreasonmaster b "
//                    + "where  a.strDiscReasonCode=b.strReasonCode "
//                    + "and a.strBillNo='" + billNo + "' ";
//            ResultSet rsDisc = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//
//            boolean flag = true;
//            while (rsDisc.next())
//            {
//                if (flag)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("Discount");
//                    listOfDiscountDtl.add(objBillDtl);
//                    flag = false;
//                }
//                double dbl = Double.parseDouble(rsDisc.getString("dblDiscPer"));
//                String discText = String.format("%.1f", dbl) + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                if (discText.length() > 30)
//                {
//                    discText = discText.substring(0, 30);
//                }
//                else
//                {
//                    discText = String.format("%-30s", discText);
//                }
//
//                String discountOnItem = objUtility.funPrintTextWithAlignment(rsDisc.getString("dblDiscAmt"), 8, "Right");
//                hm.put("Discount", discText + " " + discountOnItem);
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName(discText);
//                objBillDtl.setDblAmount(rsDisc.getDouble("dblDiscAmt"));
//                listOfDiscountDtl.add(objBillDtl);
//
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName("Reason :" + " " + rsDisc.getString("strReasonName"));
//                listOfDiscountDtl.add(objBillDtl);
//
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName("Remark :" + " " + rsDisc.getString("strDiscRemarks"));
//                listOfDiscountDtl.add(objBillDtl);
//            }
//
//            List<clsBillDtl> listOfTaxDetail = new ArrayList<>();
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount),b.strBillNote "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//            while (rsTax.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setDblAmount(0);
//                    objBillDtl.setStrItemName(rsTax.getString(1));
//                    listOfTaxDetail.add(objBillDtl);
//                    hm.put("GSTNo", rsTax.getString(3));
//                }
//                else
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setDblAmount(rsTax.getDouble(2));
//                    objBillDtl.setStrItemName(rsTax.getString(1));
//                    listOfTaxDetail.add(objBillDtl);
//                    hm.put("GSTNo", rsTax.getString(3));
//                }
//            }
//            rsTax.close();
//            List<clsBillDtl> listOfGrandTotalDtl = new ArrayList<>();
//            if (Double.parseDouble(grandTotal) > 0)
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setDblAmount(Double.parseDouble(grandTotal));
//                listOfGrandTotalDtl.add(objBillDtl);
//            }
//
//            List<clsBillDtl> listOfSettlementDetail = new ArrayList<>();
//            //settlement breakup part
//            String sqlSettlementBreakup = "select a.dblSettlementAmt, b.strSettelmentDesc, b.strSettelmentType "
//                    + " from " + billSettlementdtl + " a ,tblsettelmenthd b "
//                    + "where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlSettlementBreakup);
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName(rs_Bill_Settlement.getString(2));
//                    objBillDtl.setDblAmount(0.00);
//                    listOfSettlementDetail.add(objBillDtl);
//                }
//                else
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName(rs_Bill_Settlement.getString(2));
//                    objBillDtl.setDblAmount(rs_Bill_Settlement.getDouble(1));
//                    listOfSettlementDetail.add(objBillDtl);
//                }
//            }
//            rs_Bill_Settlement.close();
//            String sqlTenderAmt = "select sum(dblPaidAmt),sum(dblSettlementAmt),(sum(dblPaidAmt)-sum(dblSettlementAmt)) RefundAmt "
//                    + " from " + billSettlementdtl + " where strBillNo='" + billNo + "' "
//                    + " group by strBillNo";
//            ResultSet rsTenderAmt = clsGlobalVarClass.dbMysql.executeResultSet(sqlTenderAmt);
//            if (rsTenderAmt.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("PAID AMT");
//                    objBillDtl.setDblAmount(0.00);
//                    listOfSettlementDetail.add(objBillDtl);
//                }
//                else
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("PAID AMT");
//                    objBillDtl.setDblAmount(rsTenderAmt.getDouble(1));
//                    listOfSettlementDetail.add(objBillDtl);
//                    if (rsTenderAmt.getDouble(3) > 0)
//                    {
//
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("REFUND AMT");
//                        objBillDtl.setDblAmount(rsTenderAmt.getDouble(3));
//                        listOfSettlementDetail.add(objBillDtl);
//                    }
//                }
//            }
//            rsTenderAmt.close();
//
//            if (flag_isHomeDelvBill)
//            {
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                hm.put("CUSTOMER_COUNT", rs_Count.getString(1));
//            }
//
//            List<clsBillDtl> listOfServiceVatDetail = funPrintServiceVatNoForJasper(billNo, billDate, billtaxdtl);
//            List<clsBillDtl> listOfFooterDtl = new ArrayList<>();
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName("THANK YOU AND VISIT AGAIN !!!");
//            listOfFooterDtl.add(objBillDtl);
//
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                hm.put("ch", "V");
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    hm.put("ch", "V");
//                }
//                else
//                {
//                    hm.put("ch", "m");
//                }
//            }
//
//            hm.put("BillType", billType);
//            hm.put("listOfFoodBillDetail", listOfFoodBillDetail);
//            hm.put("listOfLiqourBillDetail", listOfLiqourBillDetail);
//            hm.put("listOfTaxDtl", listOfTaxDetail);
//            hm.put("listOfGrandTotalDtl", listOfGrandTotalDtl);
//            hm.put("listOfServiceVatDetail", listOfServiceVatDetail);
//            hm.put("listOfFooterDtl", listOfFooterDtl);
//            hm.put("listOfHomeDeliveryDtl", listOfHomeDeliveryDtl);
//            hm.put("listOfDiscountDtl", listOfDiscountDtl);
//            hm.put("listOfSettlementDetail", listOfSettlementDetail);
//            hm.put("listSubToal", listSubTotal);
//
//            List<List<clsBillDtl>> listData = new ArrayList<>();
//            listData.add(listOfFoodBillDetail);
//
//            String reportName = "";
//            if (listOfHomeDeliveryDtl.size() > 0)
//            {
//                reportName = "com/POSGlobal/reports/rptBillFormat10ForHDJasperBillPrint.jasper";
//            }
//            else if (result == 1)
//            {
//                reportName = "com/POSGlobal/reports/rptBillFormat10ForHDJasperBillPrint.jasper";
//            }
//            else
//            {
//                reportName = "com/POSGlobal/reports/rptBillFormat10ForHDJasperBillPrint.jasper";
//            }
//            JRBeanCollectionDataSource beanColDataSource = new JRBeanCollectionDataSource(listData);
//            InputStream is = this.getClass().getClassLoader().getResourceAsStream(reportName);
//            JasperPrint print = JasperFillManager.fillReport(is, hm, beanColDataSource);
//
//            JRViewer viewer = new JRViewer(print);
//            JFrame jf = new JFrame();
//            jf.getContentPane().add(viewer);
//            jf.validate();
//            if (clsGlobalVarClass.gShowBill)
//            {
//                jf.setVisible(true);
//                jf.setSize(new Dimension(850, 750));
//                jf.setLocationRelativeTo(null);
//                jf.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
//            }
//
//            if (clsGlobalVarClass.gMultiBillPrint)
//            {
//                for (int i = 0; i < 2; i++)
//                {
//                    new Thread()
//                    {
//                        @Override
//                        public void run()
//                        {
//                            funPrintJasperExporterInThread(print);
//                        }
//                    }.start();
//                }
//            }
//            else
//            {
//                new Thread()
//                {
//                    @Override
//                    public void run()
//                    {
//                        funPrintJasperExporterInThread(print);
//                    }
//                }.start();
//
//            }
//
////            JRPrintServiceExporter exporter = new JRPrintServiceExporter();
////
////            //--- Set print properties
////            PrintRequestAttributeSet printRequestAttributeSet = new HashPrintRequestAttributeSet();
////           printRequestAttributeSet.add(MediaSizeName.ISO_A4);
////         //   printRequestAttributeSet.add(MediaSizeName.MONARCH_ENVELOPE);
////            //----------------------------------------------------     
////            //printRequestAttributeSet.add(new Destination(new java.net.URI("file:d:/output/report.ps")));
////            //----------------------------------------------------     
////            PrintServiceAttributeSet printServiceAttributeSet = new HashPrintServiceAttributeSet();
////
////            String billPrinterName = clsGlobalVarClass.gBillPrintPrinterPort;
////
////            billPrinterName = billPrinterName.replaceAll("#", "\\\\");
////            printServiceAttributeSet.add(new PrinterName(billPrinterName, null));
////
////            //--- Set print parameters      
////            exporter.setParameter(JRExporterParameter.JASPER_PRINT, print);
////            exporter.setParameter(JRPrintServiceExporterParameter.PRINT_REQUEST_ATTRIBUTE_SET, printRequestAttributeSet);
////            exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE_ATTRIBUTE_SET, printServiceAttributeSet);
////            exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PAGE_DIALOG, Boolean.FALSE);
////            exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PRINT_DIALOG, Boolean.FALSE);
////
////            //--- Print the document
////            try
////            {
////                exporter.exportReport();
////            }
////            catch (JRException e)
////            {
////                e.printStackTrace();
////            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateBillForJasperFormat2(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        HashMap hm = new HashMap();
//
//        clsUtility objUtility = new clsUtility();
//        String Linefor5 = "  --------------------------------------";
//        try
//        {
//
//            String user = "";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billDscFrom = "tblbilldiscdtl";
//            String billPromoDtl = "tblbillpromotiondtl";
//            String billType = " ";
//
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//
//                    String sql = "select count(strBillNo) from tblbillhd where strBillNo='" + billNo + "' ";
//                    ResultSet rsBillTable = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                    rsBillTable.next();
//                    int billCnt = rsBillTable.getInt(1);
//                    if (billCnt == 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            String subTotal = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            boolean flag_DirectBiller = false;
//
//            if (clsGlobalVarClass.gClientCode.equals("117.001"))
//            {
//                if (clsGlobalVarClass.gPOSCode.equals("P01"))
//                {
//                    hm.put("posWiseHeading", "THE PREM'S HOTEL");
//                }
//                else if (clsGlobalVarClass.gPOSCode.equals("P02"))
//                {
//                    hm.put("posWiseHeading", "SWIG");
//                }
//            }
//
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                hm.put("duplicate", "[DUPLICATE]");
//            }
//            if (transType.equals("Void"))
//            {
//                hm.put("voidedBill", "VOIDED BILL");
//            }
//
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime,strCustAddressLine1 "
//                    + "from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            List<clsBillDtl> listOfHomeDeliveryDtl = new ArrayList<>();
//            clsBillDtl objBillDtl = new clsBillDtl();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    billType = "HOME DELIVERY";
//                }
//                String SQL_CustomerDtl = "";
//
//                if (rs_HomeDelivery.getString(5).equals("Home"))
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName,a.strStreetName"
//                            + " ,a.strLandmark,a.strArea,a.strCity,a.intPinCode,a.longMobileNo "
//                            + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                            + " on a.strBuldingCode=b.strBuildingCode "
//                            + " where a.strCustomerCode=? ;";
//                }
//                else
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strOfficeBuildingName,a.strOfficeStreetName"
//                            + ",a.strOfficeLandmark,a.strOfficeArea,a.strOfficeCity,a.strOfficePinCode,a.longMobileNo "
//                            + " from tblcustomermaster a "
//                            + " where a.strCustomerCode=? ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    hm.put("NAME", rs_CustomerDtl.getString(1));
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("Name         : " + rs_CustomerDtl.getString(1).toUpperCase());
//                    listOfHomeDeliveryDtl.add(objBillDtl);
//                    // Building Name 
//                    String fulAddress = "";
//                    String fulAddress1 = "";
//                    String fullAddress = "";
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        if (!add1.isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + add1;
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + add1;
//                            }
//                        }
//                        fulAddress += "ADDRESS    :" + add1.toUpperCase();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        if (!add1.isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + add1;
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + add1;
//                            }
//                        }
//                        fulAddress += "ADDRESS    :" + add1.toUpperCase();
//                        //objBillDtl.setStrItemName("ADDRESS    :"+add1.toUpperCase());
//                        // listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//
//                    // Street Name    
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            if (!street1.isEmpty())
//                            {
//                                if (fullAddress.isEmpty())
//                                {
//                                    fullAddress += " " + street1;
//                                }
//                                else
//                                {
//                                    fullAddress += "," + " " + street1;
//                                }
//
//                            }
//                            fulAddress += "Street    :" + street1.toUpperCase();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            if (!street1.isEmpty())
//                            {
//                                if (fullAddress.isEmpty())
//                                {
//                                    fullAddress += " " + street1;
//                                }
//                                else
//                                {
//                                    fullAddress += "," + " " + street1;
//                                }
//
//                                fulAddress += "Street    :" + street1.toUpperCase();
//                                i = streetlen + 1;
//                            }
//                        }
//                    }
//                    // Landmark Name    
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(4).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(4);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(4);
//                            }
//
//                        }
//                        fulAddress += "Landmark    :" + rs_CustomerDtl.getString(4).toUpperCase();
//                    }
//
//                    // Area Name    
//                    if (rs_CustomerDtl.getString(5).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(4).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(4);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(4);
//                            }
//                        }
//                    }
//
//                    // City Name    
//                    if (rs_CustomerDtl.getString(6).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(6).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(6);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(6);
//                            }
//                        }
//                        fulAddress1 += "City    :" + rs_CustomerDtl.getString(6).toUpperCase();
//                    }
//
//                    // Pin Code    
//                    if (rs_CustomerDtl.getString(7).trim().length() > 0)
//                    {
//                        if (!rs_CustomerDtl.getString(7).isEmpty())
//                        {
//                            if (fullAddress.isEmpty())
//                            {
//                                fullAddress += " " + rs_CustomerDtl.getString(7);
//                            }
//                            else
//                            {
//                                fullAddress += "," + " " + rs_CustomerDtl.getString(7);
//                            }
//                        }
//                        fulAddress1 += "Pin    :" + rs_CustomerDtl.getString(7).toUpperCase();
//                    }
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("Address      : " + fullAddress);
//                    listOfHomeDeliveryDtl.add(objBillDtl);
//
//                    hm.put("FullAddress", fullAddress);
//                    if (rs_CustomerDtl.getString(8).isEmpty())
//                    {
//                        hm.put("MOBILE_NO", "");
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("MOBILE_NO  :" + " ");
//                        listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//                    else
//                    {
//                        hm.put("MOBILE_NO", rs_CustomerDtl.getString(8));
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("Mobile No    : " + rs_CustomerDtl.getString(8));
//                        listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//                }
//                rs_CustomerDtl.close();
//
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String[] delBoys = rs_HomeDelivery.getString(3).split(",");
//                    StringBuilder strIN = new StringBuilder("(");
//                    for (int i = 0; i < delBoys.length; i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append("'" + delBoys[i] + "'");
//                        }
//                        else
//                        {
//                            strIN.append(",'" + delBoys[i] + "'");
//                        }
//                    }
//                    strIN.append(")");
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode IN " + strIN + " ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    strIN.setLength(0);
//                    for (int i = 0; rs_DeliveryBoyDtl.next(); i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append(rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                        else
//                        {
//                            strIN.append("," + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                    }
//
//                    if (strIN.toString().isEmpty())
//                    {
//                        hm.put("DELV BOY", "");
//                    }
//                    else
//                    {
//                        hm.put("DELV BOY", "Delivery Boy : " + strIN);
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("Delivery Boy : " + strIN);
//                        listOfHomeDeliveryDtl.add(objBillDtl);
//                    }
//                    rs_DeliveryBoyDtl.close();
//                }
//                else
//                {
//                    hm.put("DELV BOY", "");
//                }
//            }
//            rs_HomeDelivery.close();
//            int result = funPrintTakeAwayForJasper(billhd, billNo);
//            if (result == 1)
//            {
//                billType = "Take Away";
//            }
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                hm.put("TAX_INVOICE", "TAX INVOICE");
//            }
//            if (clsGlobalVarClass.gClientCode.equals("047.001") && clsGlobalVarClass.gPOSCode.equals("P03"))
//            {
//                hm.put("ClientName", "SHRI SHAM CATERERS");
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                String cAddr4 = "Approved Caterers of";
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                hm.put("ClientAddress1", cAddr1 + cAddr2);
//                hm.put("ClientAddress2", cAddr3 + cAddr4);
//                hm.put("ClientAddress3", cAddr5);
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("047.001") && clsGlobalVarClass.gPOSCode.equals("P02"))
//            {
//                hm.put("ClientName", "SHRI SHAM CATERERS");
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                String cAddr4 = "Approved Caterers of";
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                hm.put("ClientAddress1", cAddr1 + cAddr2);
//                hm.put("ClientAddress2", cAddr3 + cAddr4);
//                hm.put("ClientAddress3", cAddr5);
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                hm.put("ClientName", "SSPL");
//                hm.put("ClientAddress1", clsGlobalVarClass.gClientAddress1);
//                hm.put("ClientAddress2", clsGlobalVarClass.gClientAddress2);
//                hm.put("ClientAddress3", clsGlobalVarClass.gClientAddress3);
//
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    hm.put("ClientCity", clsGlobalVarClass.gCityName);
//                }
//            }
//            else
//            {
//                hm.put("ClientName", clsGlobalVarClass.gClientName);
//                hm.put("ClientAddress1", clsGlobalVarClass.gClientAddress1);
//                hm.put("ClientAddress2", clsGlobalVarClass.gClientAddress2);
//                hm.put("ClientAddress3", clsGlobalVarClass.gClientAddress3);
//
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    hm.put("ClientCity", clsGlobalVarClass.gCityName);
//                }
//            }
//
//            hm.put("TEL NO", String.valueOf(clsGlobalVarClass.gClientTelNo));
//            hm.put("EMAIL ID", clsGlobalVarClass.gClientEmail);
//            hm.put("Line", Linefor5);
//
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            boolean flgComplimentaryBill = false;
//            String sql = "select b.strSettelmentType from " + billSettlementdtl + " a,tblsettelmenthd b "
//                    + " where a.strSettlementCode=b.strSettelmentCode and a.strBillNo='" + billNo + "' and b.strSettelmentType='Complementary' ";
//            ResultSet rsSettlementType = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            if (rsSettlementType.next())
//            {
//                flgComplimentaryBill = true;
//            }
//            rsSettlementType.close();
//
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",ifnull(dblDeliveryCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer,c.strPOSName "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tblposmaster c on a.strPOSCode=c.strPOSCode "
//                        + "where a.strBillNo=?  ";
//                flag_DirectBiller = true;
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer,d.strPOSName,a.intPaxNo "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "left outer join tblposmaster d on a.strPOSCode=d.strPOSCode "
//                        + "where a.strBillNo=? and b.strOperational='Y' ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                if (rs_BillHD.next())
//                {
//                    tabNo = rs_BillHD.getString(1);
//                    if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                    {
//                        waiterNo = "";
//                    }
//                    else
//                    {
//                        waiterNo = rs_BillHD.getString(2);
//                        query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                        pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                        pst.setString(1, waiterNo);
//                        rsQuery = pst.executeQuery();
//                        if (rsQuery.next())
//                        {
//                            waiterName = rsQuery.getString(1);
//                        }
//                        rsQuery.close();
//                        pst.close();
//                    }
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                if (rsTblName.next())
//                {
//                    tblName = rsTblName.getString(1);
//                }
//                rsTblName.close();
//                pst.close();
//            }
//
//            // funPrintTakeAway(billhd, billNo, BillOut);
//            if (flag_DirectBillerBlill)
//            {
//                hm.put("POS", rs_BillHD.getString(14));
//                hm.put("BillNo", billNo);
//
//                if (clsGlobalVarClass.gPrintTimeOnBillYN)
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(1)));
//                }
//                else
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(1)));
//                }
//
//                subTotal = rs_BillHD.getString(4);
//                grandTotal = rs_BillHD.getString(6);
//                user = rs_BillHD.getString(10);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//            }
//            else
//            {
//                hm.put("TABLE NAME", tblName);
//
//                if (waiterName.trim().length() > 0)
//                {
//                    hm.put("waiterName", waiterName);
//                }
//                hm.put("POS", rs_BillHD.getString(16));
//                hm.put("BillNo", billNo);
//                hm.put("PaxNo", rs_BillHD.getString(17));
//
//                if (clsGlobalVarClass.gPrintTimeOnBillYN)
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(3)));
//                }
//                else
//                {
//                    SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                    hm.put("DATE_TIME", ft.format(rs_BillHD.getObject(3)));
//                }
//
//                subTotal = rs_BillHD.getString(6);
//                grandTotal = rs_BillHD.getString(8);
//                user = rs_BillHD.getString(12);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//            }
//
//            List<clsBillDtl> listOfBillDetail = new ArrayList<>();
//            String SQL_BillDtl = "select sum(a.dblQuantity),a.strItemName as ItemLine1"
//                    + " ,MID(a.strItemName,23,LENGTH(a.strItemName)) as ItemLine2"
//                    + " ,sum(a.dblAmount),a.strItemCode,a.strKOTNo,a.dblRate,sum(a.dblDiscountAmt)  "
//                    + " from " + billdtl + " a "
//                    + " where a.strBillNo=? and a.tdhYN='N' ";
//            if (!clsGlobalVarClass.gPrintOpenItemsOnBill)
//            {
//                SQL_BillDtl += "and a.dblAmount>0 ";
//            }
//            SQL_BillDtl += " group by a.strItemCode ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                double saleQty = rs_BillDtl.getDouble(1);
//                String sqlPromoBills = "select dblQuantity from " + billPromoDtl + " "
//                        + " where strBillNo='" + billNo + "' and strItemCode='" + rs_BillDtl.getString(5) + "' "
//                        + " and strPromoType='ItemWise' ";
//                ResultSet rsPromoItems = clsGlobalVarClass.dbMysql.executeResultSet(sqlPromoBills);
//                if (rsPromoItems.next())
//                {
//                    saleQty -= rsPromoItems.getDouble(1);
//                }
//                rsPromoItems.close();
//                if (saleQty > 0)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setDblQuantity(saleQty);
//                    objBillDtl.setDblAmount(rs_BillDtl.getDouble(4));
//                    objBillDtl.setStrItemName(rs_BillDtl.getString(2));
//                    objBillDtl.setDblRate(rs_BillDtl.getDouble(7));
//                    objBillDtl.setDblDiscountAmt(rs_BillDtl.getDouble(8));
//
//                    listOfBillDetail.add(objBillDtl);
//
//                    String sqlModifier = "select count(*) "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(5));
//                    ResultSet rs_count = pst.executeQuery();
//                    rs_count.next();
//                    int cntRecord = rs_count.getInt(1);
//                    rs_count.close();
//                    if (cntRecord > 0)
//                    {
//                        sqlModifier = "select strModifierName,dblQuantity,dblAmount,dblRate,dblDiscAmt "
//                                + " from " + billModifierdtl + " "
//                                + " where strBillNo=? and left(strItemCode,7)=? ";
//                        if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                        {
//                            sqlModifier += " and  dblAmount !=0.00 ";
//                        }
//                        pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//
//                        pst.setString(1, billNo);
//                        pst.setString(2, rs_BillDtl.getString(5));
//                        ResultSet rs_modifierRecord = pst.executeQuery();
//                        while (rs_modifierRecord.next())
//                        {
//                            if (flgComplimentaryBill)
//                            {
//                                objBillDtl = new clsBillDtl();
//                                objBillDtl.setDblQuantity(rs_modifierRecord.getDouble(2));
//                                objBillDtl.setDblAmount(0);
//                                objBillDtl.setStrItemName(rs_modifierRecord.getString(1).toUpperCase());
//                                objBillDtl.setDblRate(rs_modifierRecord.getDouble(4));
//                                objBillDtl.setDblDiscountAmt(rs_modifierRecord.getDouble(5));
//                                listOfBillDetail.add(objBillDtl);
//                            }
//                            else
//                            {
//                                objBillDtl = new clsBillDtl();
//                                objBillDtl.setDblQuantity(rs_modifierRecord.getDouble(2));
//                                objBillDtl.setDblAmount(rs_modifierRecord.getDouble(3));
//                                objBillDtl.setStrItemName(rs_modifierRecord.getString(1).toUpperCase());
//                                objBillDtl.setDblRate(rs_modifierRecord.getDouble(4));
//                                objBillDtl.setDblDiscountAmt(rs_modifierRecord.getDouble(5));
//                                listOfBillDetail.add(objBillDtl);
//                            }
//                        }
//                        rs_modifierRecord.close();
//                    }
//                }
//            }
//            rs_BillDtl.close();
//
//            funPrintPromoItemsInBill(billNo, 4, listOfBillDetail);  // Print Promotion Items in Bill for this billno.
//
//            List<clsBillDtl> listOfDiscountDtl = new ArrayList<>();
//            sql = "select a.dblDiscPer,a.dblDiscAmt,a.strDiscOnType,a.strDiscOnValue,b.strReasonName,a.strDiscRemarks "
//                    + "from " + billDscFrom + " a ,tblreasonmaster b "
//                    + "where  a.strDiscReasonCode=b.strReasonCode "
//                    + "and a.strBillNo='" + billNo + "' ";
//            ResultSet rsDisc = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//
//            boolean flag = true;
//            while (rsDisc.next())
//            {
//                if (flag)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("Discount");
//                    listOfDiscountDtl.add(objBillDtl);
//                    flag = false;
//                }
//                double dbl = Double.parseDouble(rsDisc.getString("dblDiscPer"));
//                String discText = String.format("%.1f", dbl) + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                if (discText.length() > 30)
//                {
//                    discText = discText.substring(0, 30);
//                }
//                else
//                {
//                    discText = String.format("%-30s", discText);
//                }
//
//                String discountOnItem = objUtility.funPrintTextWithAlignment(rsDisc.getString("dblDiscAmt"), 8, "Right");
//                hm.put("Discount", discText + " " + discountOnItem);
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName(discText);
//                objBillDtl.setDblAmount(rsDisc.getDouble("dblDiscAmt"));
//                listOfDiscountDtl.add(objBillDtl);
//
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName("Reason :" + " " + rsDisc.getString("strReasonName"));
//                listOfDiscountDtl.add(objBillDtl);
//
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName("Remark :" + " " + rsDisc.getString("strDiscRemarks"));
//                listOfDiscountDtl.add(objBillDtl);
//            }
//
//            List<clsBillDtl> listOfTaxDetail = new ArrayList<>();
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount),b.strBillNote "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//            while (rsTax.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setDblAmount(0);
//                    objBillDtl.setStrItemName(rsTax.getString(1));
//                    listOfTaxDetail.add(objBillDtl);
//                    hm.put("GSTNo", rsTax.getString(3));
//                }
//                else
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setDblAmount(rsTax.getDouble(2));
//                    objBillDtl.setStrItemName(rsTax.getString(1));
//                    listOfTaxDetail.add(objBillDtl);
//                    hm.put("GSTNo", rsTax.getString(3));
//                }
//            }
//            rsTax.close();
//            List<clsBillDtl> listOfGrandTotalDtl = new ArrayList<>();
//            if (Double.parseDouble(grandTotal) > 0)
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setDblAmount(Double.parseDouble(grandTotal));
//                listOfGrandTotalDtl.add(objBillDtl);
//            }
//
//            List<clsBillDtl> listOfSettlementDetail = new ArrayList<>();
//            //settlement breakup part
//            String sqlSettlementBreakup = "select a.dblSettlementAmt, b.strSettelmentDesc, b.strSettelmentType "
//                    + " from " + billSettlementdtl + " a ,tblsettelmenthd b "
//                    + "where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlSettlementBreakup);
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName(rs_Bill_Settlement.getString(2));
//                    objBillDtl.setDblAmount(0.00);
//                    listOfSettlementDetail.add(objBillDtl);
//                }
//                else
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName(rs_Bill_Settlement.getString(2));
//                    objBillDtl.setDblAmount(rs_Bill_Settlement.getDouble(1));
//                    listOfSettlementDetail.add(objBillDtl);
//                }
//            }
//            rs_Bill_Settlement.close();
//
//            String sqlTenderAmt = "select sum(dblPaidAmt),sum(dblSettlementAmt),(sum(dblPaidAmt)-sum(dblSettlementAmt)) RefundAmt "
//                    + " from " + billSettlementdtl + " where strBillNo='" + billNo + "' "
//                    + " group by strBillNo";
//            ResultSet rsTenderAmt = clsGlobalVarClass.dbMysql.executeResultSet(sqlTenderAmt);
//            if (rsTenderAmt.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("PAID AMT");
//                    objBillDtl.setDblAmount(0.00);
//                    listOfSettlementDetail.add(objBillDtl);
//                }
//                else
//                {
//                    objBillDtl = new clsBillDtl();
//                    objBillDtl.setStrItemName("PAID AMT");
//                    objBillDtl.setDblAmount(rsTenderAmt.getDouble(1));
//                    listOfSettlementDetail.add(objBillDtl);
//                    if (rsTenderAmt.getDouble(3) > 0)
//                    {
//
//                        objBillDtl = new clsBillDtl();
//                        objBillDtl.setStrItemName("REFUND AMT");
//                        objBillDtl.setDblAmount(rsTenderAmt.getDouble(3));
//                        listOfSettlementDetail.add(objBillDtl);
//                    }
//                }
//            }
//            rsTenderAmt.close();
//
//            if (flag_isHomeDelvBill)
//            {
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                hm.put("CUSTOMER_COUNT", rs_Count.getString(1));
//            }
//
//            String sql_count = "select b.longMobileNo,b.strCustomerName "
//                    + "from " + billhd + " a,tblcustomermaster b "
//                    + "where a.strCustomerCode=b.strCustomerCode "
//                    + "and a.strBillNo='" + billNo + "'; ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//            ResultSet rs_Count = pst.executeQuery();
//
//            List<clsBillDtl> listOfCustomerDtl = new ArrayList<>();
//            if (rs_Count.next())
//            {
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName("CUSTOMER NAME:" + rs_Count.getString(2));
//                listOfCustomerDtl.add(objBillDtl);
//                objBillDtl = new clsBillDtl();
//                objBillDtl.setStrItemName(rs_Count.getString(1));
//                listOfCustomerDtl.add(objBillDtl);
//                rs_Count.close();
//            }
//
//            List<clsBillDtl> listOfServiceVatDetail = funPrintServiceVatNoForJasper(billNo, billDate, billtaxdtl);
//            List<clsBillDtl> listOfFooterDtl = new ArrayList<>();
//            objBillDtl = new clsBillDtl();
//            objBillDtl.setStrItemName("THANK YOU AND VISIT AGAIN !!!");
//            listOfFooterDtl.add(objBillDtl);
//
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                hm.put("ch", "V");
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    hm.put("ch", "V");
//                }
//                else
//                {
//                    hm.put("ch", "m");
//                }
//            }
//
//            hm.put("BillType", billType);
//            hm.put("listOfItemDtl", listOfBillDetail);
//            hm.put("listOfTaxDtl", listOfTaxDetail);
//            hm.put("listOfGrandTotalDtl", listOfGrandTotalDtl);
//            hm.put("listOfServiceVatDetail", listOfServiceVatDetail);
//            hm.put("listOfFooterDtl", listOfFooterDtl);
//            hm.put("listOfHomeDeliveryDtl", listOfHomeDeliveryDtl);
//            hm.put("listOfDiscountDtl", listOfDiscountDtl);
//            hm.put("listOfSettlementDetail", listOfSettlementDetail);
//            hm.put("listOfCustomerDtl", listOfCustomerDtl);
//
//            List<List<clsBillDtl>> listData = new ArrayList<>();
//            listData.add(listOfBillDetail);
//
//            String reportName = "";
//            if (listOfHomeDeliveryDtl.size() > 0)
//            {
//                reportName = "com/POSGlobal/reports/rptBillFormat6ForJasperReport.jasper";
//            }
//            else if (result == 1)
//            {
//                reportName = "com/POSGlobal/reports/rptBillFormat6ForJasperReport.jasper";
//            }
//            else
//            {
//                reportName = "com/POSGlobal/reports/rptBillFormat6ForJasperReport.jasper";
//            }
//            JRBeanCollectionDataSource beanColDataSource = new JRBeanCollectionDataSource(listData);
//            InputStream is = this.getClass().getClassLoader().getResourceAsStream(reportName);
//            JasperPrint print = JasperFillManager.fillReport(is, hm, beanColDataSource);
//
//            JRViewer viewer = new JRViewer(print);
//            JFrame jf = new JFrame();
//            jf.getContentPane().add(viewer);
//            jf.validate();
//            if (clsGlobalVarClass.gShowBill)
//            {
//                jf.setVisible(true);
//                jf.setSize(new Dimension(850, 750));
//                jf.setLocationRelativeTo(null);
//                jf.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);
//            }
//            if (clsGlobalVarClass.gMultiBillPrint)
//            {
//                for (int i = 0; i < 2; i++)
//                {
//                    new Thread()
//                    {
//                        @Override
//                        public void run()
//                        {
//                            funPrintJasperExporterInThread(print);
//                        }
//                    }.start();
//                }
//            }
//            else
//            {
//                new Thread()
//                {
//                    @Override
//                    public void run()
//                    {
//                        funPrintJasperExporterInThread(print);
//                    }
//                }.start();
//
//            }
//
////            JRPrintServiceExporter exporter = new JRPrintServiceExporter();
////
////            //--- Set print properties
////            PrintRequestAttributeSet printRequestAttributeSet = new HashPrintRequestAttributeSet();
////          //  printRequestAttributeSet.add(MediaSizeName.ISO_A4);
////            printRequestAttributeSet.add(MediaSizeName.MONARCH_ENVELOPE);
////            if (clsGlobalVarClass.gMultiBillPrint)
////            {
////                printRequestAttributeSet.add(new Copies(2));
////            }
////
////            //----------------------------------------------------     
////            //printRequestAttributeSet.add(new Destination(new java.net.URI("file:d:/output/report.ps")));
////            //----------------------------------------------------     
////            PrintServiceAttributeSet printServiceAttributeSet = new HashPrintServiceAttributeSet();
////
////            String billPrinterName = clsGlobalVarClass.gBillPrintPrinterPort;
////
////            billPrinterName = billPrinterName.replaceAll("#", "\\\\");
////            printServiceAttributeSet.add(new PrinterName(billPrinterName, null));
////
////            //--- Set print parameters      
////            exporter.setParameter(JRExporterParameter.JASPER_PRINT, print);
////            exporter.setParameter(JRPrintServiceExporterParameter.PRINT_REQUEST_ATTRIBUTE_SET, printRequestAttributeSet);
////            exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE_ATTRIBUTE_SET, printServiceAttributeSet);
////            exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PAGE_DIALOG, Boolean.FALSE);
////            exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PRINT_DIALOG, Boolean.FALSE);
////
////            //--- Print the document
////            try
////            {
////                exporter.exportReport();
////            }
////            catch (JRException e)
////            {
////                e.printStackTrace();
////            }
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    public void funGenerateTextFileBillPrintingForFormat13(String billNo, String reprint, String formName, String transType, String billDate, String posCode, String viewORprint)
//    {
//        try
//        {
//
//            String dottedLine = "  ----------------------------------------";
//            String billhd;
//            String billdtl;
//            String billModifierdtl;
//            String billSettlementdtl;
//            String billtaxdtl;
//            String billPromoDtl;
//            String billDscFrom;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String discount = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            int discPer = 0;
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime,strCustAddressLine1 "
//                    + "from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "";
//
//                if (rs_HomeDelivery.getString(5).equals("Home"))
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName,a.strStreetName"
//                            + " ,a.strLandmark,a.strArea,a.strCity,a.intPinCode,a.longMobileNo "
//                            + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                            + " on a.strBuldingCode=b.strBuildingCode "
//                            + " where a.strCustomerCode=? ;";
//                }
//                else
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strOfficeBuildingName,a.strOfficeStreetName"
//                            + ",a.strOfficeLandmark,a.strOfficeArea,a.strOfficeCity,a.strOfficePinCode,a.longMobileNo "
//                            + " from tblcustomermaster a "
//                            + " where a.strCustomerCode=? ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//
//                    // Building Name    
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS1   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS1   :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    for (int i = 28; i <= strlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//
//                    // Street Name    
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen; i++)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//
//                    // Landmark Name    
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Area Name    
//                    if (rs_CustomerDtl.getString(5).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // City Name    
//                    if (rs_CustomerDtl.getString(6).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Pin Code    
//                    if (rs_CustomerDtl.getString(7).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(7).toUpperCase());
//                        BillOut.newLine();
//                    }
//
//                    // Mobile No    
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(8));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String[] delBoys = rs_HomeDelivery.getString(3).split(",");
//                    StringBuilder strIN = new StringBuilder("(");
//                    for (int i = 0; i < delBoys.length; i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append("'" + delBoys[i] + "'");
//                        }
//                        else
//                        {
//                            strIN.append(",'" + delBoys[i] + "'");
//                        }
//                    }
//                    strIN.append(")");
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode IN " + strIN + " ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    strIN.setLength(0);
//                    for (int i = 0; rs_DeliveryBoyDtl.next(); i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append(rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                        else
//                        {
//                            strIN.append("," + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                    }
//                    BillOut.write("  DELV BOY  :" + strIN);
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                /*
//                 * BillOut.write(" DELV TIME :" +
//                 * rs_HomeDelivery.getString(4).toUpperCase());
//                 * BillOut.newLine();
//                 */
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//            rs_HomeDelivery.close();
//
//            funPrintTakeAway(billhd, billNo, BillOut, 4);
//
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("INVOICE", BillOut);
//                BillOut.write("INVOICE");
//                BillOut.newLine();
//            }
//            if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.(Waters)
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                BillOut.newLine();
//            }
//            funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//            BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                BillOut.newLine();
//            }
//
//            if (clsGlobalVarClass.gCityName.trim().length() > 0)
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                BillOut.newLine();
//            }
//
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            String query = "";
//            String SQL_BillHD = "";
//            String waiterName = "";
//            String waiterNo = "";
//            String tblName = "", remarks = "";
//            ResultSet rsQuery = null;
//            ResultSet rs_BillHD = null;
//            ResultSet rsTblName = null;
//            String sqlTblName = "";
//            String tabNo = "";
//            boolean flag_DirectBillerBlill = false;
//            if (funIsDirectBillerBill(billNo, billhd))
//            {
//                flag_DirectBillerBlill = true;
//                SQL_BillHD = "select a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",ifnull(c.dblHomeDelCharges,0.00),ifnull(b.dblAdvDeposite,0.00),a.dblDiscountPer"
//                        + ",strTakeAwayRemarks "
//                        + "from " + billhd + " a left outer join tbladvancereceipthd b on a.strAdvBookingNo=b.strAdvBookingNo "
//                        + "left outer join tbladvbookbillhd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=?  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//            }
//            else
//            {
//                SQL_BillHD = "select a.strTableNo,a.strWaiterNo,a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                        + "a.strCustomerCode,a.dblGrandTotal,a.dblTaxAmt,a.strReasonCode,a.strRemarks,a.strUserCreated"
//                        + ",dblDeliveryCharges,ifnull(c.dblAdvDeposite,0.00),a.dblDiscountPer "
//                        + "from " + billhd + " a left outer join tbltablemaster b on a.strTableNo=b.strTableNo "
//                        + "left outer join tbladvancereceipthd c on a.strAdvBookingNo=c.strAdvBookingNo "
//                        + "where a.strBillNo=?  ";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillHD);
//
//                pst.setString(1, billNo);
//                rs_BillHD = pst.executeQuery();
//                rs_BillHD.next();
//
//                tabNo = rs_BillHD.getString(1);
//                if (rs_BillHD.getString(2).equalsIgnoreCase("null") || rs_BillHD.getString(2).equalsIgnoreCase(""))
//                {
//                    waiterNo = "";
//                }
//                else
//                {
//                    waiterNo = rs_BillHD.getString(2);
//                    query = "select strWShortName from tblwaitermaster where strWaiterNo=? ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(query);
//                    pst.setString(1, waiterNo);
//                    rsQuery = pst.executeQuery();
//                    rsQuery.next();
//                    waiterName = rsQuery.getString(1);
//                    rsQuery.close();
//                    pst.close();
//                }
//
//                sqlTblName = "select strTableName from tbltablemaster where strTableNo=? ;";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlTblName);
//                pst.setString(1, tabNo);
//                rsTblName = pst.executeQuery();
//                rsTblName.next();
//                tblName = rsTblName.getString(1);
//                rsTblName.close();
//                pst.close();
//            }
//
//            // funPrintTakeAway(billhd, billNo, BillOut);
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.write("  ");
//                BillOut.write(rs_BillHD.getString(10).toUpperCase());
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(1)));
//                BillOut.newLine();
//
//                if (clsGlobalVarClass.gRemarksOnTakeAway)
//                {
//                    if (!rs_BillHD.getObject(14).equals(""))
//                    {
//                        BillOut.write("  Cust Name   : ");
//                        BillOut.write(rs_BillHD.getString(14));
//                        BillOut.newLine();
//                    }
//                }
//
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//
//                subTotal = rs_BillHD.getString(4);
//                discount = rs_BillHD.getString(3);
//                grandTotal = rs_BillHD.getString(6);
//                remarks = rs_BillHD.getString(9);
//                deliveryCharge = rs_BillHD.getString(11);
//                advAmount = rs_BillHD.getString(12);
//                discPer = rs_BillHD.getInt(13);
//            }
//            else
//            {
//                BillOut.write("  TABLE NAME:" + "  ");
//                BillOut.write(tblName);
//                BillOut.newLine();
//                if (waiterName.trim().length() > 0)
//                {
//                    BillOut.write("  STEWARD   :" + "  ");
//                    BillOut.write(waiterName);
//                    BillOut.newLine();
//                }
//
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                BillOut.write("  BILL NO.    : ");
//                BillOut.write(billNo);
//                BillOut.write("  ");
//                BillOut.write(rs_BillHD.getString(12).toUpperCase());
//                BillOut.newLine();
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                subTotal = rs_BillHD.getString(6);
//                discount = rs_BillHD.getString(5);
//                grandTotal = rs_BillHD.getString(8);
//                remarks = rs_BillHD.getString(11);
//                deliveryCharge = rs_BillHD.getString(13);
//                advAmount = rs_BillHD.getString(14);
//                discPer = rs_BillHD.getInt(15);
//            }
//            //print card available balance
//            String isSttled = "select strBillNo from " + billSettlementdtl + " where strBillNo='" + billNo + "';  ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//            if (transType.equals("Void"))
//            {
//                String reasonName = "select a.strReasonName "
//                        + "from tblvoidbillhd a "
//                        + "where a.strBillNo='" + billNo + "'; ";
//                ResultSet rsReason = clsGlobalVarClass.dbMysql.executeResultSet(reasonName);
//                if (rsReason.next())
//                {
//                    BillOut.write("  Reason      :" + " " + rsReason.getString(1));
//                    BillOut.newLine();
//                }
//                rsReason.close();
//            }
//
//            ////////////////////////llllllllll/////////////////////////////
//            String sql_advOrder_SuTtotal = "select a.strAdvBookingNo,a.strMessage,a.strShape,a.strNote"
//                    + " from tbladvbookbillhd a, " + billhd + " b where a.strAdvBookingNo=b.strAdvBookingNo and b.strBillNo=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_advOrder_SuTtotal);
//
//            pst.setString(1, billNo);
//            ResultSet rs_advOrder_Tot = pst.executeQuery();
//            if (rs_advOrder_Tot.next())
//            {
//                funPrintBlankSpace("ORDER DETAIL", BillOut);
//                BillOut.write("ORDER DETAIL");
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                String msg = rs_advOrder_Tot.getString(2).toUpperCase();
//                String shape = rs_advOrder_Tot.getString(3).toUpperCase();
//                String note = rs_advOrder_Tot.getString(4).toUpperCase();
//                String[] arrSpMsg = msg.split("}");
//                for (int cnt = 0; cnt < arrSpMsg.length; cnt++)
//                {
//                    msg = arrSpMsg[cnt];
//                    int strlenMsg = msg.length();
//                    if (strlenMsg > 0)
//                    {
//                        String msg1 = "";
//                        if (strlenMsg < 27)
//                        {
//                            msg1 = msg.substring(0, strlenMsg);
//                            BillOut.write("  MESSAGE " + cnt + "    :" + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = msg.substring(0, 27);
//                            //BillOut.write("  MESSAGE     :"+msg1);;
//                            BillOut.write("  MESSAGE " + cnt + "    :" + msg1);;
//                            BillOut.newLine();
//                        }
//                        for (int i = 27; i <= strlenMsg; i++)
//                        {
//                            int endmsg = 0;
//                            endmsg = i + 27;
//                            if (strlenMsg > endmsg)
//                            {
//                                msg1 = msg.substring(i, endmsg);
//                                i = endmsg;
//                                BillOut.write("               " + msg1);
//                                BillOut.newLine();
//                            }
//                            else
//                            {
//                                msg1 = msg.substring(i, strlenMsg);
//                                BillOut.write("               " + msg1);
//                                BillOut.newLine();
//                                i = strlenMsg + 1;
//                            }
//                        }
//                    }
//                }
//
//                String[] arrSpShape = shape.split("}");
//                for (int cnt = 0; cnt < arrSpShape.length; cnt++)
//                {
//                    shape = arrSpShape[cnt];
//                    int strlenShape = shape.length();
//                    if (strlenShape > 0)
//                    {
//                        String shape1 = "";
//                        if (strlenShape < 27)
//                        {
//                            shape1 = shape.substring(0, strlenShape);
//                            BillOut.write("  SHAPE " + (cnt + 1) + "      :" + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = shape.substring(0, 27);
//                            BillOut.write("  SHAPE " + (cnt + 1) + "      :" + shape1);
//                            BillOut.newLine();
//                        }
//                        for (int j = 27; j <= strlenShape; j++)
//                        {
//                            int endShape = 0;
//                            endShape = j + 27;
//                            if (strlenShape > endShape)
//                            {
//                                shape1 = shape.substring(j, endShape);
//                                j = endShape;
//                                BillOut.write("               " + shape1);
//                                BillOut.newLine();
//                            }
//                            else
//                            {
//                                shape1 = shape.substring(j, strlenShape);
//                                BillOut.write("               " + shape1);
//                                BillOut.newLine();
//                                j = strlenShape + 1;
//                            }
//                        }
//                    }
//                }
//
//                int strlenNote = note.length();
//                if (strlenNote > 0)
//                {
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = note.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = note.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = note.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = note.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                BillOut.newLine();
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//            }
//
//            BillOut.write("   ITEM NAME");
//            BillOut.newLine();
//            if (flag_DirectBillerBlill)
//            {
//                BillOut.write("       QTY      RATE     DISC       AMT");
//            }
//            else
//            {
//                BillOut.write("     KOTNO       QTY     RATE       AMT");
//            }
//
//            BillOut.newLine();
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//            int qtyCount = 0;
//            String SQL_BillDtl = "select SUM(dblQuantity),strItemName,SUM(dblAmount)"
//                    + " ,strItemCode,strKOTNo,dblRate,sum(dblDiscountAmt)  "
//                    + " from " + billdtl + " where strBillNo=? and tdhYN='N' "
//                    + " group by strItemCode,strKOTNo ;";
//
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//            pst.setString(1, billNo);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                //funPrintBlankSpace(rs_BillDtl.getString(2), BillOut);
//                BillOut.write("   " + rs_BillDtl.getString(2));
//                BillOut.newLine();
//                qtyCount += rs_BillDtl.getInt(1);
//                double amount = Double.parseDouble(rs_BillDtl.getString(3));
//                amount = Double.parseDouble(objFormat.format(amount));
//                double discAmt = Double.parseDouble(rs_BillDtl.getString(7));
//                discAmt = Double.parseDouble(objFormat.format(discAmt));
//                funPrintItemDetails(rs_BillDtl.getString(5), rs_BillDtl.getString(1), rs_BillDtl.getString(6), String.valueOf(amount), BillOut, "Format13", flag_DirectBillerBlill, String.valueOf(discAmt));
//
//                String SQL_ModifierDtl_count = "select Count(*) from " + billModifierdtl + " "
//                        + "where strBillNo=? and left(strItemCode,7)=? ";
//
//                if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                {
//                    SQL_ModifierDtl_count += " and dblAmount !=0.00 ;";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl_count);
//
//                pst.setString(1, billNo);
//                pst.setString(2, rs_BillDtl.getString(4));
//                ResultSet rs_count = pst.executeQuery();
//                rs_count.next();
//                int cntRecord = rs_count.getInt(1);
//                rs_count.close();
//                if (cntRecord > 0)
//                {
//                    String SQL_ModifierDtl = "select strModifierName,dblQuantity,dblAmount,dblDiscAmt "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        SQL_ModifierDtl_count += " and dblAmount !=0.00 ;";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_ModifierDtl);
//
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(4));
//                    ResultSet rs_modifierRecord = pst.executeQuery();
//                    while (rs_modifierRecord.next())
//                    {
//                        funWriteToText(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format4");
//                        BillOut.newLine();
//                    }
//                    rs_modifierRecord.close();
//                }
//
//            }
//            rs_BillDtl.close();
//
//            //funPrintPromoItemsInBill(billNo, BillOut,4);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sql_CRMPoints = "select b.dblPoints from tblbillhd a, tblcrmpoints b "
//                        + "where a.strBillNo=b.strBillNo and a.strBillNo='" + billNo + "'";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sql_CRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format13");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b "
//                    + " where a.strBillNo='" + billNo + "' and a.strTaxCode=b.strTaxCode "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//
//            funWriteTotal("SUB TOTAL" + String.format("%10s", qtyCount) + String.format("%8s", discount), subTotal, BillOut, "Format13");
//            BillOut.newLine();
//
//            sql = "select a.dblDiscPer,a.dblDiscAmt,a.strDiscOnType,a.strDiscOnValue "
//                    + "from tblbilldiscdtl a "
//                    + "where a.strBillNo='" + billNo + "' ";
//
//            ResultSet rsDisc = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            boolean flag = true;
//            while (rsDisc.next())
//            {
//                if (flag)
//                {
//                    flag = false;
//                    BillOut.write("  DISCOUNT");
//                    BillOut.newLine();
//                }
//                double dbl = Double.parseDouble(rsDisc.getString("dblDiscPer"));
//                String discText = String.format("%.1f", dbl) + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                if (discText.length() > 35)
//                {
//                    discText = discText.substring(0, 35);
//                }
//                else
//                {
//                    discText = String.format("%-30s", discText);
//                }
//                BillOut.write("  " + discText);
//                String discountOnItem = objUtility.funPrintTextWithAlignment(rsDisc.getString("dblDiscAmt"), 8, "Right");
//                BillOut.write(discountOnItem);
//                BillOut.newLine();
//
//            }
//            /*
//             * if (tax.trim().length() > 0 && !"0.00".equalsIgnoreCase(tax)) {
//             * funWriteTotal("TAX", tax, BillOut); BillOut.newLine(); }
//             */
//            while (rsTax.next())
//            {
//                funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format13");
//                BillOut.newLine();
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format13");
//                BillOut.newLine();
//            }
//
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format13");
//                BillOut.newLine();
//            }
//
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//            funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format13");
//            BillOut.newLine();
//            BillOut.write(dottedLine);
//            BillOut.newLine();
//            //settlement breakup part
//            String SQL_Settlement_Breakup = "select a.dblSettlementAmt ,b.strSettelmentDesc from " + billSettlementdtl + " a ,"
//                    + "tblsettelmenthd b where a.strBillNo=? and a.strSettlementCode=b.strSettelmentCode";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_Settlement_Breakup);
//
//            pst.setString(1, billNo);
//            ResultSet rs_Bill_Settlement = pst.executeQuery();
//            while (rs_Bill_Settlement.next())
//            {
//                funWriteTotal(rs_Bill_Settlement.getString(2), rs_Bill_Settlement.getString(1), BillOut, "Format13");
//                BillOut.newLine();
//            }
//            rs_Bill_Settlement.close();
//
//            //print customer detailss
//            String sql_count = "select b.longMobileNo,b.strCustomerName "
//                    + "from " + billhd + " a,tblcustomermaster b "
//                    + "where a.strCustomerCode=b.strCustomerCode "
//                    + "and a.strBillNo='" + billNo + "'; ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//            ResultSet rs_Count = pst.executeQuery();
//            if (rs_Count.next())
//            {
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                BillOut.write("  Customer Name: " + rs_Count.getString(2));
//                BillOut.newLine();
//                BillOut.write("                 " + rs_Count.getString(1));
//                BillOut.newLine();
//            }
//            rs_Count.close();;
//
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.write(dottedLine);
//                BillOut.newLine();
//                sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//            }
//            //footer part
//
//            if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                BillOut.newLine();
//            }
//            BillOut.newLine();
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//
//            BillOut.newLine();
//            BillOut.newLine();
//            BillOut.newLine();
//
//            BillOut.newLine();
//            BillOut.newLine();
//
//            //BillOut.write("m");
//            if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                BillOut.write("V");//Linux
//            }
//            else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//            {
//                if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                {
//                    BillOut.write("V");
//                }
//                else
//                {
//                    BillOut.write("m");//windows
//                }
//            }
//            // BillOut.write("V");//Linux
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!viewORprint.equalsIgnoreCase("view"))
//                    {
//                        funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                    }
//                }
//            }
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//        finally
//        {
//        }
//    }
//
//    //"138.001", "Arabian Heritage Pvt Ltd" 
//    //to print quantity in 3 decimal places
//    public void funGenerateTextFileBillPrintingForFormat14(String billNo, String reprint, String formName, String transType, String billDate, String POSCode, String viewORprint)
//    {
//        clsUtility objUtility = new clsUtility();
//        String Linefor5 = "  --------------------------------------";
//        try
//        {
//            String user = "";
//            String billhd = null;
//            String billdtl = null;
//            String billModifierdtl = null;
//            String billSettlementdtl = null;
//            String billtaxdtl = null;
//            String billDscFrom = null;
//            String billPromoDtl = null;
//            String advBookBillHd = null;
//            String advBookBillDtl = null;
//            String advBookBillCharDtl = null;
//            String advReceiptHd = null;
//            if (clsGlobalVarClass.gHOPOSType.equalsIgnoreCase("HOPOS"))
//            {
//                billhd = "tblqbillhd";
//                billdtl = "tblqbilldtl";
//                billModifierdtl = "tblqbillmodifierdtl";
//                billSettlementdtl = "tblqbillsettlementdtl";
//                billtaxdtl = "tblqbilltaxdtl";
//                billDscFrom = "tblqbilldiscdtl";
//                billPromoDtl = "tblqbillpromotiondtl";
//
//                advBookBillHd = "tblqadvbookbillhd";
//                advBookBillDtl = "tblqadvbookbilldtl";
//                advBookBillCharDtl = "tblqadvbookbillchardtl";
//                advReceiptHd = "tblqadvancereceipthd";
//            }
//            else
//            {
//                if ("sales report".equalsIgnoreCase(formName))
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                    advBookBillHd = "tbladvbookbillhd";
//                    advBookBillDtl = "tbladvbookbilldtl";
//                    advBookBillCharDtl = "tbladvbookbillchardtl";
//                    advReceiptHd = "tbladvancereceipthd";
//                    long dateDiff = new clsUtility().funCompareDate(billDate, objUtility.funGetPOSDateForTransaction());
//                    if (dateDiff > 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                        advBookBillHd = "tblqadvbookbillhd";
//                        advBookBillDtl = "tblqadvbookbilldtl";
//                        advBookBillCharDtl = "tblqadvbookbillchardtl";
//                        advReceiptHd = "tblqadvancereceipthd";
//                    }
//                    String sql = "select count(strBillNo) from tblbillhd where strBillNo='" + billNo + "' and strPOSCode='" + POSCode + "' ";
//                    ResultSet rsBillTable = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                    rsBillTable.next();
//                    int billCnt = rsBillTable.getInt(1);
//                    if (billCnt == 0)
//                    {
//                        billhd = "tblqbillhd";
//                        billdtl = "tblqbilldtl";
//                        billModifierdtl = "tblqbillmodifierdtl";
//                        billSettlementdtl = "tblqbillsettlementdtl";
//                        billtaxdtl = "tblqbilltaxdtl";
//                        billDscFrom = "tblqbilldiscdtl";
//                        billPromoDtl = "tblqbillpromotiondtl";
//                        advBookBillHd = "tblqadvbookbillhd";
//                        advBookBillDtl = "tblqadvbookbilldtl";
//                        advBookBillCharDtl = "tblqadvbookbillchardtl";
//                        advReceiptHd = "tblqadvancereceipthd";
//                    }
//                }
//                else
//                {
//                    billhd = "tblbillhd";
//                    billdtl = "tblbilldtl";
//                    billModifierdtl = "tblbillmodifierdtl";
//                    billSettlementdtl = "tblbillsettlementdtl";
//                    billtaxdtl = "tblbilltaxdtl";
//                    billDscFrom = "tblbilldiscdtl";
//                    billPromoDtl = "tblbillpromotiondtl";
//                    advBookBillHd = "tbladvbookbillhd";
//                    advBookBillDtl = "tbladvbookbilldtl";
//                    advBookBillCharDtl = "tbladvbookbillchardtl";
//                    advReceiptHd = "tbladvancereceipthd";
//                }
//            }
//            PreparedStatement pst = null;
//            funCreateTempFolder();
//            String filePath = System.getProperty("user.dir");
//            File Text_Bill = new File(filePath + "/Temp/Temp_Bill.txt");
//            String subTotal = "";
//            String grandTotal = "";
//            String advAmount = "";
//            String deliveryCharge = "";
//            String customerCode = "";
//            String waiterName = "";
//            String tblName = "";
//            ResultSet rs_BillHD = null;
//            boolean flgComplimentaryBill = false;
//            StringBuilder sqlBillHeaderDtl = new StringBuilder();
//            sqlBillHeaderDtl.append("select ifnull(a.strTableNo,''),ifnull(a.strWaiterNo,''),a.dteBillDate,time(a.dteBillDate),a.dblDiscountAmt,a.dblSubTotal,"
//                    + "ifnull(a.strCustomerCode,''),a.dblGrandTotal,a.dblTaxAmt,ifnull(a.strReasonCode,''),ifnull(a.strRemarks,''),a.strUserCreated "
//                    + ",ifnull(dblDeliveryCharges,0.00),ifnull(i.dblAdvDeposite,0.00),a.dblDiscountPer,b.strPOSName,a.intPaxNo "
//                    + ",ifnull(c.strTableName,''),ifnull(d.strWShortName,''),ifnull(d.strWFullName,''),ifnull(l.strSettelmentType,''),ifnull(j.strReasonName,'') as voidedReason, "
//                    + "ifnull(g.strReasonName,''),ifnull(e.strCustomerName,''),ifnull(a.strAdvBookingNo,''),ifnull(h.strMessage,''),ifnull(h.strShape,''),ifnull(h.strNote,''),ifnull(a.dblTipAmount,0.00) "
//                    + ",a.strOperationType,ifnull(a.strTakeAwayRemarks,''),ifnull(e.longMobileNo,'')  "
//                    + "from " + billhd + " a "
//                    + "left outer join tblposmaster b on a.strPOSCode=b.strPosCode  "
//                    + "left outer join tbltablemaster c on a.strTableNo=c.strTableNo and a.strClientCode=c.strClientCode "
//                    + "left outer join tblwaitermaster d on a.strWaiterNo=d.strWaiterNo and a.strClientCode=d.strClientCode "
//                    + "left outer join tblcustomermaster e on a.strCustomerCode=e.strCustomerCode and a.strClientCode=e.strClientCode "
//                    + "left outer join tbldebitcardmaster f on a.strCardNo=f.strCardNo "
//                    + "left outer join tblreasonmaster g on a.strReasonCode=g.strReasonCode "
//                    + "left outer join " + advBookBillHd + " h on a.strAdvBookingNo=h.strAdvBookingNo and a.strClientCode=h.strClientCode "
//                    + "left outer join " + advReceiptHd + " i on h.strAdvBookingNo=i.strAdvBookingNo and a.strClientCode=i.strClientCode "
//                    + "left outer join tblvoidbillhd j on a.strBillNo=j.strBillNo and a.strPOSCode=j.strPosCode and a.strClientCode=j.strClientCode "
//                    + "left outer join " + billSettlementdtl + " k on a.strBillNo=k.strBillNo and a.strClientCode=k.strClientCode "
//                    + "left outer join tblsettelmenthd l on k.strSettlementCode=l.strSettelmentCode "
//                    + "where a.strBillNo=? and a.strPOSCode=? "
//                    + "group by a.strBillNo; ");
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlBillHeaderDtl.toString());
//            pst.setString(1, billNo);
//            pst.setString(2, POSCode);
//            rs_BillHD = pst.executeQuery();
//            rs_BillHD.next();
//            if (rs_BillHD.getString(21).equals("Complementary"))
//            {
//                flgComplimentaryBill = true;
//            }
//            FileWriter fstream_bill = new FileWriter(Text_Bill);
//            BufferedWriter BillOut = new BufferedWriter(fstream_bill);
//            if (clsGlobalVarClass.gClientCode.equals("117.001"))
//            {
//                if (POSCode.equals("P01"))
//                {
//                    funPrintBlankSpace("THE PREM'S HOTEL", BillOut);
//                    BillOut.write("THE PREM'S HOTEL");
//                    BillOut.newLine();
//                }
//                else if (POSCode.equals("P02"))
//                {
//                    funPrintBlankSpace("SWIG", BillOut);
//                    BillOut.write("SWIG");
//                    BillOut.newLine();
//                }
//            }
//            boolean isReprint = false;
//            if ("reprint".equalsIgnoreCase(reprint))
//            {
//                isReprint = true;
//                funPrintBlankSpace("[DUPLICATE]", BillOut);
//                BillOut.write("[DUPLICATE]");
//                BillOut.newLine();
//            }
//            if (transType.equals("Void"))
//            {
//                funPrintBlankSpace("VOIDED BILL", BillOut);
//                BillOut.write("VOIDED BILL");
//                BillOut.newLine();
//            }
//            boolean flag_isHomeDelvBill = false;
//            String SQL_HomeDelivery = "select strBillNo,strCustomerCode,strDPCode,tmeTime,strCustAddressLine1 "
//                    + "from tblhomedelivery where strBillNo=? ;";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_HomeDelivery);
//            pst.setString(1, billNo);
//            ResultSet rs_HomeDelivery = pst.executeQuery();
//            if (rs_HomeDelivery.next())
//            {
//                flag_isHomeDelvBill = true;
//                customerCode = rs_HomeDelivery.getString(2);
//
//                if (clsGlobalVarClass.gPrintHomeDeliveryYN)
//                {
//                    funPrintBlankSpace("HOME DELIVERY", BillOut);
//                    BillOut.write("HOME DELIVERY");
//                    BillOut.newLine();
//                }
//
//                String SQL_CustomerDtl = "";
//                if (rs_HomeDelivery.getString(5).equals("Home"))
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strBuildingName,a.strStreetName"
//                            + " ,a.strLandmark,a.strArea,a.strCity,a.intPinCode,a.longMobileNo "
//                            + " from tblcustomermaster a left outer join tblbuildingmaster b "
//                            + " on a.strBuldingCode=b.strBuildingCode "
//                            + " where a.strCustomerCode=? ;";
//                }
//                else
//                {
//                    SQL_CustomerDtl = "select a.strCustomerName,a.strOfficeBuildingName,a.strOfficeStreetName"
//                            + ",a.strOfficeLandmark,a.strOfficeArea,a.strOfficeCity,a.strOfficePinCode,a.longMobileNo "
//                            + " from tblcustomermaster a "
//                            + " where a.strCustomerCode=? ";
//                }
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_CustomerDtl);
//                pst.setString(1, rs_HomeDelivery.getString(2));
//                ResultSet rs_CustomerDtl = pst.executeQuery();
//                while (rs_CustomerDtl.next())
//                {
//                    BillOut.write("  NAME      :" + rs_CustomerDtl.getString(1).toUpperCase());
//                    BillOut.newLine();
//                    // Building Name    
//                    String add = rs_CustomerDtl.getString(2);
//                    int strlen = add.length();
//                    String add1 = "";
//                    if (strlen < 28)
//                    {
//                        add1 = add.substring(0, strlen);
//                        BillOut.write("  ADDRESS1  :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        add1 = add.substring(0, 28);
//                        BillOut.write("  ADDRESS1  :" + add1.toUpperCase());
//                        BillOut.newLine();
//                    }
//                    for (int i = 28; i <= strlen;)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (strlen > end)
//                        {
//                            add1 = add.substring(i, end);
//                            i = end;
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            add1 = add.substring(i, strlen);
//                            BillOut.write("             " + add1.toUpperCase());
//                            BillOut.newLine();
//                            i = strlen + 1;
//                        }
//                    }
//                    // Street Name    
//                    String street = rs_CustomerDtl.getString(3);
//                    String street1;
//                    int streetlen = street.length();
//                    for (int i = 0; i <= streetlen;)
//                    {
//                        int end = 0;
//                        end = i + 28;
//                        if (streetlen > end)
//                        {
//                            street1 = street.substring(i, end);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = end;
//                        }
//                        else
//                        {
//                            street1 = street.substring(i, streetlen);
//                            BillOut.write("             " + street1.toUpperCase());
//                            BillOut.newLine();
//                            i = streetlen + 1;
//                        }
//                    }
//                    // Landmark Name    
//                    if (rs_CustomerDtl.getString(4).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    // Area Name    
//                    if (rs_CustomerDtl.getString(5).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(4).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    // City Name    
//                    if (rs_CustomerDtl.getString(6).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(6).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    // Pin Code    
//                    if (rs_CustomerDtl.getString(7).trim().length() > 0)
//                    {
//                        BillOut.write("             " + rs_CustomerDtl.getString(7).toUpperCase());
//                        BillOut.newLine();
//                    }
//                    // Mobile No    
//                    BillOut.write("  MOBILE NO :" + rs_CustomerDtl.getString(8));
//                    BillOut.newLine();
//                }
//                rs_CustomerDtl.close();
//                if (null != rs_HomeDelivery.getString(3) && rs_HomeDelivery.getString(3).trim().length() > 0)
//                {
//                    String[] delBoys = rs_HomeDelivery.getString(3).split(",");
//                    StringBuilder strIN = new StringBuilder("(");
//                    for (int i = 0; i < delBoys.length; i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append("'" + delBoys[i] + "'");
//                        }
//                        else
//                        {
//                            strIN.append(",'" + delBoys[i] + "'");
//                        }
//                    }
//                    strIN.append(")");
//                    String SQL_DeliveryBoyDtl = "select strDPName from tbldeliverypersonmaster where strDPCode IN " + strIN + " ;";
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_DeliveryBoyDtl);
//                    ResultSet rs_DeliveryBoyDtl = pst.executeQuery();
//                    strIN.setLength(0);
//                    for (int i = 0; rs_DeliveryBoyDtl.next(); i++)
//                    {
//                        if (i == 0)
//                        {
//                            strIN.append(rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                        else
//                        {
//                            strIN.append("," + rs_DeliveryBoyDtl.getString(1).toUpperCase());
//                        }
//                    }
//                    BillOut.write("  DELV BOY  :" + strIN);
//                    BillOut.newLine();
//                    rs_DeliveryBoyDtl.close();
//                }
//                BillOut.write(Line);
//                BillOut.newLine();
//            }
//            else
//            {
//                if (rs_BillHD.getString(7).length() > 0)//customerCode
//                {
//                    BillOut.write("  NAME      :" + rs_BillHD.getString(24).toUpperCase());
//                    BillOut.newLine();
//                    // Mobile No    
//                    BillOut.write("  MOBILE NO :" + rs_BillHD.getString(32));
//                    BillOut.newLine();
//                }
//            }
//            rs_HomeDelivery.close();
//            //print take away
//            int billPrintSize = 4;
//            if (rs_BillHD.getString(30).equals("TakeAway"))
//            {
//                funPrintBlankSpace("Take Away", BillOut);
//                BillOut.write("Take Away");
//                BillOut.newLine();
//            }
//            if (clsGlobalVarClass.gPrintTaxInvoice.equalsIgnoreCase("Y"))
//            {
//                funPrintBlankSpace("TAX INVOICE", BillOut);
//                BillOut.write("TAX INVOICE");
//                BillOut.newLine();
//            }
//            if (clsGlobalVarClass.gClientCode.equals("047.001") && POSCode.equals("P03"))
//            {
//                funPrintBlankSpace("SHRI SHAM CATERERS", BillOut);
//                BillOut.write("SHRI SHAM CATERERS");
//                BillOut.newLine();
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                funPrintBlankSpace(cAddr1, BillOut);
//                BillOut.write(cAddr1.toUpperCase());
//                BillOut.newLine();
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                funPrintBlankSpace(cAddr2, BillOut);
//                BillOut.write(cAddr2.toUpperCase());
//                BillOut.newLine();
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                funPrintBlankSpace(cAddr3, BillOut);
//                BillOut.write(cAddr3.toUpperCase());
//                BillOut.newLine();
//                String cAddr4 = "Approved Caterers of";
//                funPrintBlankSpace(cAddr4, BillOut);
//                BillOut.write(cAddr4.toUpperCase());
//                BillOut.newLine();
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                funPrintBlankSpace(cAddr5, BillOut);
//                BillOut.write(cAddr5.toUpperCase());
//                BillOut.newLine();
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("047.001") && POSCode.equals("P02"))
//            {
//                funPrintBlankSpace("SHRI SHAM CATERERS", BillOut);
//                BillOut.write("SHRI SHAM CATERERS");
//                BillOut.newLine();
//                String cAddr1 = "Flat No.7, Mon Amour,";
//                funPrintBlankSpace(cAddr1, BillOut);
//                BillOut.write(cAddr1.toUpperCase());
//                BillOut.newLine();
//                String cAddr2 = "Thorat Colony,Prabhat Road,";
//                funPrintBlankSpace(cAddr2, BillOut);
//                BillOut.write(cAddr2.toUpperCase());
//                BillOut.newLine();
//                String cAddr3 = " Erandwane, Pune 411 004.";
//                funPrintBlankSpace(cAddr3, BillOut);
//                BillOut.write(cAddr3.toUpperCase());
//                BillOut.newLine();
//                String cAddr4 = "Approved Caterers of";
//                funPrintBlankSpace(cAddr4, BillOut);
//                BillOut.write(cAddr4.toUpperCase());
//                BillOut.newLine();
//                String cAddr5 = "ROYAL CONNAUGHT BOAT CLUB";
//                funPrintBlankSpace(cAddr5, BillOut);
//                BillOut.write(cAddr5.toUpperCase());
//                BillOut.newLine();
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//                BillOut.newLine();
//                if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                    BillOut.newLine();
//                }
//            }
//            else if (clsGlobalVarClass.gClientCode.equals("092.001") || clsGlobalVarClass.gClientCode.equals("092.002") || clsGlobalVarClass.gClientCode.equals("092.003"))//Shree Sound Pvt. Ltd.
//            {
//                funPrintBlankSpace("SSPL", BillOut);
//                BillOut.write("SSPL");
//                BillOut.newLine();
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//                BillOut.newLine();
//                if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                funPrintBlankSpace(clsGlobalVarClass.gClientName, BillOut);
//                if (clsGlobalVarClass.gClientCode.equals("124.001"))
//                {
//                    BillOut.write(clsGlobalVarClass.gClientName);
//                }
//                else
//                {
//                    BillOut.write(clsGlobalVarClass.gClientName.toUpperCase());
//                }
//                BillOut.newLine();
//                funPrintBlankSpace(clsGlobalVarClass.gClientAddress1, BillOut);
//                BillOut.write(clsGlobalVarClass.gClientAddress1.toUpperCase());
//                BillOut.newLine();
//                if (clsGlobalVarClass.gClientAddress2.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress2, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress2.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gClientAddress3.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gClientAddress3, BillOut);
//                    BillOut.write(clsGlobalVarClass.gClientAddress3.toUpperCase());
//                    BillOut.newLine();
//                }
//                if (clsGlobalVarClass.gCityName.trim().length() > 0)
//                {
//                    funPrintBlankSpace(clsGlobalVarClass.gCityName, BillOut);
//                    BillOut.write(clsGlobalVarClass.gCityName.toUpperCase());
//                    BillOut.newLine();
//                }
//            }
//            BillOut.write("  TEL NO.   :" + " ");
//            BillOut.write(String.valueOf(clsGlobalVarClass.gClientTelNo));
//            BillOut.newLine();
//            BillOut.write("  EMAIL ID  :" + " ");
//            BillOut.write(clsGlobalVarClass.gClientEmail);
//            BillOut.newLine();
//            tblName = rs_BillHD.getString(18);
//            if (tblName.length() > 0)
//            {
//                if (clsGlobalVarClass.gClientCode.equalsIgnoreCase("136.001"))//KINKI
//                {
//                    BillOut.write("  TABLE No   :");
//                }
//                else
//                {
//                    BillOut.write("  TABLE NAME:" + "  ");
//                }
//                BillOut.write(tblName);
//                BillOut.newLine();
//            }
//            waiterName = rs_BillHD.getString(19);
//            if (waiterName.trim().length() > 0)
//            {
//                BillOut.write("  STEWARD   :" + "  ");
//                BillOut.write(waiterName);
//                BillOut.newLine();
//            }
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            BillOut.write("  POS         : ");
//            BillOut.write(rs_BillHD.getString(16));
//            BillOut.newLine();
//            BillOut.write("  BILL NO.    : ");
//            BillOut.write(billNo);
//            BillOut.newLine();
//            BillOut.write("  PAX NO.     : ");
//            BillOut.write(rs_BillHD.getString(17));
//            BillOut.newLine();
//            if (clsGlobalVarClass.gPrintTimeOnBillYN)
//            {
//                BillOut.write("  DATE & TIME : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy hh:mm a ");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//
//            }
//            else
//            {
//                BillOut.write("  DATE        : ");
//                SimpleDateFormat ft = new SimpleDateFormat("dd-MM-yyyy");
//                BillOut.write(ft.format(rs_BillHD.getObject(3)));
//                BillOut.newLine();
//            }
//            if (rs_BillHD.getString(11).trim().length() > 0 && !flgComplimentaryBill)
//            {
//                BillOut.write("  Remarks     : ");
//                BillOut.write(rs_BillHD.getString(11));
//                BillOut.newLine();
//            }
//            subTotal = rs_BillHD.getString(6);
//            grandTotal = rs_BillHD.getString(8);
//            user = rs_BillHD.getString(12);
//            deliveryCharge = rs_BillHD.getString(13);
//            advAmount = rs_BillHD.getString(14);
//            //print card available balance
//            String isSttled = "select a.strBillNo from " + billSettlementdtl + " a," + billhd + " b "
//                    + " where a.strBillNo=b.strBillNo and a.strClientCode=b.strClientCode "
//                    + " and a.strBillNo='" + billNo + "' and b.strPOSCode='" + POSCode + "' ";
//            ResultSet rsIsSettled = clsGlobalVarClass.dbMysql.executeResultSet(isSttled);
//            if (rsIsSettled.next())
//            {
//                rsIsSettled.close();
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "' and a.strPOSCode='" + POSCode + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            else
//            {
//                String availBal = "select a.strCardNo,(b.dblRedeemAmt-a.dblGrandTotal)"
//                        + "from " + billhd + " a inner join tbldebitcardmaster b on a.strCardNo=b.strCardNo "
//                        + "where a.strBillNo='" + billNo + "' and a.strPOSCode='" + POSCode + "'; ";
//                ResultSet rsAvailBal = clsGlobalVarClass.dbMysql.executeResultSet(availBal);
//                if (rsAvailBal.next())
//                {
//                    BillOut.write("  Available Balance(" + rsAvailBal.getString(1) + "):" + rsAvailBal.getString(2));
//                    BillOut.newLine();
//                }
//            }
//            //print card available balance
//            if (transType.equals("Void"))
//            {
//                BillOut.write("  Reason      :" + " " + rs_BillHD.getString(22));//voided reason
//                BillOut.newLine();
//            }
//            else if (flgComplimentaryBill)
//            {
//
//                BillOut.write("  Reason      :" + " " + rs_BillHD.getString(23));
//                BillOut.newLine();
//                BillOut.write("  Remark      :" + " " + rs_BillHD.getString(11));
//                BillOut.newLine();
//            }
//            if (clsGlobalVarClass.gCMSIntegrationYN)
//            {
//                BillOut.write("  Member Code : ");
//                BillOut.write(rs_BillHD.getString(7));
//                BillOut.newLine();
//                BillOut.write("  Member Name : ");
//                funWriteToTextMemberNameForFormat5(BillOut, rs_BillHD.getString(24), "Format5");
//                BillOut.newLine();
//                BillOut.write(Linefor5);
//            }
//            if (rs_BillHD.getString(25) != null && rs_BillHD.getString(25).length() > 0)
//            {
//                if (rs_BillHD.getString(26).length() > 0 || rs_BillHD.getString(27).length() > 0 || rs_BillHD.getString(28).length() > 0)
//                {
//                    BillOut.newLine();
//                    funPrintBlankSpace("ORDER DETAIL", BillOut);
//                    BillOut.write("ORDER DETAIL");
//                    BillOut.newLine();
//                    BillOut.write(Linefor5);
//                    BillOut.newLine();
//                }
//                StringBuilder strValue = new StringBuilder();
//                strValue.setLength(0);
//                if (rs_BillHD.getString(26).length() > 0)
//                {
//                    strValue.append(rs_BillHD.getString(26));
//                }
//                else
//                {
//                    strValue.append("");
//                }
//                int strlenMsg = strValue.length();
//                if (strlenMsg > 0)
//                {
//                    String msg1 = "";
//                    if (strlenMsg < 27)
//                    {
//                        msg1 = strValue.substring(0, strlenMsg);
//                        BillOut.write("  MESSAGE     :" + msg1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        msg1 = strValue.substring(0, 27);
//                        BillOut.write("  MESSAGE     :" + msg1);;
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenMsg; i++)
//                    {
//                        int endmsg = 0;
//                        endmsg = i + 27;
//                        if (strlenMsg > endmsg)
//                        {
//                            msg1 = strValue.substring(i, endmsg);
//                            i = endmsg;
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            msg1 = strValue.substring(i, strlenMsg);
//                            BillOut.write("               " + msg1);
//                            BillOut.newLine();
//                            i = strlenMsg + 1;
//                        }
//                    }
//                }
//                strValue.setLength(0);
//                if (rs_BillHD.getString(27).length() > 0)//shape
//                {
//                    strValue.append(rs_BillHD.getString(27));
//                }
//                else
//                {
//                    strValue.append("");
//                }
//                int strlenShape = strValue.length();
//                if (strlenShape > 0)
//                {
//                    String shape1 = "";
//                    if (strlenShape < 27)
//                    {
//                        shape1 = strValue.substring(0, strlenShape);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        shape1 = strValue.substring(0, 27);
//                        BillOut.write("  SHAPE       :" + shape1);
//                        BillOut.newLine();
//                    }
//                    for (int j = 27; j <= strlenShape; j++)
//                    {
//                        int endShape = 0;
//                        endShape = j + 27;
//                        if (strlenShape > endShape)
//                        {
//                            shape1 = strValue.substring(j, endShape);
//                            j = endShape;
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            shape1 = strValue.substring(j, strlenShape);
//                            BillOut.write("               " + shape1);
//                            BillOut.newLine();
//                            j = strlenShape + 1;
//                        }
//                    }
//                }
//
//                strValue.setLength(0);
//                if (rs_BillHD.getString(28).length() > 0)//note
//                {
//                    strValue.append(rs_BillHD.getString(28));
//                }
//                else
//                {
//                    strValue.append("");
//                }
//                int strlenNote = strValue.length();
//                if (strlenNote > 0)
//                {
//                    String note1 = "";
//                    if (strlenNote < 27)
//                    {
//                        note1 = strValue.substring(0, strlenNote);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    else
//                    {
//                        note1 = strValue.substring(0, 27);
//                        BillOut.write("  NOTE        :" + note1);
//                        BillOut.newLine();
//                    }
//                    for (int i = 27; i <= strlenNote; i++)
//                    {
//                        int endNote = 0;
//                        endNote = i + 27;
//                        if (strlenNote > endNote)
//                        {
//                            note1 = strValue.substring(i, endNote);
//                            i = endNote;
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                        }
//                        else
//                        {
//                            note1 = strValue.substring(i, strlenNote);
//                            BillOut.write("               " + note1);
//                            BillOut.newLine();
//                            i = strlenNote + 1;
//                        }
//                    }
//                }
//                if (rs_BillHD.getString(26).length() > 0 || rs_BillHD.getString(27).length() > 0 || rs_BillHD.getString(28).length() > 0)
//                {
//
//                    BillOut.write(Linefor5);
//                    BillOut.newLine();
//                }
//            }
//
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            BillOut.write("     QTY ITEM NAME                  AMT");
//            BillOut.newLine();
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            String SQL_BillDtl = "select sum(a.dblQuantity),left(a.strItemName,22) as ItemLine1"
//                    + " ,MID(a.strItemName,23,LENGTH(a.strItemName)) as ItemLine2"
//                    + " ,sum(a.dblAmount),a.strItemCode,a.strKOTNo "
//                    + " from " + billdtl + " a," + billhd + " b "
//                    + " where a.strBillNo=b.strBillNo and a.strClientCode=b.strClientCode and a.strBillNo=? and b.strPOSCode=?  ";
//            if (!clsGlobalVarClass.gPrintTDHItemsInBill)
//            {
//                SQL_BillDtl += "and a.tdhYN='N' ";
//            }
//            if (!clsGlobalVarClass.gPrintOpenItemsOnBill)
//            {
//                SQL_BillDtl += "and a.dblAmount>0 ";
//            }
//
//            SQL_BillDtl += " group by a.strItemCode ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(SQL_BillDtl);
//            pst.setString(1, billNo);
//            pst.setString(2, POSCode);
//            ResultSet rs_BillDtl = pst.executeQuery();
//            while (rs_BillDtl.next())
//            {
//                double saleQty = Double.parseDouble(rs_BillDtl.getString(1));
//                String sqlPromoBills = "select dblQuantity from " + billPromoDtl + " "
//                        + " where strBillNo='" + billNo + "' and strItemCode='" + rs_BillDtl.getString(5) + "' "
//                        + " and strPromoType='ItemWise' ";
//                ResultSet rsPromoItems = clsGlobalVarClass.dbMysql.executeResultSet(sqlPromoBills);
//                if (rsPromoItems.next())
//                {
//                    saleQty -= rsPromoItems.getDouble(1);
//                }
//                rsPromoItems.close();
//                String qty = String.valueOf(decimalFormatFor3DecPoint.format(saleQty));
////                if (qty.contains("."))
////                {
////                    String decVal = qty.substring(qty.length() - 2, qty.length());
////                    if (Double.parseDouble(decVal) == 0)
////                    {
////                        qty = qty.substring(0, qty.length() - 2);
////                    }
////                }
//                if (saleQty > 0)
//                {
//                    funPrintContentWithSpace("Right", qty, 8, BillOut);//Qty Print
//                    BillOut.write(" ");
//                    funPrintContentWithSpace("Left", rs_BillDtl.getString(2), 22, BillOut);//Item Name
//                    if (flgComplimentaryBill)
//                    {
//                        funPrintContentWithSpace("Right", "0.00", 9, BillOut);//Amount
//                    }
//                    else
//                    {
//                        funPrintContentWithSpace("Right", rs_BillDtl.getString(4), 9, BillOut);//Amount
//                    }
//                    BillOut.newLine();
//                    if (rs_BillDtl.getString(3).trim().length() > 0)
//                    {
//                        BillOut.write("         " + rs_BillDtl.getString(3));
//                        BillOut.newLine();
//                    }
//                    String sqlModifier = "select count(*) "
//                            + "from " + billModifierdtl + " where strBillNo=? and left(strItemCode,7)=? ";
//                    if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                    {
//                        sqlModifier += " and  dblAmount !=0.00 ";
//                    }
//                    pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//                    pst.setString(1, billNo);
//                    pst.setString(2, rs_BillDtl.getString(5));
//                    ResultSet rs_count = pst.executeQuery();
//                    rs_count.next();
//                    int cntRecord = rs_count.getInt(1);
//                    rs_count.close();
//                    if (cntRecord > 0)
//                    {
//                        sqlModifier = "select strModifierName,dblQuantity,dblAmount "
//                                + " from " + billModifierdtl + " "
//                                + " where strBillNo=? and left(strItemCode,7)=? ";
//                        if (!clsGlobalVarClass.gPrintZeroAmtModifierOnBill)
//                        {
//                            sqlModifier += " and  dblAmount !=0.00 ";
//                        }
//                        pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlModifier);
//                        pst.setString(1, billNo);
//                        pst.setString(2, rs_BillDtl.getString(5));
//                        ResultSet rs_modifierRecord = pst.executeQuery();
//                        while (rs_modifierRecord.next())
//                        {
//                            if (flgComplimentaryBill)
//                            {
//                                funWriteToTextformat5(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), "0.00", "Format5");
//                                BillOut.newLine();
//                            }
//                            else
//                            {
//                                funWriteToTextformat5(BillOut, "", rs_modifierRecord.getString(1).toUpperCase(), rs_modifierRecord.getString(3), "Format5");
//                                BillOut.newLine();
//                            }
//                        }
//                        rs_modifierRecord.close();
//                    }
//
//                    sql = "select b.strItemCode,b.dblWeight "
//                            + " from " + billhd + " a," + advBookBillDtl + " b "
//                            + " where a.strAdvBookingNo=b.strAdvBookingNo and a.strClientCode=b.strClientCode "
//                            + " and a.strBillNo='" + billNo + "' and b.strItemCode='" + rs_BillDtl.getString(5) + "' "
//                            + " and a.strPOSCode='" + POSCode + "' ";
//                    ResultSet rsWeight = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                    while (rsWeight.next())
//                    {
//                        BillOut.write("     Weight");
//                        BillOut.write("     " + rsWeight.getDouble(2));
//                        BillOut.newLine();
//                    }
//                    rsWeight.close();
//                    sql = "select c.strCharName,b.strCharValues "
//                            + " from " + billhd + " a," + advBookBillCharDtl + " b,tblcharactersticsmaster c "
//                            + " where a.strAdvBookingNo=b.strAdvBookingNo and b.strCharCode=c.strCharCode "
//                            + " and a.strBillNo='" + billNo + "' and b.strItemCode='" + rs_BillDtl.getString(5) + "' "
//                            + " and a.strPOSCode='" + POSCode + "' and a.strClientCode=b.strClientCode ";
//                    ResultSet rsCharDtl = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                    while (rsCharDtl.next())
//                    {
//                        String charName = objUtility.funPrintTextWithAlignment(rsCharDtl.getString(1), 12, "Left");
//                        BillOut.write("     " + charName);
//                        String charVal = objUtility.funPrintTextWithAlignment(rsCharDtl.getString(2), 28, "Left");
//                        BillOut.write("     " + charVal);
//                        BillOut.newLine();
//                    }
//                    rsCharDtl.close();
//                }
//            }
//            rs_BillDtl.close();
//            funPrintPromoItemsInBill(billNo, BillOut, 4, billPromoDtl);  // Print Promotion Items in Bill for this billno.
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            if (clsGlobalVarClass.gPointsOnBillPrint)
//            {
//                String sqlCRMPoints = "select b.dblPoints from " + billhd + " a, tblcrmpoints b "
//                        + " where a.strBillNo=b.strBillNo and a.strClientCode=b.strClientCode "
//                        + " and a.strBillNo='" + billNo + "' and a.strPOSCode='" + POSCode + "' ";
//                ResultSet rsCRMPoints = clsGlobalVarClass.dbMysql.executeResultSet(sqlCRMPoints);
//                if (rsCRMPoints.next())
//                {
//                    funWriteTotal("POINTS ", rsCRMPoints.getString(1), BillOut, "Format5");
//                }
//                rsCRMPoints.close();
//                BillOut.newLine();
//            }
//            if (flgComplimentaryBill)
//            {
//                funWriteTotal("SUB TOTAL", "0.00", BillOut, "Format5");
//                BillOut.newLine();
//            }
//            else
//            {
//                funWriteTotal("SUB TOTAL", subTotal, BillOut, "Format5");
//                BillOut.newLine();
//            }
//            sql = "select a.dblDiscPer,a.dblDiscAmt,a.strDiscOnType,a.strDiscOnValue,b.strReasonName,a.strDiscRemarks "
//                    + " from " + billDscFrom + " a ,tblreasonmaster b," + billhd + " c "
//                    + " where  a.strDiscReasonCode=b.strReasonCode and a.strBillNo=c.strBillNo "
//                    + " and a.strClientCode=c.strClientCode and a.strBillNo='" + billNo + "' and c.strPOSCode='" + POSCode + "' ";
//            ResultSet rsDisc = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//            boolean flag = true;
//            while (rsDisc.next())
//            {
//                if (flag)
//                {
//                    flag = false;
//                    BillOut.write("  DISCOUNT");
//                    BillOut.newLine();
//                }
//                double dbl = Double.parseDouble(rsDisc.getString("dblDiscPer"));
//                String discText = String.format("%.1f", dbl) + "%" + " On " + rsDisc.getString("strDiscOnValue") + "";
//                if (discText.length() > 30)
//                {
//                    discText = discText.substring(0, 30);
//                }
//                else
//                {
//                    discText = String.format("%-30s", discText);
//                }
//                BillOut.write("  " + discText);
//                String discountOnItem = objUtility.funPrintTextWithAlignment(rsDisc.getString("dblDiscAmt"), 8, "Right");
//                BillOut.write(discountOnItem);
//                BillOut.newLine();
//                BillOut.write("  Reason  : ");
//                String discReason = objUtility.funPrintTextWithAlignment(rsDisc.getString(5), 20, "Left");
//                BillOut.write(discReason);
//                BillOut.newLine();
//                BillOut.write("  Remarks : ");
//                String discRemarks = objUtility.funPrintTextWithAlignment(rsDisc.getString(6), 20, "Left");
//                BillOut.write(discRemarks);
//                BillOut.newLine();
//
//            }
//            String sql_Tax = "select b.strTaxDesc,sum(a.dblTaxAmount) "
//                    + " from " + billtaxdtl + " a,tbltaxhd b," + billhd + " c "
//                    + " where a.strBillNo='" + billNo + "' "
//                    + " and a.strTaxCode=b.strTaxCode "
//                    + " and a.strBillNo=c.strBillNo "
//                    + " and a.strClientCode=c.strClientCode "
//                    + " and c.strPOSCode='" + POSCode + "' "
//                    + " and b.strTaxCalculation='Forward' "
//                    + " group by a.strTaxCode";
//            ResultSet rsTax = clsGlobalVarClass.dbMysql.executeResultSet(sql_Tax);
//            while (rsTax.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    funWriteTotal(rsTax.getString(1), "0.00", BillOut, "Format5");
//                    BillOut.newLine();
//                }
//                else
//                {
//                    funWriteTotal(rsTax.getString(1), rsTax.getString(2), BillOut, "Format5");
//                    BillOut.newLine();
//                }
//            }
//            if (deliveryCharge != null && deliveryCharge.trim().length() > 0 && !"0.00".equalsIgnoreCase(deliveryCharge))
//            {
//                funWriteTotal("DELV. CHARGE", deliveryCharge, BillOut, "Format5");
//                BillOut.newLine();
//            }
//            if (advAmount.trim().length() > 0 && !"0.00".equalsIgnoreCase(advAmount))
//            {
//                funWriteTotal("ADVANCE", advAmount, BillOut, "Format5");
//                BillOut.newLine();
//            }
//            BillOut.write(Linefor5);
//            BillOut.newLine();
//            if (flgComplimentaryBill)
//            {
//                funWriteTotal("TOTAL(ROUNDED)", "0.00", BillOut, "Format5");
//                BillOut.newLine();
//                BillOut.write(Linefor5);
//            }
//            else
//            {
//                funWriteTotal("TOTAL(ROUNDED)", grandTotal, BillOut, "Format5");
//                BillOut.newLine();
//                BillOut.write(Linefor5);
//            }
//
//            //print Grand total of other bill nos from bill series
//            if (clsGlobalVarClass.gEnableBillSeries)
//            {
//                String sqlPrintGT = "select a.strPrintGTOfOtherBills,b.strDtlBillNos,b.dblGrandTotal "
//                        + "from tblbillseries a,tblbillseriesbilldtl b "
//                        + "where (a.strPOSCode=b.strPOSCode or a.strPOSCode='All') "
//                        + "and a.strBillSeries=b.strBillSeries "
//                        + "and b.strHdBillNo='" + billNo + "' and b.strPOSCode='" + POSCode + "' ";
//                ResultSet rsPrintGTYN = clsGlobalVarClass.dbMysql.executeResultSet(sqlPrintGT);
//                double dblOtherBillsGT = 0.00;
//                if (rsPrintGTYN.next())
//                {
//                    if (rsPrintGTYN.getString(1).equalsIgnoreCase("Y"))
//                    {
//                        String billSeriesDtlBillNos = rsPrintGTYN.getString(2);
//                        String[] dtlBillSeriesBillNo = billSeriesDtlBillNos.split(",");
//                        dblOtherBillsGT += rsPrintGTYN.getDouble(3);
//                        if (dtlBillSeriesBillNo.length > 0)
//                        {
//                            for (int i = 0; i < dtlBillSeriesBillNo.length; i++)
//                            {
//                                sqlPrintGT = "select a.strHdBillNo,a.dblGrandTotal "
//                                        + "from tblbillseriesbilldtl a "
//                                        + "where a.strHdBillNo='" + dtlBillSeriesBillNo[i] + "' and a.strPOSCode='" + POSCode + "' ";
//                                ResultSet rsPrintGT = clsGlobalVarClass.dbMysql.executeResultSet(sqlPrintGT);
//                                if (rsPrintGT.next())
//                                {
//                                    BillOut.newLine();
//                                    funWriteTotal(dtlBillSeriesBillNo[i] + " TOTAL(ROUNDED)", rsPrintGT.getString(2), BillOut, "Format5");
//                                    dblOtherBillsGT += rsPrintGT.getDouble(2);
//                                    BillOut.newLine();
//                                }
//                            }
//                            BillOut.write(Linefor5);
//                            BillOut.newLine();
//                            funWriteTotal("GRAND TOTAL(ROUNDED)", String.valueOf(dblOtherBillsGT), BillOut, "Format5");
//                            BillOut.newLine();
//                            BillOut.write(Linefor5);
//                            BillOut.newLine();
//                        }
//                    }
//                }
//            }
//
//            //settlement breakup part
//            String sqlSettlementBreakup = "select a.dblSettlementAmt, b.strSettelmentDesc, b.strSettelmentType "
//                    + " from " + billSettlementdtl + " a ,tblsettelmenthd b," + billhd + " c "
//                    + " where a.strBillNo=? and a.strBillNo=c.strBillNo and a.strClientCode=c.strClientCode "
//                    + " and a.strSettlementCode=b.strSettelmentCode and c.strPOSCode=? ";
//            pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sqlSettlementBreakup);
//            pst.setString(1, billNo);
//            pst.setString(2, POSCode);
//            boolean flgSettlement = false;
//            boolean creditSettlement = false;
//            ResultSet rsBillSettlement = pst.executeQuery();
//            while (rsBillSettlement.next())
//            {
//                if (flgComplimentaryBill)
//                {
//                    BillOut.newLine();
//                    funWriteTotal(rsBillSettlement.getString(2), "0.00", BillOut, "Format5");
//                }
//                else
//                {
//                    BillOut.newLine();
//                    funWriteTotal(rsBillSettlement.getString(2), rsBillSettlement.getString(1), BillOut, "Format5");
//                }
//                flgSettlement = true;
//                if (rsBillSettlement.getString(3).equals("Credit"))
//                {
//                    creditSettlement = true;
//                }
//            }
//            rsBillSettlement.close();
//
//            if (flgSettlement)
//            {
//                BillOut.newLine();
//                if (creditSettlement)
//                {
//                    funWriteTotal("Credit Remarks ", rs_BillHD.getString(11), BillOut, "Format5");
//                    BillOut.newLine();
//                    String custName = rs_BillHD.getString(24);
//                    if (!custName.isEmpty())
//                    {
//                        funWriteTotal("Customer " + custName, "", BillOut, "Format5");
//                    }
//                    BillOut.newLine();
//                    BillOut.write(Linefor5);
//                }
//            }
//
//            String sqlTenderAmt = "select sum(a.dblPaidAmt),sum(a.dblSettlementAmt),(sum(a.dblPaidAmt)-sum(a.dblSettlementAmt)) RefundAmt "
//                    + " from " + billSettlementdtl + " a," + billhd + " b "
//                    + " where a.strBillNo=b.strBillNo and a.strClientCode=b.strClientCode "
//                    + " and b.strBillNo='" + billNo + "' and b.strPOSCode='" + POSCode + "' "
//                    + " group by a.strBillNo";
//            ResultSet rsTenderAmt = clsGlobalVarClass.dbMysql.executeResultSet(sqlTenderAmt);
//            if (rsTenderAmt.next())
//            {
//                BillOut.newLine();
//                if (flgComplimentaryBill)
//                {
//                    funWriteTotal("PAID AMT", "0.00", BillOut, "Format5");
//                    BillOut.newLine();
//                }
//                else
//                {
//                    funWriteTotal("PAID AMT", rsTenderAmt.getString(1), BillOut, "Format5");
//                    BillOut.newLine();
//                    if (rsTenderAmt.getDouble(3) > 0)
//                    {
//                        funWriteTotal("REFUND AMT", rsTenderAmt.getString(3), BillOut, "Format5");
//                        BillOut.newLine();
//                    }
//                }
//                BillOut.write(Linefor5);
//            }
//            rsTenderAmt.close();
//
//            if (rs_BillHD.getDouble(29) > 0)
//            {
//                BillOut.newLine();
//                funWriteTotal("TIP AMT", rs_BillHD.getString(29), BillOut, "Format5");
//                BillOut.newLine();
//            }
//            if (flag_isHomeDelvBill)
//            {
//                BillOut.newLine();
//                String sql_count = "select count(*) from tblhomedelivery where strCustomerCode=?";
//                pst = clsGlobalVarClass.conPrepareStatement.prepareStatement(sql_count);
//                pst.setString(1, customerCode);
//                ResultSet rs_Count = pst.executeQuery();
//                rs_Count.next();
//                BillOut.write("  CUSTOMER COUNT : " + rs_Count.getString(1));
//                rs_Count.close();
//                BillOut.newLine();
//                BillOut.write(Linefor5);
//            }
//            BillOut.newLine();
//
//            funPrintServiceVatNo(BillOut, 4, billNo, billDate, billtaxdtl);
//
//            if (clsGlobalVarClass.gEnableBillSeries)
//            {
//                sql = "select b.strPrintInclusiveOfTaxOnBill "
//                        + " from tblbillseriesbilldtl a,tblbillseries b "
//                        + " where a.strBillSeries=b.strBillSeries and a.strHdBillNo='" + billNo + "' and a.strClientCode=b.strClientCode";
//                ResultSet rsBillSeries = clsGlobalVarClass.dbMysql.executeResultSet(sql);
//                if (rsBillSeries.next())
//                {
//                    if (rsBillSeries.getString(1).equals("Y"))
//                    {
//                        BillOut.write(Line);
//                        BillOut.newLine();
//                        funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                        BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                        BillOut.newLine();
//                    }
//                }
//                rsBillSeries.close();
//            }
//            else
//            {
//                if (clsGlobalVarClass.gPrintInclusiveOfAllTaxes.equalsIgnoreCase("Y"))
//                {
//                    BillOut.write(Line);
//                    BillOut.newLine();
//                    funPrintBlankSpace("(INCLUSIVE OF ALL TAXES)", BillOut);
//                    BillOut.write("(INCLUSIVE OF ALL TAXES)");
//                    BillOut.newLine();
//                }
//            }
//
//            int num = clsGlobalVarClass.gBillFooter.trim().length() / 30;
//            int num1 = clsGlobalVarClass.gBillFooter.trim().length() % 30;
//            int cnt1 = 0;
//            for (int cnt = 0; cnt < num; cnt++)
//            {
//                String footer = clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + 30));
//                footer = footer.replaceAll("\n", "");
//                BillOut.write("     " + footer.trim());
//                BillOut.newLine();
//                cnt1 += 30;
//            }
//            BillOut.write("     " + clsGlobalVarClass.gBillFooter.trim().substring(cnt1, (cnt1 + num1)).trim());
//            BillOut.newLine();
//            funPrintBlankSpace(user, BillOut);
//            BillOut.write(user);
//            BillOut.newLine();
//            BillOut.newLine();
//            BillOut.newLine();
//            BillOut.newLine();
//            BillOut.newLine();
//
//            if (!clsGlobalVarClass.gOpenCashDrawerAfterBillPrintYN)
//            {
//                if ("linux".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//                {
//                    BillOut.write("V");//Linux
//                }
//                else if ("windows".equalsIgnoreCase(clsPosConfigFile.gPrintOS))
//                {
//                    if ("Inbuild".equalsIgnoreCase(clsPosConfigFile.gPrinterType))
//                    {
//                        BillOut.write("V");
//                    }
//                    else
//                    {
//                        BillOut.write("m");//windows
//                    }
//                }
//            }
//            rs_BillHD.close();
//            BillOut.close();
//            fstream_bill.close();
//            pst.close();
//
//            if (formName.equalsIgnoreCase("sales report"))
//            {
//                funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//            }
//            else
//            {
//                if (clsGlobalVarClass.gShowBill)
//                {
//                    funShowTextFile(Text_Bill, formName, clsGlobalVarClass.gBillPrintPrinterPort);
//                }
//            }
//
//            if (!formName.equalsIgnoreCase("sales report"))
//            {
//                if (transType.equalsIgnoreCase("void"))
//                {
//                    if (clsGlobalVarClass.gPrintOnVoidBill)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                }
//                else
//                {
//                    if (!clsGlobalVarClass.flgReprintView)
//                    {
//                        if (!viewORprint.equalsIgnoreCase("view"))
//                        {
//                            funPrintToPrinter(clsGlobalVarClass.gBillPrintPrinterPort, "", "bill", "N", isReprint);
//                        }
//                    }
//                    else
//                    {
//                        clsGlobalVarClass.flgReprintView = false;
//                    }
//                }
//            }
//            //if (formName.equalsIgnoreCase("sales report"))
//
//        }
//        catch (Exception e)
//        {
//            e.printStackTrace();
//        }
//    }
//
//    private void funPrintJasperExporterInThread(JasperPrint print)
//    {
//        JRPrintServiceExporter exporter = new JRPrintServiceExporter();
//
//        //--- Set print properties
//        PrintRequestAttributeSet printRequestAttributeSet = new HashPrintRequestAttributeSet();
//        // printRequestAttributeSet.add(MediaSizeName.ISO_A6);
//        printRequestAttributeSet.add(MediaSizeName.MONARCH_ENVELOPE);
//
//        printRequestAttributeSet.add(new Copies(1));
//
//        //----------------------------------------------------     
//        //printRequestAttributeSet.add(new Destination(new java.net.URI("file:d:/output/report.ps")));
//        //----------------------------------------------------     
//        PrintServiceAttributeSet printServiceAttributeSet = new HashPrintServiceAttributeSet();
//
//        String billPrinterName = clsGlobalVarClass.gBillPrintPrinterPort;
//
//        billPrinterName = billPrinterName.replaceAll("#", "\\\\");
//        printServiceAttributeSet.add(new PrinterName(billPrinterName, null));
//
//        //--- Set print parameters      
//        exporter.setParameter(JRExporterParameter.JASPER_PRINT, print);
//        exporter.setParameter(JRPrintServiceExporterParameter.PRINT_REQUEST_ATTRIBUTE_SET, printRequestAttributeSet);
//        exporter.setParameter(JRPrintServiceExporterParameter.PRINT_SERVICE_ATTRIBUTE_SET, printServiceAttributeSet);
//        exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PAGE_DIALOG, Boolean.FALSE);
//        exporter.setParameter(JRPrintServiceExporterParameter.DISPLAY_PRINT_DIALOG, Boolean.FALSE);
//
//        //--- Print the documentfunAdvancedOrderTextFileGenerator
//        try
//        {
//            exporter.exportReport();
//        }
//        catch (JRException e)
//        {
//            e.printStackTrace();
//        }
//
//    }
//
//}
